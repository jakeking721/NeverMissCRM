(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function kn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function MI(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Qp={exports:{}},_l={},Jp={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1;function LI(){if(k1)return Be;k1=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function g(M){return M===null||typeof M!="object"?null:(M=m&&M[m]||M["@@iterator"],typeof M=="function"?M:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function S(M,B,de){this.props=M,this.context=B,this.refs=b,this.updater=de||x}S.prototype.isReactComponent={},S.prototype.setState=function(M,B){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,B,"setState")},S.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function j(){}j.prototype=S.prototype;function C(M,B,de){this.props=M,this.context=B,this.refs=b,this.updater=de||x}var E=C.prototype=new j;E.constructor=C,w(E,S.prototype),E.isPureReactComponent=!0;var P=Array.isArray,N=Object.prototype.hasOwnProperty,A={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function D(M,B,de){var _e,ee={},le=null,Q=null;if(B!=null)for(_e in B.ref!==void 0&&(Q=B.ref),B.key!==void 0&&(le=""+B.key),B)N.call(B,_e)&&!T.hasOwnProperty(_e)&&(ee[_e]=B[_e]);var pe=arguments.length-2;if(pe===1)ee.children=de;else if(1<pe){for(var G=Array(pe),ae=0;ae<pe;ae++)G[ae]=arguments[ae+2];ee.children=G}if(M&&M.defaultProps)for(_e in pe=M.defaultProps,pe)ee[_e]===void 0&&(ee[_e]=pe[_e]);return{$$typeof:e,type:M,key:le,ref:Q,props:ee,_owner:A.current}}function F(M,B){return{$$typeof:e,type:M.type,key:B,ref:M.ref,props:M.props,_owner:M._owner}}function z(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function L(M){var B={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(de){return B[de]})}var H=/\/+/g;function ne(M,B){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):B.toString(36)}function ce(M,B,de,_e,ee){var le=typeof M;(le==="undefined"||le==="boolean")&&(M=null);var Q=!1;if(M===null)Q=!0;else switch(le){case"string":case"number":Q=!0;break;case"object":switch(M.$$typeof){case e:case t:Q=!0}}if(Q)return Q=M,ee=ee(Q),M=_e===""?"."+ne(Q,0):_e,P(ee)?(de="",M!=null&&(de=M.replace(H,"$&/")+"/"),ce(ee,B,de,"",function(ae){return ae})):ee!=null&&(z(ee)&&(ee=F(ee,de+(!ee.key||Q&&Q.key===ee.key?"":(""+ee.key).replace(H,"$&/")+"/")+M)),B.push(ee)),1;if(Q=0,_e=_e===""?".":_e+":",P(M))for(var pe=0;pe<M.length;pe++){le=M[pe];var G=_e+ne(le,pe);Q+=ce(le,B,de,G,ee)}else if(G=g(M),typeof G=="function")for(M=G.call(M),pe=0;!(le=M.next()).done;)le=le.value,G=_e+ne(le,pe++),Q+=ce(le,B,de,G,ee);else if(le==="object")throw B=String(M),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Q}function fe(M,B,de){if(M==null)return M;var _e=[],ee=0;return ce(M,_e,"","",function(le){return B.call(de,le,ee++)}),_e}function K(M){if(M._status===-1){var B=M._result;B=B(),B.then(function(de){(M._status===0||M._status===-1)&&(M._status=1,M._result=de)},function(de){(M._status===0||M._status===-1)&&(M._status=2,M._result=de)}),M._status===-1&&(M._status=0,M._result=B)}if(M._status===1)return M._result.default;throw M._result}var q={current:null},Y={transition:null},Z={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:Y,ReactCurrentOwner:A};function te(){throw Error("act(...) is not supported in production builds of React.")}return Be.Children={map:fe,forEach:function(M,B,de){fe(M,function(){B.apply(this,arguments)},de)},count:function(M){var B=0;return fe(M,function(){B++}),B},toArray:function(M){return fe(M,function(B){return B})||[]},only:function(M){if(!z(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Be.Component=S,Be.Fragment=r,Be.Profiler=i,Be.PureComponent=C,Be.StrictMode=n,Be.Suspense=u,Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Be.act=te,Be.cloneElement=function(M,B,de){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var _e=w({},M.props),ee=M.key,le=M.ref,Q=M._owner;if(B!=null){if(B.ref!==void 0&&(le=B.ref,Q=A.current),B.key!==void 0&&(ee=""+B.key),M.type&&M.type.defaultProps)var pe=M.type.defaultProps;for(G in B)N.call(B,G)&&!T.hasOwnProperty(G)&&(_e[G]=B[G]===void 0&&pe!==void 0?pe[G]:B[G])}var G=arguments.length-2;if(G===1)_e.children=de;else if(1<G){pe=Array(G);for(var ae=0;ae<G;ae++)pe[ae]=arguments[ae+2];_e.children=pe}return{$$typeof:e,type:M.type,key:ee,ref:le,props:_e,_owner:Q}},Be.createContext=function(M){return M={$$typeof:o,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:a,_context:M},M.Consumer=M},Be.createElement=D,Be.createFactory=function(M){var B=D.bind(null,M);return B.type=M,B},Be.createRef=function(){return{current:null}},Be.forwardRef=function(M){return{$$typeof:c,render:M}},Be.isValidElement=z,Be.lazy=function(M){return{$$typeof:f,_payload:{_status:-1,_result:M},_init:K}},Be.memo=function(M,B){return{$$typeof:d,type:M,compare:B===void 0?null:B}},Be.startTransition=function(M){var B=Y.transition;Y.transition={};try{M()}finally{Y.transition=B}},Be.unstable_act=te,Be.useCallback=function(M,B){return q.current.useCallback(M,B)},Be.useContext=function(M){return q.current.useContext(M)},Be.useDebugValue=function(){},Be.useDeferredValue=function(M){return q.current.useDeferredValue(M)},Be.useEffect=function(M,B){return q.current.useEffect(M,B)},Be.useId=function(){return q.current.useId()},Be.useImperativeHandle=function(M,B,de){return q.current.useImperativeHandle(M,B,de)},Be.useInsertionEffect=function(M,B){return q.current.useInsertionEffect(M,B)},Be.useLayoutEffect=function(M,B){return q.current.useLayoutEffect(M,B)},Be.useMemo=function(M,B){return q.current.useMemo(M,B)},Be.useReducer=function(M,B,de){return q.current.useReducer(M,B,de)},Be.useRef=function(M){return q.current.useRef(M)},Be.useState=function(M){return q.current.useState(M)},Be.useSyncExternalStore=function(M,B,de){return q.current.useSyncExternalStore(M,B,de)},Be.useTransition=function(){return q.current.useTransition()},Be.version="18.3.1",Be}var E1;function ko(){return E1||(E1=1,Jp.exports=LI()),Jp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C1;function $I(){if(C1)return _l;C1=1;var e=ko(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(c,u,d){var f,m={},g=null,x=null;d!==void 0&&(g=""+d),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(x=u.ref);for(f in u)n.call(u,f)&&!a.hasOwnProperty(f)&&(m[f]=u[f]);if(c&&c.defaultProps)for(f in u=c.defaultProps,u)m[f]===void 0&&(m[f]=u[f]);return{$$typeof:t,type:c,key:g,ref:x,props:m,_owner:i.current}}return _l.Fragment=r,_l.jsx=o,_l.jsxs=o,_l}var P1;function BI(){return P1||(P1=1,Qp.exports=$I()),Qp.exports}var p=BI(),y=ko();const ge=kn(y);var Kc={},Zp={exports:{}},Dr={},em={exports:{}},tm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N1;function FI(){return N1||(N1=1,function(e){function t(Y,Z){var te=Y.length;Y.push(Z);e:for(;0<te;){var M=te-1>>>1,B=Y[M];if(0<i(B,Z))Y[M]=Z,Y[te]=B,te=M;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var Z=Y[0],te=Y.pop();if(te!==Z){Y[0]=te;e:for(var M=0,B=Y.length,de=B>>>1;M<de;){var _e=2*(M+1)-1,ee=Y[_e],le=_e+1,Q=Y[le];if(0>i(ee,te))le<B&&0>i(Q,ee)?(Y[M]=Q,Y[le]=te,M=le):(Y[M]=ee,Y[_e]=te,M=_e);else if(le<B&&0>i(Q,te))Y[M]=Q,Y[le]=te,M=le;else break e}}return Z}function i(Y,Z){var te=Y.sortIndex-Z.sortIndex;return te!==0?te:Y.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var u=[],d=[],f=1,m=null,g=3,x=!1,w=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(Y){for(var Z=r(d);Z!==null;){if(Z.callback===null)n(d);else if(Z.startTime<=Y)n(d),Z.sortIndex=Z.expirationTime,t(u,Z);else break;Z=r(d)}}function P(Y){if(b=!1,E(Y),!w)if(r(u)!==null)w=!0,K(N);else{var Z=r(d);Z!==null&&q(P,Z.startTime-Y)}}function N(Y,Z){w=!1,b&&(b=!1,j(D),D=-1),x=!0;var te=g;try{for(E(Z),m=r(u);m!==null&&(!(m.expirationTime>Z)||Y&&!L());){var M=m.callback;if(typeof M=="function"){m.callback=null,g=m.priorityLevel;var B=M(m.expirationTime<=Z);Z=e.unstable_now(),typeof B=="function"?m.callback=B:m===r(u)&&n(u),E(Z)}else n(u);m=r(u)}if(m!==null)var de=!0;else{var _e=r(d);_e!==null&&q(P,_e.startTime-Z),de=!1}return de}finally{m=null,g=te,x=!1}}var A=!1,T=null,D=-1,F=5,z=-1;function L(){return!(e.unstable_now()-z<F)}function H(){if(T!==null){var Y=e.unstable_now();z=Y;var Z=!0;try{Z=T(!0,Y)}finally{Z?ne():(A=!1,T=null)}}else A=!1}var ne;if(typeof C=="function")ne=function(){C(H)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,fe=ce.port2;ce.port1.onmessage=H,ne=function(){fe.postMessage(null)}}else ne=function(){S(H,0)};function K(Y){T=Y,A||(A=!0,ne())}function q(Y,Z){D=S(function(){Y(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){w||x||(w=!0,K(N))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(Y){switch(g){case 1:case 2:case 3:var Z=3;break;default:Z=g}var te=g;g=Z;try{return Y()}finally{g=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,Z){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var te=g;g=Y;try{return Z()}finally{g=te}},e.unstable_scheduleCallback=function(Y,Z,te){var M=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?M+te:M):te=M,Y){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=te+B,Y={id:f++,callback:Z,priorityLevel:Y,startTime:te,expirationTime:B,sortIndex:-1},te>M?(Y.sortIndex=te,t(d,Y),r(u)===null&&Y===r(d)&&(b?(j(D),D=-1):b=!0,q(P,te-M))):(Y.sortIndex=B,t(u,Y),w||x||(w=!0,K(N))),Y},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(Y){var Z=g;return function(){var te=g;g=Z;try{return Y.apply(this,arguments)}finally{g=te}}}}(tm)),tm}var O1;function zI(){return O1||(O1=1,em.exports=FI()),em.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A1;function UI(){if(A1)return Dr;A1=1;var e=ko(),t=zI();function r(s){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+s,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(s,l){o(s,l),o(s+"Capture",l)}function o(s,l){for(i[s]=l,s=0;s<l.length;s++)n.add(l[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function g(s){return u.call(m,s)?!0:u.call(f,s)?!1:d.test(s)?m[s]=!0:(f[s]=!0,!1)}function x(s,l,h,v){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return v?!1:h!==null?!h.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function w(s,l,h,v){if(l===null||typeof l>"u"||x(s,l,h,v))return!0;if(v)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function b(s,l,h,v,_,k,O){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=v,this.attributeNamespace=_,this.mustUseProperty=h,this.propertyName=s,this.type=l,this.sanitizeURL=k,this.removeEmptyString=O}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){S[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var l=s[0];S[l]=new b(l,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){S[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){S[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){S[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){S[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){S[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){S[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){S[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function C(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var l=s.replace(j,C);S[l]=new b(l,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var l=s.replace(j,C);S[l]=new b(l,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var l=s.replace(j,C);S[l]=new b(l,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){S[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),S.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){S[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function E(s,l,h,v){var _=S.hasOwnProperty(l)?S[l]:null;(_!==null?_.type!==0:v||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(w(l,h,_,v)&&(h=null),v||_===null?g(l)&&(h===null?s.removeAttribute(l):s.setAttribute(l,""+h)):_.mustUseProperty?s[_.propertyName]=h===null?_.type===3?!1:"":h:(l=_.attributeName,v=_.attributeNamespace,h===null?s.removeAttribute(l):(_=_.type,h=_===3||_===4&&h===!0?"":""+h,v?s.setAttributeNS(v,l,h):s.setAttribute(l,h))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),A=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),L=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),Y=Symbol.iterator;function Z(s){return s===null||typeof s!="object"?null:(s=Y&&s[Y]||s["@@iterator"],typeof s=="function"?s:null)}var te=Object.assign,M;function B(s){if(M===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);M=l&&l[1]||""}return`
`+M+s}var de=!1;function _e(s,l){if(!s||de)return"";de=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(V){var v=V}Reflect.construct(s,[],l)}else{try{l.call()}catch(V){v=V}s.call(l.prototype)}else{try{throw Error()}catch(V){v=V}s()}}catch(V){if(V&&v&&typeof V.stack=="string"){for(var _=V.stack.split(`
`),k=v.stack.split(`
`),O=_.length-1,I=k.length-1;1<=O&&0<=I&&_[O]!==k[I];)I--;for(;1<=O&&0<=I;O--,I--)if(_[O]!==k[I]){if(O!==1||I!==1)do if(O--,I--,0>I||_[O]!==k[I]){var R=`
`+_[O].replace(" at new "," at ");return s.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",s.displayName)),R}while(1<=O&&0<=I);break}}}finally{de=!1,Error.prepareStackTrace=h}return(s=s?s.displayName||s.name:"")?B(s):""}function ee(s){switch(s.tag){case 5:return B(s.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return s=_e(s.type,!1),s;case 11:return s=_e(s.type.render,!1),s;case 1:return s=_e(s.type,!0),s;default:return""}}function le(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case A:return"Portal";case F:return"Profiler";case D:return"StrictMode";case ne:return"Suspense";case ce:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case z:return(s._context.displayName||"Context")+".Provider";case H:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case fe:return l=s.displayName||null,l!==null?l:le(s.type)||"Memo";case K:l=s._payload,s=s._init;try{return le(s(l))}catch{}}return null}function Q(s){var l=s.type;switch(s.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=l.render,s=s.displayName||s.name||"",l.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(l);case 8:return l===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function pe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function G(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ae(s){var l=G(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),v=""+s[l];if(!s.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var _=h.get,k=h.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return _.call(this)},set:function(O){v=""+O,k.call(this,O)}}),Object.defineProperty(s,l,{enumerable:h.enumerable}),{getValue:function(){return v},setValue:function(O){v=""+O},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Ee(s){s._valueTracker||(s._valueTracker=ae(s))}function re(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var h=l.getValue(),v="";return s&&(v=G(s)?s.checked?"true":"false":s.value),s=v,s!==h?(l.setValue(s),!0):!1}function qe(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ie(s,l){var h=l.checked;return te({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??s._wrapperState.initialChecked})}function ut(s,l){var h=l.defaultValue==null?"":l.defaultValue,v=l.checked!=null?l.checked:l.defaultChecked;h=pe(l.value!=null?l.value:h),s._wrapperState={initialChecked:v,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Le(s,l){l=l.checked,l!=null&&E(s,"checked",l,!1)}function Mt(s,l){Le(s,l);var h=pe(l.value),v=l.type;if(h!=null)v==="number"?(h===0&&s.value===""||s.value!=h)&&(s.value=""+h):s.value!==""+h&&(s.value=""+h);else if(v==="submit"||v==="reset"){s.removeAttribute("value");return}l.hasOwnProperty("value")?pi(s,l.type,h):l.hasOwnProperty("defaultValue")&&pi(s,l.type,pe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(s.defaultChecked=!!l.defaultChecked)}function Gn(s,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var v=l.type;if(!(v!=="submit"&&v!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+s._wrapperState.initialValue,h||l===s.value||(s.value=l),s.defaultValue=l}h=s.name,h!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,h!==""&&(s.name=h)}function pi(s,l,h){(l!=="number"||qe(s.ownerDocument)!==s)&&(h==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+h&&(s.defaultValue=""+h))}var fr=Array.isArray;function qr(s,l,h,v){if(s=s.options,l){l={};for(var _=0;_<h.length;_++)l["$"+h[_]]=!0;for(h=0;h<s.length;h++)_=l.hasOwnProperty("$"+s[h].value),s[h].selected!==_&&(s[h].selected=_),_&&v&&(s[h].defaultSelected=!0)}else{for(h=""+pe(h),l=null,_=0;_<s.length;_++){if(s[_].value===h){s[_].selected=!0,v&&(s[_].defaultSelected=!0);return}l!==null||s[_].disabled||(l=s[_])}l!==null&&(l.selected=!0)}}function Xn(s,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return te({},l,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Na(s,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(r(92));if(fr(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),h=l}s._wrapperState={initialValue:pe(h)}}function Vi(s,l){var h=pe(l.value),v=pe(l.defaultValue);h!=null&&(h=""+h,h!==s.value&&(s.value=h),l.defaultValue==null&&s.defaultValue!==h&&(s.defaultValue=h)),v!=null&&(s.defaultValue=""+v)}function Ss(s){var l=s.textContent;l===s._wrapperState.initialValue&&l!==""&&l!==null&&(s.value=l)}function js(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wr(s,l){return s==null||s==="http://www.w3.org/1999/xhtml"?js(l):s==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Kr,Qn=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,v,_){MSApp.execUnsafeLocalFunction(function(){return s(l,h,v,_)})}:s}(function(s,l){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=l;else{for(Kr=Kr||document.createElement("div"),Kr.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Kr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}});function Jn(s,l){if(l){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=l;return}}s.textContent=l}var J={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];Object.keys(J).forEach(function(s){me.forEach(function(l){l=l+s.charAt(0).toUpperCase()+s.substring(1),J[l]=J[s]})});function Me(s,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||J.hasOwnProperty(s)&&J[s]?(""+l).trim():l+"px"}function Re(s,l){s=s.style;for(var h in l)if(l.hasOwnProperty(h)){var v=h.indexOf("--")===0,_=Me(h,l[h],v);h==="float"&&(h="cssFloat"),v?s.setProperty(h,_):s[h]=_}}var He=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ze(s,l){if(l){if(He[s]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function Ke(s,l){if(s.indexOf("-")===-1)return typeof l.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mt=null;function tt(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var hr=null,jt=null,Ve=null;function $e(s){if(s=ol(s)){if(typeof hr!="function")throw Error(r(280));var l=s.stateNode;l&&(l=sc(l),hr(s.stateNode,s.type,l))}}function Ce(s){jt?Ve?Ve.push(s):Ve=[s]:jt=s}function Pe(){if(jt){var s=jt,l=Ve;if(Ve=jt=null,$e(s),l)for(s=0;s<l.length;s++)$e(l[s])}}function rt(s,l){return s(l)}function ot(){}var gt=!1;function Pr(s,l,h){if(gt)return s(l,h);gt=!0;try{return rt(s,l,h)}finally{gt=!1,(jt!==null||Ve!==null)&&(ot(),Pe())}}function nt(s,l){var h=s.stateNode;if(h===null)return null;var v=sc(h);if(v===null)return null;h=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,l,typeof h));return h}var sn=!1;if(c)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){sn=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{sn=!1}function Nn(s,l,h,v,_,k,O,I,R){var V=Array.prototype.slice.call(arguments,3);try{l.apply(h,V)}catch(se){this.onError(se)}}var On=!1,Zn=null,Hr=!1,mi=null,Uo={onError:function(s){On=!0,Zn=s}};function WA(s,l,h,v,_,k,O,I,R){On=!1,Zn=null,Nn.apply(Uo,arguments)}function KA(s,l,h,v,_,k,O,I,R){if(WA.apply(this,arguments),On){if(On){var V=Zn;On=!1,Zn=null}else throw Error(r(198));Hr||(Hr=!0,mi=V)}}function Oa(s){var l=s,h=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(h=l.return),s=l.return;while(s)}return l.tag===3?h:null}function Yx(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function Gx(s){if(Oa(s)!==s)throw Error(r(188))}function HA(s){var l=s.alternate;if(!l){if(l=Oa(s),l===null)throw Error(r(188));return l!==s?null:s}for(var h=s,v=l;;){var _=h.return;if(_===null)break;var k=_.alternate;if(k===null){if(v=_.return,v!==null){h=v;continue}break}if(_.child===k.child){for(k=_.child;k;){if(k===h)return Gx(_),s;if(k===v)return Gx(_),l;k=k.sibling}throw Error(r(188))}if(h.return!==v.return)h=_,v=k;else{for(var O=!1,I=_.child;I;){if(I===h){O=!0,h=_,v=k;break}if(I===v){O=!0,v=_,h=k;break}I=I.sibling}if(!O){for(I=k.child;I;){if(I===h){O=!0,h=k,v=_;break}if(I===v){O=!0,v=k,h=_;break}I=I.sibling}if(!O)throw Error(r(189))}}if(h.alternate!==v)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:l}function Xx(s){return s=HA(s),s!==null?Qx(s):null}function Qx(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var l=Qx(s);if(l!==null)return l;s=s.sibling}return null}var Jx=t.unstable_scheduleCallback,Zx=t.unstable_cancelCallback,VA=t.unstable_shouldYield,YA=t.unstable_requestPaint,Ot=t.unstable_now,GA=t.unstable_getCurrentPriorityLevel,vh=t.unstable_ImmediatePriority,eb=t.unstable_UserBlockingPriority,Fu=t.unstable_NormalPriority,XA=t.unstable_LowPriority,tb=t.unstable_IdlePriority,zu=null,ei=null;function QA(s){if(ei&&typeof ei.onCommitFiberRoot=="function")try{ei.onCommitFiberRoot(zu,s,void 0,(s.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:eT,JA=Math.log,ZA=Math.LN2;function eT(s){return s>>>=0,s===0?32:31-(JA(s)/ZA|0)|0}var Uu=64,qu=4194304;function qo(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Wu(s,l){var h=s.pendingLanes;if(h===0)return 0;var v=0,_=s.suspendedLanes,k=s.pingedLanes,O=h&268435455;if(O!==0){var I=O&~_;I!==0?v=qo(I):(k&=O,k!==0&&(v=qo(k)))}else O=h&~_,O!==0?v=qo(O):k!==0&&(v=qo(k));if(v===0)return 0;if(l!==0&&l!==v&&(l&_)===0&&(_=v&-v,k=l&-l,_>=k||_===16&&(k&4194240)!==0))return l;if((v&4)!==0&&(v|=h&16),l=s.entangledLanes,l!==0)for(s=s.entanglements,l&=v;0<l;)h=31-An(l),_=1<<h,v|=s[h],l&=~_;return v}function tT(s,l){switch(s){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rT(s,l){for(var h=s.suspendedLanes,v=s.pingedLanes,_=s.expirationTimes,k=s.pendingLanes;0<k;){var O=31-An(k),I=1<<O,R=_[O];R===-1?((I&h)===0||(I&v)!==0)&&(_[O]=tT(I,l)):R<=l&&(s.expiredLanes|=I),k&=~I}}function yh(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function rb(){var s=Uu;return Uu<<=1,(Uu&4194240)===0&&(Uu=64),s}function xh(s){for(var l=[],h=0;31>h;h++)l.push(s);return l}function Wo(s,l,h){s.pendingLanes|=l,l!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,l=31-An(l),s[l]=h}function nT(s,l){var h=s.pendingLanes&~l;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=l,s.mutableReadLanes&=l,s.entangledLanes&=l,l=s.entanglements;var v=s.eventTimes;for(s=s.expirationTimes;0<h;){var _=31-An(h),k=1<<_;l[_]=0,v[_]=-1,s[_]=-1,h&=~k}}function bh(s,l){var h=s.entangledLanes|=l;for(s=s.entanglements;h;){var v=31-An(h),_=1<<v;_&l|s[v]&l&&(s[v]|=l),h&=~_}}var it=0;function nb(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var ib,wh,ab,sb,ob,_h=!1,Ku=[],Yi=null,Gi=null,Xi=null,Ko=new Map,Ho=new Map,Qi=[],iT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lb(s,l){switch(s){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":Ko.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ho.delete(l.pointerId)}}function Vo(s,l,h,v,_,k){return s===null||s.nativeEvent!==k?(s={blockedOn:l,domEventName:h,eventSystemFlags:v,nativeEvent:k,targetContainers:[_]},l!==null&&(l=ol(l),l!==null&&wh(l)),s):(s.eventSystemFlags|=v,l=s.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),s)}function aT(s,l,h,v,_){switch(l){case"focusin":return Yi=Vo(Yi,s,l,h,v,_),!0;case"dragenter":return Gi=Vo(Gi,s,l,h,v,_),!0;case"mouseover":return Xi=Vo(Xi,s,l,h,v,_),!0;case"pointerover":var k=_.pointerId;return Ko.set(k,Vo(Ko.get(k)||null,s,l,h,v,_)),!0;case"gotpointercapture":return k=_.pointerId,Ho.set(k,Vo(Ho.get(k)||null,s,l,h,v,_)),!0}return!1}function ub(s){var l=Aa(s.target);if(l!==null){var h=Oa(l);if(h!==null){if(l=h.tag,l===13){if(l=Yx(h),l!==null){s.blockedOn=l,ob(s.priority,function(){ab(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Hu(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var h=jh(s.domEventName,s.eventSystemFlags,l[0],s.nativeEvent);if(h===null){h=s.nativeEvent;var v=new h.constructor(h.type,h);mt=v,h.target.dispatchEvent(v),mt=null}else return l=ol(h),l!==null&&wh(l),s.blockedOn=h,!1;l.shift()}return!0}function cb(s,l,h){Hu(s)&&h.delete(l)}function sT(){_h=!1,Yi!==null&&Hu(Yi)&&(Yi=null),Gi!==null&&Hu(Gi)&&(Gi=null),Xi!==null&&Hu(Xi)&&(Xi=null),Ko.forEach(cb),Ho.forEach(cb)}function Yo(s,l){s.blockedOn===l&&(s.blockedOn=null,_h||(_h=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,sT)))}function Go(s){function l(_){return Yo(_,s)}if(0<Ku.length){Yo(Ku[0],s);for(var h=1;h<Ku.length;h++){var v=Ku[h];v.blockedOn===s&&(v.blockedOn=null)}}for(Yi!==null&&Yo(Yi,s),Gi!==null&&Yo(Gi,s),Xi!==null&&Yo(Xi,s),Ko.forEach(l),Ho.forEach(l),h=0;h<Qi.length;h++)v=Qi[h],v.blockedOn===s&&(v.blockedOn=null);for(;0<Qi.length&&(h=Qi[0],h.blockedOn===null);)ub(h),h.blockedOn===null&&Qi.shift()}var ks=P.ReactCurrentBatchConfig,Vu=!0;function oT(s,l,h,v){var _=it,k=ks.transition;ks.transition=null;try{it=1,Sh(s,l,h,v)}finally{it=_,ks.transition=k}}function lT(s,l,h,v){var _=it,k=ks.transition;ks.transition=null;try{it=4,Sh(s,l,h,v)}finally{it=_,ks.transition=k}}function Sh(s,l,h,v){if(Vu){var _=jh(s,l,h,v);if(_===null)zh(s,l,v,Yu,h),lb(s,v);else if(aT(_,s,l,h,v))v.stopPropagation();else if(lb(s,v),l&4&&-1<iT.indexOf(s)){for(;_!==null;){var k=ol(_);if(k!==null&&ib(k),k=jh(s,l,h,v),k===null&&zh(s,l,v,Yu,h),k===_)break;_=k}_!==null&&v.stopPropagation()}else zh(s,l,v,null,h)}}var Yu=null;function jh(s,l,h,v){if(Yu=null,s=tt(v),s=Aa(s),s!==null)if(l=Oa(s),l===null)s=null;else if(h=l.tag,h===13){if(s=Yx(l),s!==null)return s;s=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null);return Yu=s,null}function db(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GA()){case vh:return 1;case eb:return 4;case Fu:case XA:return 16;case tb:return 536870912;default:return 16}default:return 16}}var Ji=null,kh=null,Gu=null;function fb(){if(Gu)return Gu;var s,l=kh,h=l.length,v,_="value"in Ji?Ji.value:Ji.textContent,k=_.length;for(s=0;s<h&&l[s]===_[s];s++);var O=h-s;for(v=1;v<=O&&l[h-v]===_[k-v];v++);return Gu=_.slice(s,1<v?1-v:void 0)}function Xu(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Qu(){return!0}function hb(){return!1}function Vr(s){function l(h,v,_,k,O){this._reactName=h,this._targetInst=_,this.type=v,this.nativeEvent=k,this.target=O,this.currentTarget=null;for(var I in s)s.hasOwnProperty(I)&&(h=s[I],this[I]=h?h(k):k[I]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Qu:hb,this.isPropagationStopped=hb,this}return te(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Qu)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Qu)},persist:function(){},isPersistent:Qu}),l}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eh=Vr(Es),Xo=te({},Es,{view:0,detail:0}),uT=Vr(Xo),Ch,Ph,Qo,Ju=te({},Xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Qo&&(Qo&&s.type==="mousemove"?(Ch=s.screenX-Qo.screenX,Ph=s.screenY-Qo.screenY):Ph=Ch=0,Qo=s),Ch)},movementY:function(s){return"movementY"in s?s.movementY:Ph}}),pb=Vr(Ju),cT=te({},Ju,{dataTransfer:0}),dT=Vr(cT),fT=te({},Xo,{relatedTarget:0}),Nh=Vr(fT),hT=te({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),pT=Vr(hT),mT=te({},Es,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),gT=Vr(mT),vT=te({},Es,{data:0}),mb=Vr(vT),yT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wT(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=bT[s])?!!l[s]:!1}function Oh(){return wT}var _T=te({},Xo,{key:function(s){if(s.key){var l=yT[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Xu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?xT[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oh,charCode:function(s){return s.type==="keypress"?Xu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Xu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ST=Vr(_T),jT=te({},Ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gb=Vr(jT),kT=te({},Xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oh}),ET=Vr(kT),CT=te({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),PT=Vr(CT),NT=te({},Ju,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),OT=Vr(NT),AT=[9,13,27,32],Ah=c&&"CompositionEvent"in window,Jo=null;c&&"documentMode"in document&&(Jo=document.documentMode);var TT=c&&"TextEvent"in window&&!Jo,vb=c&&(!Ah||Jo&&8<Jo&&11>=Jo),yb=" ",xb=!1;function bb(s,l){switch(s){case"keyup":return AT.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wb(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Cs=!1;function IT(s,l){switch(s){case"compositionend":return wb(l);case"keypress":return l.which!==32?null:(xb=!0,yb);case"textInput":return s=l.data,s===yb&&xb?null:s;default:return null}}function DT(s,l){if(Cs)return s==="compositionend"||!Ah&&bb(s,l)?(s=fb(),Gu=kh=Ji=null,Cs=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return vb&&l.locale!=="ko"?null:l.data;default:return null}}var RT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _b(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!RT[s.type]:l==="textarea"}function Sb(s,l,h,v){Ce(v),l=nc(l,"onChange"),0<l.length&&(h=new Eh("onChange","change",null,h,v),s.push({event:h,listeners:l}))}var Zo=null,el=null;function MT(s){zb(s,0)}function Zu(s){var l=Ts(s);if(re(l))return s}function LT(s,l){if(s==="change")return l}var jb=!1;if(c){var Th;if(c){var Ih="oninput"in document;if(!Ih){var kb=document.createElement("div");kb.setAttribute("oninput","return;"),Ih=typeof kb.oninput=="function"}Th=Ih}else Th=!1;jb=Th&&(!document.documentMode||9<document.documentMode)}function Eb(){Zo&&(Zo.detachEvent("onpropertychange",Cb),el=Zo=null)}function Cb(s){if(s.propertyName==="value"&&Zu(el)){var l=[];Sb(l,el,s,tt(s)),Pr(MT,l)}}function $T(s,l,h){s==="focusin"?(Eb(),Zo=l,el=h,Zo.attachEvent("onpropertychange",Cb)):s==="focusout"&&Eb()}function BT(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Zu(el)}function FT(s,l){if(s==="click")return Zu(l)}function zT(s,l){if(s==="input"||s==="change")return Zu(l)}function UT(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Tn=typeof Object.is=="function"?Object.is:UT;function tl(s,l){if(Tn(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var h=Object.keys(s),v=Object.keys(l);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var _=h[v];if(!u.call(l,_)||!Tn(s[_],l[_]))return!1}return!0}function Pb(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Nb(s,l){var h=Pb(s);s=0;for(var v;h;){if(h.nodeType===3){if(v=s+h.textContent.length,s<=l&&v>=l)return{node:h,offset:l-s};s=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Pb(h)}}function Ob(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?Ob(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function Ab(){for(var s=window,l=qe();l instanceof s.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)s=l.contentWindow;else break;l=qe(s.document)}return l}function Dh(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function qT(s){var l=Ab(),h=s.focusedElem,v=s.selectionRange;if(l!==h&&h&&h.ownerDocument&&Ob(h.ownerDocument.documentElement,h)){if(v!==null&&Dh(h)){if(l=v.start,s=v.end,s===void 0&&(s=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(s,h.value.length);else if(s=(l=h.ownerDocument||document)&&l.defaultView||window,s.getSelection){s=s.getSelection();var _=h.textContent.length,k=Math.min(v.start,_);v=v.end===void 0?k:Math.min(v.end,_),!s.extend&&k>v&&(_=v,v=k,k=_),_=Nb(h,k);var O=Nb(h,v);_&&O&&(s.rangeCount!==1||s.anchorNode!==_.node||s.anchorOffset!==_.offset||s.focusNode!==O.node||s.focusOffset!==O.offset)&&(l=l.createRange(),l.setStart(_.node,_.offset),s.removeAllRanges(),k>v?(s.addRange(l),s.extend(O.node,O.offset)):(l.setEnd(O.node,O.offset),s.addRange(l)))}}for(l=[],s=h;s=s.parentNode;)s.nodeType===1&&l.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)s=l[h],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var WT=c&&"documentMode"in document&&11>=document.documentMode,Ps=null,Rh=null,rl=null,Mh=!1;function Tb(s,l,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Mh||Ps==null||Ps!==qe(v)||(v=Ps,"selectionStart"in v&&Dh(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),rl&&tl(rl,v)||(rl=v,v=nc(Rh,"onSelect"),0<v.length&&(l=new Eh("onSelect","select",null,l,h),s.push({event:l,listeners:v}),l.target=Ps)))}function ec(s,l){var h={};return h[s.toLowerCase()]=l.toLowerCase(),h["Webkit"+s]="webkit"+l,h["Moz"+s]="moz"+l,h}var Ns={animationend:ec("Animation","AnimationEnd"),animationiteration:ec("Animation","AnimationIteration"),animationstart:ec("Animation","AnimationStart"),transitionend:ec("Transition","TransitionEnd")},Lh={},Ib={};c&&(Ib=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function tc(s){if(Lh[s])return Lh[s];if(!Ns[s])return s;var l=Ns[s],h;for(h in l)if(l.hasOwnProperty(h)&&h in Ib)return Lh[s]=l[h];return s}var Db=tc("animationend"),Rb=tc("animationiteration"),Mb=tc("animationstart"),Lb=tc("transitionend"),$b=new Map,Bb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zi(s,l){$b.set(s,l),a(l,[s])}for(var $h=0;$h<Bb.length;$h++){var Bh=Bb[$h],KT=Bh.toLowerCase(),HT=Bh[0].toUpperCase()+Bh.slice(1);Zi(KT,"on"+HT)}Zi(Db,"onAnimationEnd"),Zi(Rb,"onAnimationIteration"),Zi(Mb,"onAnimationStart"),Zi("dblclick","onDoubleClick"),Zi("focusin","onFocus"),Zi("focusout","onBlur"),Zi(Lb,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VT=new Set("cancel close invalid load scroll toggle".split(" ").concat(nl));function Fb(s,l,h){var v=s.type||"unknown-event";s.currentTarget=h,KA(v,l,void 0,s),s.currentTarget=null}function zb(s,l){l=(l&4)!==0;for(var h=0;h<s.length;h++){var v=s[h],_=v.event;v=v.listeners;e:{var k=void 0;if(l)for(var O=v.length-1;0<=O;O--){var I=v[O],R=I.instance,V=I.currentTarget;if(I=I.listener,R!==k&&_.isPropagationStopped())break e;Fb(_,I,V),k=R}else for(O=0;O<v.length;O++){if(I=v[O],R=I.instance,V=I.currentTarget,I=I.listener,R!==k&&_.isPropagationStopped())break e;Fb(_,I,V),k=R}}}if(Hr)throw s=mi,Hr=!1,mi=null,s}function vt(s,l){var h=l[Vh];h===void 0&&(h=l[Vh]=new Set);var v=s+"__bubble";h.has(v)||(Ub(l,s,2,!1),h.add(v))}function Fh(s,l,h){var v=0;l&&(v|=4),Ub(h,s,v,l)}var rc="_reactListening"+Math.random().toString(36).slice(2);function il(s){if(!s[rc]){s[rc]=!0,n.forEach(function(h){h!=="selectionchange"&&(VT.has(h)||Fh(h,!1,s),Fh(h,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[rc]||(l[rc]=!0,Fh("selectionchange",!1,l))}}function Ub(s,l,h,v){switch(db(l)){case 1:var _=oT;break;case 4:_=lT;break;default:_=Sh}h=_.bind(null,l,h,s),_=void 0,!sn||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),v?_!==void 0?s.addEventListener(l,h,{capture:!0,passive:_}):s.addEventListener(l,h,!0):_!==void 0?s.addEventListener(l,h,{passive:_}):s.addEventListener(l,h,!1)}function zh(s,l,h,v,_){var k=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var O=v.tag;if(O===3||O===4){var I=v.stateNode.containerInfo;if(I===_||I.nodeType===8&&I.parentNode===_)break;if(O===4)for(O=v.return;O!==null;){var R=O.tag;if((R===3||R===4)&&(R=O.stateNode.containerInfo,R===_||R.nodeType===8&&R.parentNode===_))return;O=O.return}for(;I!==null;){if(O=Aa(I),O===null)return;if(R=O.tag,R===5||R===6){v=k=O;continue e}I=I.parentNode}}v=v.return}Pr(function(){var V=k,se=tt(h),oe=[];e:{var ie=$b.get(s);if(ie!==void 0){var ye=Eh,we=s;switch(s){case"keypress":if(Xu(h)===0)break e;case"keydown":case"keyup":ye=ST;break;case"focusin":we="focus",ye=Nh;break;case"focusout":we="blur",ye=Nh;break;case"beforeblur":case"afterblur":ye=Nh;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=pb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=dT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=ET;break;case Db:case Rb:case Mb:ye=pT;break;case Lb:ye=PT;break;case"scroll":ye=uT;break;case"wheel":ye=OT;break;case"copy":case"cut":case"paste":ye=gT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=gb}var Se=(l&4)!==0,At=!Se&&s==="scroll",U=Se?ie!==null?ie+"Capture":null:ie;Se=[];for(var $=V,W;$!==null;){W=$;var ue=W.stateNode;if(W.tag===5&&ue!==null&&(W=ue,U!==null&&(ue=nt($,U),ue!=null&&Se.push(al($,ue,W)))),At)break;$=$.return}0<Se.length&&(ie=new ye(ie,we,null,h,se),oe.push({event:ie,listeners:Se}))}}if((l&7)===0){e:{if(ie=s==="mouseover"||s==="pointerover",ye=s==="mouseout"||s==="pointerout",ie&&h!==mt&&(we=h.relatedTarget||h.fromElement)&&(Aa(we)||we[gi]))break e;if((ye||ie)&&(ie=se.window===se?se:(ie=se.ownerDocument)?ie.defaultView||ie.parentWindow:window,ye?(we=h.relatedTarget||h.toElement,ye=V,we=we?Aa(we):null,we!==null&&(At=Oa(we),we!==At||we.tag!==5&&we.tag!==6)&&(we=null)):(ye=null,we=V),ye!==we)){if(Se=pb,ue="onMouseLeave",U="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(Se=gb,ue="onPointerLeave",U="onPointerEnter",$="pointer"),At=ye==null?ie:Ts(ye),W=we==null?ie:Ts(we),ie=new Se(ue,$+"leave",ye,h,se),ie.target=At,ie.relatedTarget=W,ue=null,Aa(se)===V&&(Se=new Se(U,$+"enter",we,h,se),Se.target=W,Se.relatedTarget=At,ue=Se),At=ue,ye&&we)t:{for(Se=ye,U=we,$=0,W=Se;W;W=Os(W))$++;for(W=0,ue=U;ue;ue=Os(ue))W++;for(;0<$-W;)Se=Os(Se),$--;for(;0<W-$;)U=Os(U),W--;for(;$--;){if(Se===U||U!==null&&Se===U.alternate)break t;Se=Os(Se),U=Os(U)}Se=null}else Se=null;ye!==null&&qb(oe,ie,ye,Se,!1),we!==null&&At!==null&&qb(oe,At,we,Se,!0)}}e:{if(ie=V?Ts(V):window,ye=ie.nodeName&&ie.nodeName.toLowerCase(),ye==="select"||ye==="input"&&ie.type==="file")var je=LT;else if(_b(ie))if(jb)je=zT;else{je=BT;var Ne=$T}else(ye=ie.nodeName)&&ye.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(je=FT);if(je&&(je=je(s,V))){Sb(oe,je,h,se);break e}Ne&&Ne(s,ie,V),s==="focusout"&&(Ne=ie._wrapperState)&&Ne.controlled&&ie.type==="number"&&pi(ie,"number",ie.value)}switch(Ne=V?Ts(V):window,s){case"focusin":(_b(Ne)||Ne.contentEditable==="true")&&(Ps=Ne,Rh=V,rl=null);break;case"focusout":rl=Rh=Ps=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,Tb(oe,h,se);break;case"selectionchange":if(WT)break;case"keydown":case"keyup":Tb(oe,h,se)}var Oe;if(Ah)e:{switch(s){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Cs?bb(s,h)&&(Te="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(Te="onCompositionStart");Te&&(vb&&h.locale!=="ko"&&(Cs||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Cs&&(Oe=fb()):(Ji=se,kh="value"in Ji?Ji.value:Ji.textContent,Cs=!0)),Ne=nc(V,Te),0<Ne.length&&(Te=new mb(Te,s,null,h,se),oe.push({event:Te,listeners:Ne}),Oe?Te.data=Oe:(Oe=wb(h),Oe!==null&&(Te.data=Oe)))),(Oe=TT?IT(s,h):DT(s,h))&&(V=nc(V,"onBeforeInput"),0<V.length&&(se=new mb("onBeforeInput","beforeinput",null,h,se),oe.push({event:se,listeners:V}),se.data=Oe))}zb(oe,l)})}function al(s,l,h){return{instance:s,listener:l,currentTarget:h}}function nc(s,l){for(var h=l+"Capture",v=[];s!==null;){var _=s,k=_.stateNode;_.tag===5&&k!==null&&(_=k,k=nt(s,h),k!=null&&v.unshift(al(s,k,_)),k=nt(s,l),k!=null&&v.push(al(s,k,_))),s=s.return}return v}function Os(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function qb(s,l,h,v,_){for(var k=l._reactName,O=[];h!==null&&h!==v;){var I=h,R=I.alternate,V=I.stateNode;if(R!==null&&R===v)break;I.tag===5&&V!==null&&(I=V,_?(R=nt(h,k),R!=null&&O.unshift(al(h,R,I))):_||(R=nt(h,k),R!=null&&O.push(al(h,R,I)))),h=h.return}O.length!==0&&s.push({event:l,listeners:O})}var YT=/\r\n?/g,GT=/\u0000|\uFFFD/g;function Wb(s){return(typeof s=="string"?s:""+s).replace(YT,`
`).replace(GT,"")}function ic(s,l,h){if(l=Wb(l),Wb(s)!==l&&h)throw Error(r(425))}function ac(){}var Uh=null,qh=null;function Wh(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Kh=typeof setTimeout=="function"?setTimeout:void 0,XT=typeof clearTimeout=="function"?clearTimeout:void 0,Kb=typeof Promise=="function"?Promise:void 0,QT=typeof queueMicrotask=="function"?queueMicrotask:typeof Kb<"u"?function(s){return Kb.resolve(null).then(s).catch(JT)}:Kh;function JT(s){setTimeout(function(){throw s})}function Hh(s,l){var h=l,v=0;do{var _=h.nextSibling;if(s.removeChild(h),_&&_.nodeType===8)if(h=_.data,h==="/$"){if(v===0){s.removeChild(_),Go(l);return}v--}else h!=="$"&&h!=="$?"&&h!=="$!"||v++;h=_}while(h);Go(l)}function ea(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return s}function Hb(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return s;l--}else h==="/$"&&l++}s=s.previousSibling}return null}var As=Math.random().toString(36).slice(2),ti="__reactFiber$"+As,sl="__reactProps$"+As,gi="__reactContainer$"+As,Vh="__reactEvents$"+As,ZT="__reactListeners$"+As,eI="__reactHandles$"+As;function Aa(s){var l=s[ti];if(l)return l;for(var h=s.parentNode;h;){if(l=h[gi]||h[ti]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(s=Hb(s);s!==null;){if(h=s[ti])return h;s=Hb(s)}return l}s=h,h=s.parentNode}return null}function ol(s){return s=s[ti]||s[gi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ts(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function sc(s){return s[sl]||null}var Yh=[],Is=-1;function ta(s){return{current:s}}function yt(s){0>Is||(s.current=Yh[Is],Yh[Is]=null,Is--)}function ft(s,l){Is++,Yh[Is]=s.current,s.current=l}var ra={},mr=ta(ra),Nr=ta(!1),Ta=ra;function Ds(s,l){var h=s.type.contextTypes;if(!h)return ra;var v=s.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===l)return v.__reactInternalMemoizedMaskedChildContext;var _={},k;for(k in h)_[k]=l[k];return v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=l,s.__reactInternalMemoizedMaskedChildContext=_),_}function Or(s){return s=s.childContextTypes,s!=null}function oc(){yt(Nr),yt(mr)}function Vb(s,l,h){if(mr.current!==ra)throw Error(r(168));ft(mr,l),ft(Nr,h)}function Yb(s,l,h){var v=s.stateNode;if(l=l.childContextTypes,typeof v.getChildContext!="function")return h;v=v.getChildContext();for(var _ in v)if(!(_ in l))throw Error(r(108,Q(s)||"Unknown",_));return te({},h,v)}function lc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ra,Ta=mr.current,ft(mr,s),ft(Nr,Nr.current),!0}function Gb(s,l,h){var v=s.stateNode;if(!v)throw Error(r(169));h?(s=Yb(s,l,Ta),v.__reactInternalMemoizedMergedChildContext=s,yt(Nr),yt(mr),ft(mr,s)):yt(Nr),ft(Nr,h)}var vi=null,uc=!1,Gh=!1;function Xb(s){vi===null?vi=[s]:vi.push(s)}function tI(s){uc=!0,Xb(s)}function na(){if(!Gh&&vi!==null){Gh=!0;var s=0,l=it;try{var h=vi;for(it=1;s<h.length;s++){var v=h[s];do v=v(!0);while(v!==null)}vi=null,uc=!1}catch(_){throw vi!==null&&(vi=vi.slice(s+1)),Jx(vh,na),_}finally{it=l,Gh=!1}}return null}var Rs=[],Ms=0,cc=null,dc=0,on=[],ln=0,Ia=null,yi=1,xi="";function Da(s,l){Rs[Ms++]=dc,Rs[Ms++]=cc,cc=s,dc=l}function Qb(s,l,h){on[ln++]=yi,on[ln++]=xi,on[ln++]=Ia,Ia=s;var v=yi;s=xi;var _=32-An(v)-1;v&=~(1<<_),h+=1;var k=32-An(l)+_;if(30<k){var O=_-_%5;k=(v&(1<<O)-1).toString(32),v>>=O,_-=O,yi=1<<32-An(l)+_|h<<_|v,xi=k+s}else yi=1<<k|h<<_|v,xi=s}function Xh(s){s.return!==null&&(Da(s,1),Qb(s,1,0))}function Qh(s){for(;s===cc;)cc=Rs[--Ms],Rs[Ms]=null,dc=Rs[--Ms],Rs[Ms]=null;for(;s===Ia;)Ia=on[--ln],on[ln]=null,xi=on[--ln],on[ln]=null,yi=on[--ln],on[ln]=null}var Yr=null,Gr=null,bt=!1,In=null;function Jb(s,l){var h=fn(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=s,l=s.deletions,l===null?(s.deletions=[h],s.flags|=16):l.push(h)}function Zb(s,l){switch(s.tag){case 5:var h=s.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(s.stateNode=l,Yr=s,Gr=ea(l.firstChild),!0):!1;case 6:return l=s.pendingProps===""||l.nodeType!==3?null:l,l!==null?(s.stateNode=l,Yr=s,Gr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=Ia!==null?{id:yi,overflow:xi}:null,s.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=fn(18,null,null,0),h.stateNode=l,h.return=s,s.child=h,Yr=s,Gr=null,!0):!1;default:return!1}}function Jh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Zh(s){if(bt){var l=Gr;if(l){var h=l;if(!Zb(s,l)){if(Jh(s))throw Error(r(418));l=ea(h.nextSibling);var v=Yr;l&&Zb(s,l)?Jb(v,h):(s.flags=s.flags&-4097|2,bt=!1,Yr=s)}}else{if(Jh(s))throw Error(r(418));s.flags=s.flags&-4097|2,bt=!1,Yr=s}}}function ew(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Yr=s}function fc(s){if(s!==Yr)return!1;if(!bt)return ew(s),bt=!0,!1;var l;if((l=s.tag!==3)&&!(l=s.tag!==5)&&(l=s.type,l=l!=="head"&&l!=="body"&&!Wh(s.type,s.memoizedProps)),l&&(l=Gr)){if(Jh(s))throw tw(),Error(r(418));for(;l;)Jb(s,l),l=ea(l.nextSibling)}if(ew(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"){if(l===0){Gr=ea(s.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}s=s.nextSibling}Gr=null}}else Gr=Yr?ea(s.stateNode.nextSibling):null;return!0}function tw(){for(var s=Gr;s;)s=ea(s.nextSibling)}function Ls(){Gr=Yr=null,bt=!1}function ep(s){In===null?In=[s]:In.push(s)}var rI=P.ReactCurrentBatchConfig;function ll(s,l,h){if(s=h.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(r(309));var v=h.stateNode}if(!v)throw Error(r(147,s));var _=v,k=""+s;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===k?l.ref:(l=function(O){var I=_.refs;O===null?delete I[k]:I[k]=O},l._stringRef=k,l)}if(typeof s!="string")throw Error(r(284));if(!h._owner)throw Error(r(290,s))}return s}function hc(s,l){throw s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s))}function rw(s){var l=s._init;return l(s._payload)}function nw(s){function l(U,$){if(s){var W=U.deletions;W===null?(U.deletions=[$],U.flags|=16):W.push($)}}function h(U,$){if(!s)return null;for(;$!==null;)l(U,$),$=$.sibling;return null}function v(U,$){for(U=new Map;$!==null;)$.key!==null?U.set($.key,$):U.set($.index,$),$=$.sibling;return U}function _(U,$){return U=da(U,$),U.index=0,U.sibling=null,U}function k(U,$,W){return U.index=W,s?(W=U.alternate,W!==null?(W=W.index,W<$?(U.flags|=2,$):W):(U.flags|=2,$)):(U.flags|=1048576,$)}function O(U){return s&&U.alternate===null&&(U.flags|=2),U}function I(U,$,W,ue){return $===null||$.tag!==6?($=Kp(W,U.mode,ue),$.return=U,$):($=_($,W),$.return=U,$)}function R(U,$,W,ue){var je=W.type;return je===T?se(U,$,W.props.children,ue,W.key):$!==null&&($.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===K&&rw(je)===$.type)?(ue=_($,W.props),ue.ref=ll(U,$,W),ue.return=U,ue):(ue=Lc(W.type,W.key,W.props,null,U.mode,ue),ue.ref=ll(U,$,W),ue.return=U,ue)}function V(U,$,W,ue){return $===null||$.tag!==4||$.stateNode.containerInfo!==W.containerInfo||$.stateNode.implementation!==W.implementation?($=Hp(W,U.mode,ue),$.return=U,$):($=_($,W.children||[]),$.return=U,$)}function se(U,$,W,ue,je){return $===null||$.tag!==7?($=Ua(W,U.mode,ue,je),$.return=U,$):($=_($,W),$.return=U,$)}function oe(U,$,W){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Kp(""+$,U.mode,W),$.return=U,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case N:return W=Lc($.type,$.key,$.props,null,U.mode,W),W.ref=ll(U,null,$),W.return=U,W;case A:return $=Hp($,U.mode,W),$.return=U,$;case K:var ue=$._init;return oe(U,ue($._payload),W)}if(fr($)||Z($))return $=Ua($,U.mode,W,null),$.return=U,$;hc(U,$)}return null}function ie(U,$,W,ue){var je=$!==null?$.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return je!==null?null:I(U,$,""+W,ue);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case N:return W.key===je?R(U,$,W,ue):null;case A:return W.key===je?V(U,$,W,ue):null;case K:return je=W._init,ie(U,$,je(W._payload),ue)}if(fr(W)||Z(W))return je!==null?null:se(U,$,W,ue,null);hc(U,W)}return null}function ye(U,$,W,ue,je){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return U=U.get(W)||null,I($,U,""+ue,je);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case N:return U=U.get(ue.key===null?W:ue.key)||null,R($,U,ue,je);case A:return U=U.get(ue.key===null?W:ue.key)||null,V($,U,ue,je);case K:var Ne=ue._init;return ye(U,$,W,Ne(ue._payload),je)}if(fr(ue)||Z(ue))return U=U.get(W)||null,se($,U,ue,je,null);hc($,ue)}return null}function we(U,$,W,ue){for(var je=null,Ne=null,Oe=$,Te=$=0,Ht=null;Oe!==null&&Te<W.length;Te++){Oe.index>Te?(Ht=Oe,Oe=null):Ht=Oe.sibling;var Ge=ie(U,Oe,W[Te],ue);if(Ge===null){Oe===null&&(Oe=Ht);break}s&&Oe&&Ge.alternate===null&&l(U,Oe),$=k(Ge,$,Te),Ne===null?je=Ge:Ne.sibling=Ge,Ne=Ge,Oe=Ht}if(Te===W.length)return h(U,Oe),bt&&Da(U,Te),je;if(Oe===null){for(;Te<W.length;Te++)Oe=oe(U,W[Te],ue),Oe!==null&&($=k(Oe,$,Te),Ne===null?je=Oe:Ne.sibling=Oe,Ne=Oe);return bt&&Da(U,Te),je}for(Oe=v(U,Oe);Te<W.length;Te++)Ht=ye(Oe,U,Te,W[Te],ue),Ht!==null&&(s&&Ht.alternate!==null&&Oe.delete(Ht.key===null?Te:Ht.key),$=k(Ht,$,Te),Ne===null?je=Ht:Ne.sibling=Ht,Ne=Ht);return s&&Oe.forEach(function(fa){return l(U,fa)}),bt&&Da(U,Te),je}function Se(U,$,W,ue){var je=Z(W);if(typeof je!="function")throw Error(r(150));if(W=je.call(W),W==null)throw Error(r(151));for(var Ne=je=null,Oe=$,Te=$=0,Ht=null,Ge=W.next();Oe!==null&&!Ge.done;Te++,Ge=W.next()){Oe.index>Te?(Ht=Oe,Oe=null):Ht=Oe.sibling;var fa=ie(U,Oe,Ge.value,ue);if(fa===null){Oe===null&&(Oe=Ht);break}s&&Oe&&fa.alternate===null&&l(U,Oe),$=k(fa,$,Te),Ne===null?je=fa:Ne.sibling=fa,Ne=fa,Oe=Ht}if(Ge.done)return h(U,Oe),bt&&Da(U,Te),je;if(Oe===null){for(;!Ge.done;Te++,Ge=W.next())Ge=oe(U,Ge.value,ue),Ge!==null&&($=k(Ge,$,Te),Ne===null?je=Ge:Ne.sibling=Ge,Ne=Ge);return bt&&Da(U,Te),je}for(Oe=v(U,Oe);!Ge.done;Te++,Ge=W.next())Ge=ye(Oe,U,Te,Ge.value,ue),Ge!==null&&(s&&Ge.alternate!==null&&Oe.delete(Ge.key===null?Te:Ge.key),$=k(Ge,$,Te),Ne===null?je=Ge:Ne.sibling=Ge,Ne=Ge);return s&&Oe.forEach(function(RI){return l(U,RI)}),bt&&Da(U,Te),je}function At(U,$,W,ue){if(typeof W=="object"&&W!==null&&W.type===T&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case N:e:{for(var je=W.key,Ne=$;Ne!==null;){if(Ne.key===je){if(je=W.type,je===T){if(Ne.tag===7){h(U,Ne.sibling),$=_(Ne,W.props.children),$.return=U,U=$;break e}}else if(Ne.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===K&&rw(je)===Ne.type){h(U,Ne.sibling),$=_(Ne,W.props),$.ref=ll(U,Ne,W),$.return=U,U=$;break e}h(U,Ne);break}else l(U,Ne);Ne=Ne.sibling}W.type===T?($=Ua(W.props.children,U.mode,ue,W.key),$.return=U,U=$):(ue=Lc(W.type,W.key,W.props,null,U.mode,ue),ue.ref=ll(U,$,W),ue.return=U,U=ue)}return O(U);case A:e:{for(Ne=W.key;$!==null;){if($.key===Ne)if($.tag===4&&$.stateNode.containerInfo===W.containerInfo&&$.stateNode.implementation===W.implementation){h(U,$.sibling),$=_($,W.children||[]),$.return=U,U=$;break e}else{h(U,$);break}else l(U,$);$=$.sibling}$=Hp(W,U.mode,ue),$.return=U,U=$}return O(U);case K:return Ne=W._init,At(U,$,Ne(W._payload),ue)}if(fr(W))return we(U,$,W,ue);if(Z(W))return Se(U,$,W,ue);hc(U,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,$!==null&&$.tag===6?(h(U,$.sibling),$=_($,W),$.return=U,U=$):(h(U,$),$=Kp(W,U.mode,ue),$.return=U,U=$),O(U)):h(U,$)}return At}var $s=nw(!0),iw=nw(!1),pc=ta(null),mc=null,Bs=null,tp=null;function rp(){tp=Bs=mc=null}function np(s){var l=pc.current;yt(pc),s._currentValue=l}function ip(s,l,h){for(;s!==null;){var v=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),s===h)break;s=s.return}}function Fs(s,l){mc=s,tp=Bs=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&l)!==0&&(Ar=!0),s.firstContext=null)}function un(s){var l=s._currentValue;if(tp!==s)if(s={context:s,memoizedValue:l,next:null},Bs===null){if(mc===null)throw Error(r(308));Bs=s,mc.dependencies={lanes:0,firstContext:s}}else Bs=Bs.next=s;return l}var Ra=null;function ap(s){Ra===null?Ra=[s]:Ra.push(s)}function aw(s,l,h,v){var _=l.interleaved;return _===null?(h.next=h,ap(l)):(h.next=_.next,_.next=h),l.interleaved=h,bi(s,v)}function bi(s,l){s.lanes|=l;var h=s.alternate;for(h!==null&&(h.lanes|=l),h=s,s=s.return;s!==null;)s.childLanes|=l,h=s.alternate,h!==null&&(h.childLanes|=l),h=s,s=s.return;return h.tag===3?h.stateNode:null}var ia=!1;function sp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sw(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function wi(s,l){return{eventTime:s,lane:l,tag:0,payload:null,callback:null,next:null}}function aa(s,l,h){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(Ye&2)!==0){var _=v.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),v.pending=l,bi(s,h)}return _=v.interleaved,_===null?(l.next=l,ap(v)):(l.next=_.next,_.next=l),v.interleaved=l,bi(s,h)}function gc(s,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var v=l.lanes;v&=s.pendingLanes,h|=v,l.lanes=h,bh(s,h)}}function ow(s,l){var h=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var _=null,k=null;if(h=h.firstBaseUpdate,h!==null){do{var O={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};k===null?_=k=O:k=k.next=O,h=h.next}while(h!==null);k===null?_=k=l:k=k.next=l}else _=k=l;h={baseState:v.baseState,firstBaseUpdate:_,lastBaseUpdate:k,shared:v.shared,effects:v.effects},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=l:s.next=l,h.lastBaseUpdate=l}function vc(s,l,h,v){var _=s.updateQueue;ia=!1;var k=_.firstBaseUpdate,O=_.lastBaseUpdate,I=_.shared.pending;if(I!==null){_.shared.pending=null;var R=I,V=R.next;R.next=null,O===null?k=V:O.next=V,O=R;var se=s.alternate;se!==null&&(se=se.updateQueue,I=se.lastBaseUpdate,I!==O&&(I===null?se.firstBaseUpdate=V:I.next=V,se.lastBaseUpdate=R))}if(k!==null){var oe=_.baseState;O=0,se=V=R=null,I=k;do{var ie=I.lane,ye=I.eventTime;if((v&ie)===ie){se!==null&&(se=se.next={eventTime:ye,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var we=s,Se=I;switch(ie=l,ye=h,Se.tag){case 1:if(we=Se.payload,typeof we=="function"){oe=we.call(ye,oe,ie);break e}oe=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Se.payload,ie=typeof we=="function"?we.call(ye,oe,ie):we,ie==null)break e;oe=te({},oe,ie);break e;case 2:ia=!0}}I.callback!==null&&I.lane!==0&&(s.flags|=64,ie=_.effects,ie===null?_.effects=[I]:ie.push(I))}else ye={eventTime:ye,lane:ie,tag:I.tag,payload:I.payload,callback:I.callback,next:null},se===null?(V=se=ye,R=oe):se=se.next=ye,O|=ie;if(I=I.next,I===null){if(I=_.shared.pending,I===null)break;ie=I,I=ie.next,ie.next=null,_.lastBaseUpdate=ie,_.shared.pending=null}}while(!0);if(se===null&&(R=oe),_.baseState=R,_.firstBaseUpdate=V,_.lastBaseUpdate=se,l=_.shared.interleaved,l!==null){_=l;do O|=_.lane,_=_.next;while(_!==l)}else k===null&&(_.shared.lanes=0);$a|=O,s.lanes=O,s.memoizedState=oe}}function lw(s,l,h){if(s=l.effects,l.effects=null,s!==null)for(l=0;l<s.length;l++){var v=s[l],_=v.callback;if(_!==null){if(v.callback=null,v=h,typeof _!="function")throw Error(r(191,_));_.call(v)}}}var ul={},ri=ta(ul),cl=ta(ul),dl=ta(ul);function Ma(s){if(s===ul)throw Error(r(174));return s}function op(s,l){switch(ft(dl,l),ft(cl,s),ft(ri,ul),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Wr(null,"");break;default:s=s===8?l.parentNode:l,l=s.namespaceURI||null,s=s.tagName,l=Wr(l,s)}yt(ri),ft(ri,l)}function zs(){yt(ri),yt(cl),yt(dl)}function uw(s){Ma(dl.current);var l=Ma(ri.current),h=Wr(l,s.type);l!==h&&(ft(cl,s),ft(ri,h))}function lp(s){cl.current===s&&(yt(ri),yt(cl))}var kt=ta(0);function yc(s){for(var l=s;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var up=[];function cp(){for(var s=0;s<up.length;s++)up[s]._workInProgressVersionPrimary=null;up.length=0}var xc=P.ReactCurrentDispatcher,dp=P.ReactCurrentBatchConfig,La=0,Et=null,Lt=null,Wt=null,bc=!1,fl=!1,hl=0,nI=0;function gr(){throw Error(r(321))}function fp(s,l){if(l===null)return!1;for(var h=0;h<l.length&&h<s.length;h++)if(!Tn(s[h],l[h]))return!1;return!0}function hp(s,l,h,v,_,k){if(La=k,Et=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,xc.current=s===null||s.memoizedState===null?oI:lI,s=h(v,_),fl){k=0;do{if(fl=!1,hl=0,25<=k)throw Error(r(301));k+=1,Wt=Lt=null,l.updateQueue=null,xc.current=uI,s=h(v,_)}while(fl)}if(xc.current=Sc,l=Lt!==null&&Lt.next!==null,La=0,Wt=Lt=Et=null,bc=!1,l)throw Error(r(300));return s}function pp(){var s=hl!==0;return hl=0,s}function ni(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?Et.memoizedState=Wt=s:Wt=Wt.next=s,Wt}function cn(){if(Lt===null){var s=Et.alternate;s=s!==null?s.memoizedState:null}else s=Lt.next;var l=Wt===null?Et.memoizedState:Wt.next;if(l!==null)Wt=l,Lt=s;else{if(s===null)throw Error(r(310));Lt=s,s={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Wt===null?Et.memoizedState=Wt=s:Wt=Wt.next=s}return Wt}function pl(s,l){return typeof l=="function"?l(s):l}function mp(s){var l=cn(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var v=Lt,_=v.baseQueue,k=h.pending;if(k!==null){if(_!==null){var O=_.next;_.next=k.next,k.next=O}v.baseQueue=_=k,h.pending=null}if(_!==null){k=_.next,v=v.baseState;var I=O=null,R=null,V=k;do{var se=V.lane;if((La&se)===se)R!==null&&(R=R.next={lane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),v=V.hasEagerState?V.eagerState:s(v,V.action);else{var oe={lane:se,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null};R===null?(I=R=oe,O=v):R=R.next=oe,Et.lanes|=se,$a|=se}V=V.next}while(V!==null&&V!==k);R===null?O=v:R.next=I,Tn(v,l.memoizedState)||(Ar=!0),l.memoizedState=v,l.baseState=O,l.baseQueue=R,h.lastRenderedState=v}if(s=h.interleaved,s!==null){_=s;do k=_.lane,Et.lanes|=k,$a|=k,_=_.next;while(_!==s)}else _===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function gp(s){var l=cn(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var v=h.dispatch,_=h.pending,k=l.memoizedState;if(_!==null){h.pending=null;var O=_=_.next;do k=s(k,O.action),O=O.next;while(O!==_);Tn(k,l.memoizedState)||(Ar=!0),l.memoizedState=k,l.baseQueue===null&&(l.baseState=k),h.lastRenderedState=k}return[k,v]}function cw(){}function dw(s,l){var h=Et,v=cn(),_=l(),k=!Tn(v.memoizedState,_);if(k&&(v.memoizedState=_,Ar=!0),v=v.queue,vp(pw.bind(null,h,v,s),[s]),v.getSnapshot!==l||k||Wt!==null&&Wt.memoizedState.tag&1){if(h.flags|=2048,ml(9,hw.bind(null,h,v,_,l),void 0,null),Kt===null)throw Error(r(349));(La&30)!==0||fw(h,l,_)}return _}function fw(s,l,h){s.flags|=16384,s={getSnapshot:l,value:h},l=Et.updateQueue,l===null?(l={lastEffect:null,stores:null},Et.updateQueue=l,l.stores=[s]):(h=l.stores,h===null?l.stores=[s]:h.push(s))}function hw(s,l,h,v){l.value=h,l.getSnapshot=v,mw(l)&&gw(s)}function pw(s,l,h){return h(function(){mw(l)&&gw(s)})}function mw(s){var l=s.getSnapshot;s=s.value;try{var h=l();return!Tn(s,h)}catch{return!0}}function gw(s){var l=bi(s,1);l!==null&&Ln(l,s,1,-1)}function vw(s){var l=ni();return typeof s=="function"&&(s=s()),l.memoizedState=l.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:s},l.queue=s,s=s.dispatch=sI.bind(null,Et,s),[l.memoizedState,s]}function ml(s,l,h,v){return s={tag:s,create:l,destroy:h,deps:v,next:null},l=Et.updateQueue,l===null?(l={lastEffect:null,stores:null},Et.updateQueue=l,l.lastEffect=s.next=s):(h=l.lastEffect,h===null?l.lastEffect=s.next=s:(v=h.next,h.next=s,s.next=v,l.lastEffect=s)),s}function yw(){return cn().memoizedState}function wc(s,l,h,v){var _=ni();Et.flags|=s,_.memoizedState=ml(1|l,h,void 0,v===void 0?null:v)}function _c(s,l,h,v){var _=cn();v=v===void 0?null:v;var k=void 0;if(Lt!==null){var O=Lt.memoizedState;if(k=O.destroy,v!==null&&fp(v,O.deps)){_.memoizedState=ml(l,h,k,v);return}}Et.flags|=s,_.memoizedState=ml(1|l,h,k,v)}function xw(s,l){return wc(8390656,8,s,l)}function vp(s,l){return _c(2048,8,s,l)}function bw(s,l){return _c(4,2,s,l)}function ww(s,l){return _c(4,4,s,l)}function _w(s,l){if(typeof l=="function")return s=s(),l(s),function(){l(null)};if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function Sw(s,l,h){return h=h!=null?h.concat([s]):null,_c(4,4,_w.bind(null,l,s),h)}function yp(){}function jw(s,l){var h=cn();l=l===void 0?null:l;var v=h.memoizedState;return v!==null&&l!==null&&fp(l,v[1])?v[0]:(h.memoizedState=[s,l],s)}function kw(s,l){var h=cn();l=l===void 0?null:l;var v=h.memoizedState;return v!==null&&l!==null&&fp(l,v[1])?v[0]:(s=s(),h.memoizedState=[s,l],s)}function Ew(s,l,h){return(La&21)===0?(s.baseState&&(s.baseState=!1,Ar=!0),s.memoizedState=h):(Tn(h,l)||(h=rb(),Et.lanes|=h,$a|=h,s.baseState=!0),l)}function iI(s,l){var h=it;it=h!==0&&4>h?h:4,s(!0);var v=dp.transition;dp.transition={};try{s(!1),l()}finally{it=h,dp.transition=v}}function Cw(){return cn().memoizedState}function aI(s,l,h){var v=ua(s);if(h={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null},Pw(s))Nw(l,h);else if(h=aw(s,l,h,v),h!==null){var _=kr();Ln(h,s,v,_),Ow(h,l,v)}}function sI(s,l,h){var v=ua(s),_={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null};if(Pw(s))Nw(l,_);else{var k=s.alternate;if(s.lanes===0&&(k===null||k.lanes===0)&&(k=l.lastRenderedReducer,k!==null))try{var O=l.lastRenderedState,I=k(O,h);if(_.hasEagerState=!0,_.eagerState=I,Tn(I,O)){var R=l.interleaved;R===null?(_.next=_,ap(l)):(_.next=R.next,R.next=_),l.interleaved=_;return}}catch{}finally{}h=aw(s,l,_,v),h!==null&&(_=kr(),Ln(h,s,v,_),Ow(h,l,v))}}function Pw(s){var l=s.alternate;return s===Et||l!==null&&l===Et}function Nw(s,l){fl=bc=!0;var h=s.pending;h===null?l.next=l:(l.next=h.next,h.next=l),s.pending=l}function Ow(s,l,h){if((h&4194240)!==0){var v=l.lanes;v&=s.pendingLanes,h|=v,l.lanes=h,bh(s,h)}}var Sc={readContext:un,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useInsertionEffect:gr,useLayoutEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useMutableSource:gr,useSyncExternalStore:gr,useId:gr,unstable_isNewReconciler:!1},oI={readContext:un,useCallback:function(s,l){return ni().memoizedState=[s,l===void 0?null:l],s},useContext:un,useEffect:xw,useImperativeHandle:function(s,l,h){return h=h!=null?h.concat([s]):null,wc(4194308,4,_w.bind(null,l,s),h)},useLayoutEffect:function(s,l){return wc(4194308,4,s,l)},useInsertionEffect:function(s,l){return wc(4,2,s,l)},useMemo:function(s,l){var h=ni();return l=l===void 0?null:l,s=s(),h.memoizedState=[s,l],s},useReducer:function(s,l,h){var v=ni();return l=h!==void 0?h(l):l,v.memoizedState=v.baseState=l,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:l},v.queue=s,s=s.dispatch=aI.bind(null,Et,s),[v.memoizedState,s]},useRef:function(s){var l=ni();return s={current:s},l.memoizedState=s},useState:vw,useDebugValue:yp,useDeferredValue:function(s){return ni().memoizedState=s},useTransition:function(){var s=vw(!1),l=s[0];return s=iI.bind(null,s[1]),ni().memoizedState=s,[l,s]},useMutableSource:function(){},useSyncExternalStore:function(s,l,h){var v=Et,_=ni();if(bt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=l(),Kt===null)throw Error(r(349));(La&30)!==0||fw(v,l,h)}_.memoizedState=h;var k={value:h,getSnapshot:l};return _.queue=k,xw(pw.bind(null,v,k,s),[s]),v.flags|=2048,ml(9,hw.bind(null,v,k,h,l),void 0,null),h},useId:function(){var s=ni(),l=Kt.identifierPrefix;if(bt){var h=xi,v=yi;h=(v&~(1<<32-An(v)-1)).toString(32)+h,l=":"+l+"R"+h,h=hl++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=nI++,l=":"+l+"r"+h.toString(32)+":";return s.memoizedState=l},unstable_isNewReconciler:!1},lI={readContext:un,useCallback:jw,useContext:un,useEffect:vp,useImperativeHandle:Sw,useInsertionEffect:bw,useLayoutEffect:ww,useMemo:kw,useReducer:mp,useRef:yw,useState:function(){return mp(pl)},useDebugValue:yp,useDeferredValue:function(s){var l=cn();return Ew(l,Lt.memoizedState,s)},useTransition:function(){var s=mp(pl)[0],l=cn().memoizedState;return[s,l]},useMutableSource:cw,useSyncExternalStore:dw,useId:Cw,unstable_isNewReconciler:!1},uI={readContext:un,useCallback:jw,useContext:un,useEffect:vp,useImperativeHandle:Sw,useInsertionEffect:bw,useLayoutEffect:ww,useMemo:kw,useReducer:gp,useRef:yw,useState:function(){return gp(pl)},useDebugValue:yp,useDeferredValue:function(s){var l=cn();return Lt===null?l.memoizedState=s:Ew(l,Lt.memoizedState,s)},useTransition:function(){var s=gp(pl)[0],l=cn().memoizedState;return[s,l]},useMutableSource:cw,useSyncExternalStore:dw,useId:Cw,unstable_isNewReconciler:!1};function Dn(s,l){if(s&&s.defaultProps){l=te({},l),s=s.defaultProps;for(var h in s)l[h]===void 0&&(l[h]=s[h]);return l}return l}function xp(s,l,h,v){l=s.memoizedState,h=h(v,l),h=h==null?l:te({},l,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var jc={isMounted:function(s){return(s=s._reactInternals)?Oa(s)===s:!1},enqueueSetState:function(s,l,h){s=s._reactInternals;var v=kr(),_=ua(s),k=wi(v,_);k.payload=l,h!=null&&(k.callback=h),l=aa(s,k,_),l!==null&&(Ln(l,s,_,v),gc(l,s,_))},enqueueReplaceState:function(s,l,h){s=s._reactInternals;var v=kr(),_=ua(s),k=wi(v,_);k.tag=1,k.payload=l,h!=null&&(k.callback=h),l=aa(s,k,_),l!==null&&(Ln(l,s,_,v),gc(l,s,_))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var h=kr(),v=ua(s),_=wi(h,v);_.tag=2,l!=null&&(_.callback=l),l=aa(s,_,v),l!==null&&(Ln(l,s,v,h),gc(l,s,v))}};function Aw(s,l,h,v,_,k,O){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,k,O):l.prototype&&l.prototype.isPureReactComponent?!tl(h,v)||!tl(_,k):!0}function Tw(s,l,h){var v=!1,_=ra,k=l.contextType;return typeof k=="object"&&k!==null?k=un(k):(_=Or(l)?Ta:mr.current,v=l.contextTypes,k=(v=v!=null)?Ds(s,_):ra),l=new l(h,k),s.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=jc,s.stateNode=l,l._reactInternals=s,v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=_,s.__reactInternalMemoizedMaskedChildContext=k),l}function Iw(s,l,h,v){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,v),l.state!==s&&jc.enqueueReplaceState(l,l.state,null)}function bp(s,l,h,v){var _=s.stateNode;_.props=h,_.state=s.memoizedState,_.refs={},sp(s);var k=l.contextType;typeof k=="object"&&k!==null?_.context=un(k):(k=Or(l)?Ta:mr.current,_.context=Ds(s,k)),_.state=s.memoizedState,k=l.getDerivedStateFromProps,typeof k=="function"&&(xp(s,l,k,h),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(l=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),l!==_.state&&jc.enqueueReplaceState(_,_.state,null),vc(s,h,_,v),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308)}function Us(s,l){try{var h="",v=l;do h+=ee(v),v=v.return;while(v);var _=h}catch(k){_=`
Error generating stack: `+k.message+`
`+k.stack}return{value:s,source:l,stack:_,digest:null}}function wp(s,l,h){return{value:s,source:null,stack:h??null,digest:l??null}}function _p(s,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var cI=typeof WeakMap=="function"?WeakMap:Map;function Dw(s,l,h){h=wi(-1,h),h.tag=3,h.payload={element:null};var v=l.value;return h.callback=function(){Ac||(Ac=!0,Lp=v),_p(s,l)},h}function Rw(s,l,h){h=wi(-1,h),h.tag=3;var v=s.type.getDerivedStateFromError;if(typeof v=="function"){var _=l.value;h.payload=function(){return v(_)},h.callback=function(){_p(s,l)}}var k=s.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(h.callback=function(){_p(s,l),typeof v!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var O=l.stack;this.componentDidCatch(l.value,{componentStack:O!==null?O:""})}),h}function Mw(s,l,h){var v=s.pingCache;if(v===null){v=s.pingCache=new cI;var _=new Set;v.set(l,_)}else _=v.get(l),_===void 0&&(_=new Set,v.set(l,_));_.has(h)||(_.add(h),s=jI.bind(null,s,l,h),l.then(s,s))}function Lw(s){do{var l;if((l=s.tag===13)&&(l=s.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return s;s=s.return}while(s!==null);return null}function $w(s,l,h,v,_){return(s.mode&1)===0?(s===l?s.flags|=65536:(s.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=wi(-1,1),l.tag=2,aa(h,l,1))),h.lanes|=1),s):(s.flags|=65536,s.lanes=_,s)}var dI=P.ReactCurrentOwner,Ar=!1;function jr(s,l,h,v){l.child=s===null?iw(l,null,h,v):$s(l,s.child,h,v)}function Bw(s,l,h,v,_){h=h.render;var k=l.ref;return Fs(l,_),v=hp(s,l,h,v,k,_),h=pp(),s!==null&&!Ar?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~_,_i(s,l,_)):(bt&&h&&Xh(l),l.flags|=1,jr(s,l,v,_),l.child)}function Fw(s,l,h,v,_){if(s===null){var k=h.type;return typeof k=="function"&&!Wp(k)&&k.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=k,zw(s,l,k,v,_)):(s=Lc(h.type,null,v,l,l.mode,_),s.ref=l.ref,s.return=l,l.child=s)}if(k=s.child,(s.lanes&_)===0){var O=k.memoizedProps;if(h=h.compare,h=h!==null?h:tl,h(O,v)&&s.ref===l.ref)return _i(s,l,_)}return l.flags|=1,s=da(k,v),s.ref=l.ref,s.return=l,l.child=s}function zw(s,l,h,v,_){if(s!==null){var k=s.memoizedProps;if(tl(k,v)&&s.ref===l.ref)if(Ar=!1,l.pendingProps=v=k,(s.lanes&_)!==0)(s.flags&131072)!==0&&(Ar=!0);else return l.lanes=s.lanes,_i(s,l,_)}return Sp(s,l,h,v,_)}function Uw(s,l,h){var v=l.pendingProps,_=v.children,k=s!==null?s.memoizedState:null;if(v.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(Ws,Xr),Xr|=h;else{if((h&1073741824)===0)return s=k!==null?k.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:s,cachePool:null,transitions:null},l.updateQueue=null,ft(Ws,Xr),Xr|=s,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=k!==null?k.baseLanes:h,ft(Ws,Xr),Xr|=v}else k!==null?(v=k.baseLanes|h,l.memoizedState=null):v=h,ft(Ws,Xr),Xr|=v;return jr(s,l,_,h),l.child}function qw(s,l){var h=l.ref;(s===null&&h!==null||s!==null&&s.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function Sp(s,l,h,v,_){var k=Or(h)?Ta:mr.current;return k=Ds(l,k),Fs(l,_),h=hp(s,l,h,v,k,_),v=pp(),s!==null&&!Ar?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~_,_i(s,l,_)):(bt&&v&&Xh(l),l.flags|=1,jr(s,l,h,_),l.child)}function Ww(s,l,h,v,_){if(Or(h)){var k=!0;lc(l)}else k=!1;if(Fs(l,_),l.stateNode===null)Ec(s,l),Tw(l,h,v),bp(l,h,v,_),v=!0;else if(s===null){var O=l.stateNode,I=l.memoizedProps;O.props=I;var R=O.context,V=h.contextType;typeof V=="object"&&V!==null?V=un(V):(V=Or(h)?Ta:mr.current,V=Ds(l,V));var se=h.getDerivedStateFromProps,oe=typeof se=="function"||typeof O.getSnapshotBeforeUpdate=="function";oe||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(I!==v||R!==V)&&Iw(l,O,v,V),ia=!1;var ie=l.memoizedState;O.state=ie,vc(l,v,O,_),R=l.memoizedState,I!==v||ie!==R||Nr.current||ia?(typeof se=="function"&&(xp(l,h,se,v),R=l.memoizedState),(I=ia||Aw(l,h,I,v,ie,R,V))?(oe||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(l.flags|=4194308)):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=R),O.props=v,O.state=R,O.context=V,v=I):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{O=l.stateNode,sw(s,l),I=l.memoizedProps,V=l.type===l.elementType?I:Dn(l.type,I),O.props=V,oe=l.pendingProps,ie=O.context,R=h.contextType,typeof R=="object"&&R!==null?R=un(R):(R=Or(h)?Ta:mr.current,R=Ds(l,R));var ye=h.getDerivedStateFromProps;(se=typeof ye=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(I!==oe||ie!==R)&&Iw(l,O,v,R),ia=!1,ie=l.memoizedState,O.state=ie,vc(l,v,O,_);var we=l.memoizedState;I!==oe||ie!==we||Nr.current||ia?(typeof ye=="function"&&(xp(l,h,ye,v),we=l.memoizedState),(V=ia||Aw(l,h,V,v,ie,we,R)||!1)?(se||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(v,we,R),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(v,we,R)),typeof O.componentDidUpdate=="function"&&(l.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof O.componentDidUpdate!="function"||I===s.memoizedProps&&ie===s.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ie===s.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=we),O.props=v,O.state=we,O.context=R,v=V):(typeof O.componentDidUpdate!="function"||I===s.memoizedProps&&ie===s.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ie===s.memoizedState||(l.flags|=1024),v=!1)}return jp(s,l,h,v,k,_)}function jp(s,l,h,v,_,k){qw(s,l);var O=(l.flags&128)!==0;if(!v&&!O)return _&&Gb(l,h,!1),_i(s,l,k);v=l.stateNode,dI.current=l;var I=O&&typeof h.getDerivedStateFromError!="function"?null:v.render();return l.flags|=1,s!==null&&O?(l.child=$s(l,s.child,null,k),l.child=$s(l,null,I,k)):jr(s,l,I,k),l.memoizedState=v.state,_&&Gb(l,h,!0),l.child}function Kw(s){var l=s.stateNode;l.pendingContext?Vb(s,l.pendingContext,l.pendingContext!==l.context):l.context&&Vb(s,l.context,!1),op(s,l.containerInfo)}function Hw(s,l,h,v,_){return Ls(),ep(_),l.flags|=256,jr(s,l,h,v),l.child}var kp={dehydrated:null,treeContext:null,retryLane:0};function Ep(s){return{baseLanes:s,cachePool:null,transitions:null}}function Vw(s,l,h){var v=l.pendingProps,_=kt.current,k=!1,O=(l.flags&128)!==0,I;if((I=O)||(I=s!==null&&s.memoizedState===null?!1:(_&2)!==0),I?(k=!0,l.flags&=-129):(s===null||s.memoizedState!==null)&&(_|=1),ft(kt,_&1),s===null)return Zh(l),s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((l.mode&1)===0?l.lanes=1:s.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(O=v.children,s=v.fallback,k?(v=l.mode,k=l.child,O={mode:"hidden",children:O},(v&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=O):k=$c(O,v,0,null),s=Ua(s,v,h,null),k.return=l,s.return=l,k.sibling=s,l.child=k,l.child.memoizedState=Ep(h),l.memoizedState=kp,s):Cp(l,O));if(_=s.memoizedState,_!==null&&(I=_.dehydrated,I!==null))return fI(s,l,O,v,I,_,h);if(k){k=v.fallback,O=l.mode,_=s.child,I=_.sibling;var R={mode:"hidden",children:v.children};return(O&1)===0&&l.child!==_?(v=l.child,v.childLanes=0,v.pendingProps=R,l.deletions=null):(v=da(_,R),v.subtreeFlags=_.subtreeFlags&14680064),I!==null?k=da(I,k):(k=Ua(k,O,h,null),k.flags|=2),k.return=l,v.return=l,v.sibling=k,l.child=v,v=k,k=l.child,O=s.child.memoizedState,O=O===null?Ep(h):{baseLanes:O.baseLanes|h,cachePool:null,transitions:O.transitions},k.memoizedState=O,k.childLanes=s.childLanes&~h,l.memoizedState=kp,v}return k=s.child,s=k.sibling,v=da(k,{mode:"visible",children:v.children}),(l.mode&1)===0&&(v.lanes=h),v.return=l,v.sibling=null,s!==null&&(h=l.deletions,h===null?(l.deletions=[s],l.flags|=16):h.push(s)),l.child=v,l.memoizedState=null,v}function Cp(s,l){return l=$c({mode:"visible",children:l},s.mode,0,null),l.return=s,s.child=l}function kc(s,l,h,v){return v!==null&&ep(v),$s(l,s.child,null,h),s=Cp(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function fI(s,l,h,v,_,k,O){if(h)return l.flags&256?(l.flags&=-257,v=wp(Error(r(422))),kc(s,l,O,v)):l.memoizedState!==null?(l.child=s.child,l.flags|=128,null):(k=v.fallback,_=l.mode,v=$c({mode:"visible",children:v.children},_,0,null),k=Ua(k,_,O,null),k.flags|=2,v.return=l,k.return=l,v.sibling=k,l.child=v,(l.mode&1)!==0&&$s(l,s.child,null,O),l.child.memoizedState=Ep(O),l.memoizedState=kp,k);if((l.mode&1)===0)return kc(s,l,O,null);if(_.data==="$!"){if(v=_.nextSibling&&_.nextSibling.dataset,v)var I=v.dgst;return v=I,k=Error(r(419)),v=wp(k,v,void 0),kc(s,l,O,v)}if(I=(O&s.childLanes)!==0,Ar||I){if(v=Kt,v!==null){switch(O&-O){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(v.suspendedLanes|O))!==0?0:_,_!==0&&_!==k.retryLane&&(k.retryLane=_,bi(s,_),Ln(v,s,_,-1))}return qp(),v=wp(Error(r(421))),kc(s,l,O,v)}return _.data==="$?"?(l.flags|=128,l.child=s.child,l=kI.bind(null,s),_._reactRetry=l,null):(s=k.treeContext,Gr=ea(_.nextSibling),Yr=l,bt=!0,In=null,s!==null&&(on[ln++]=yi,on[ln++]=xi,on[ln++]=Ia,yi=s.id,xi=s.overflow,Ia=l),l=Cp(l,v.children),l.flags|=4096,l)}function Yw(s,l,h){s.lanes|=l;var v=s.alternate;v!==null&&(v.lanes|=l),ip(s.return,l,h)}function Pp(s,l,h,v,_){var k=s.memoizedState;k===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:_}:(k.isBackwards=l,k.rendering=null,k.renderingStartTime=0,k.last=v,k.tail=h,k.tailMode=_)}function Gw(s,l,h){var v=l.pendingProps,_=v.revealOrder,k=v.tail;if(jr(s,l,v.children,h),v=kt.current,(v&2)!==0)v=v&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Yw(s,h,l);else if(s.tag===19)Yw(s,h,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}v&=1}if(ft(kt,v),(l.mode&1)===0)l.memoizedState=null;else switch(_){case"forwards":for(h=l.child,_=null;h!==null;)s=h.alternate,s!==null&&yc(s)===null&&(_=h),h=h.sibling;h=_,h===null?(_=l.child,l.child=null):(_=h.sibling,h.sibling=null),Pp(l,!1,_,h,k);break;case"backwards":for(h=null,_=l.child,l.child=null;_!==null;){if(s=_.alternate,s!==null&&yc(s)===null){l.child=_;break}s=_.sibling,_.sibling=h,h=_,_=s}Pp(l,!0,h,null,k);break;case"together":Pp(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ec(s,l){(l.mode&1)===0&&s!==null&&(s.alternate=null,l.alternate=null,l.flags|=2)}function _i(s,l,h){if(s!==null&&(l.dependencies=s.dependencies),$a|=l.lanes,(h&l.childLanes)===0)return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,h=da(s,s.pendingProps),l.child=h,h.return=l;s.sibling!==null;)s=s.sibling,h=h.sibling=da(s,s.pendingProps),h.return=l;h.sibling=null}return l.child}function hI(s,l,h){switch(l.tag){case 3:Kw(l),Ls();break;case 5:uw(l);break;case 1:Or(l.type)&&lc(l);break;case 4:op(l,l.stateNode.containerInfo);break;case 10:var v=l.type._context,_=l.memoizedProps.value;ft(pc,v._currentValue),v._currentValue=_;break;case 13:if(v=l.memoizedState,v!==null)return v.dehydrated!==null?(ft(kt,kt.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?Vw(s,l,h):(ft(kt,kt.current&1),s=_i(s,l,h),s!==null?s.sibling:null);ft(kt,kt.current&1);break;case 19:if(v=(h&l.childLanes)!==0,(s.flags&128)!==0){if(v)return Gw(s,l,h);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),ft(kt,kt.current),v)break;return null;case 22:case 23:return l.lanes=0,Uw(s,l,h)}return _i(s,l,h)}var Xw,Np,Qw,Jw;Xw=function(s,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)s.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Np=function(){},Qw=function(s,l,h,v){var _=s.memoizedProps;if(_!==v){s=l.stateNode,Ma(ri.current);var k=null;switch(h){case"input":_=Ie(s,_),v=Ie(s,v),k=[];break;case"select":_=te({},_,{value:void 0}),v=te({},v,{value:void 0}),k=[];break;case"textarea":_=Xn(s,_),v=Xn(s,v),k=[];break;default:typeof _.onClick!="function"&&typeof v.onClick=="function"&&(s.onclick=ac)}Ze(h,v);var O;h=null;for(V in _)if(!v.hasOwnProperty(V)&&_.hasOwnProperty(V)&&_[V]!=null)if(V==="style"){var I=_[V];for(O in I)I.hasOwnProperty(O)&&(h||(h={}),h[O]="")}else V!=="dangerouslySetInnerHTML"&&V!=="children"&&V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(i.hasOwnProperty(V)?k||(k=[]):(k=k||[]).push(V,null));for(V in v){var R=v[V];if(I=_?.[V],v.hasOwnProperty(V)&&R!==I&&(R!=null||I!=null))if(V==="style")if(I){for(O in I)!I.hasOwnProperty(O)||R&&R.hasOwnProperty(O)||(h||(h={}),h[O]="");for(O in R)R.hasOwnProperty(O)&&I[O]!==R[O]&&(h||(h={}),h[O]=R[O])}else h||(k||(k=[]),k.push(V,h)),h=R;else V==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,I=I?I.__html:void 0,R!=null&&I!==R&&(k=k||[]).push(V,R)):V==="children"?typeof R!="string"&&typeof R!="number"||(k=k||[]).push(V,""+R):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&(i.hasOwnProperty(V)?(R!=null&&V==="onScroll"&&vt("scroll",s),k||I===R||(k=[])):(k=k||[]).push(V,R))}h&&(k=k||[]).push("style",h);var V=k;(l.updateQueue=V)&&(l.flags|=4)}},Jw=function(s,l,h,v){h!==v&&(l.flags|=4)};function gl(s,l){if(!bt)switch(s.tailMode){case"hidden":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function vr(s){var l=s.alternate!==null&&s.alternate.child===s.child,h=0,v=0;if(l)for(var _=s.child;_!==null;)h|=_.lanes|_.childLanes,v|=_.subtreeFlags&14680064,v|=_.flags&14680064,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)h|=_.lanes|_.childLanes,v|=_.subtreeFlags,v|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=v,s.childLanes=h,l}function pI(s,l,h){var v=l.pendingProps;switch(Qh(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vr(l),null;case 1:return Or(l.type)&&oc(),vr(l),null;case 3:return v=l.stateNode,zs(),yt(Nr),yt(mr),cp(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(s===null||s.child===null)&&(fc(l)?l.flags|=4:s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,In!==null&&(Fp(In),In=null))),Np(s,l),vr(l),null;case 5:lp(l);var _=Ma(dl.current);if(h=l.type,s!==null&&l.stateNode!=null)Qw(s,l,h,v,_),s.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!v){if(l.stateNode===null)throw Error(r(166));return vr(l),null}if(s=Ma(ri.current),fc(l)){v=l.stateNode,h=l.type;var k=l.memoizedProps;switch(v[ti]=l,v[sl]=k,s=(l.mode&1)!==0,h){case"dialog":vt("cancel",v),vt("close",v);break;case"iframe":case"object":case"embed":vt("load",v);break;case"video":case"audio":for(_=0;_<nl.length;_++)vt(nl[_],v);break;case"source":vt("error",v);break;case"img":case"image":case"link":vt("error",v),vt("load",v);break;case"details":vt("toggle",v);break;case"input":ut(v,k),vt("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!k.multiple},vt("invalid",v);break;case"textarea":Na(v,k),vt("invalid",v)}Ze(h,k),_=null;for(var O in k)if(k.hasOwnProperty(O)){var I=k[O];O==="children"?typeof I=="string"?v.textContent!==I&&(k.suppressHydrationWarning!==!0&&ic(v.textContent,I,s),_=["children",I]):typeof I=="number"&&v.textContent!==""+I&&(k.suppressHydrationWarning!==!0&&ic(v.textContent,I,s),_=["children",""+I]):i.hasOwnProperty(O)&&I!=null&&O==="onScroll"&&vt("scroll",v)}switch(h){case"input":Ee(v),Gn(v,k,!0);break;case"textarea":Ee(v),Ss(v);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(v.onclick=ac)}v=_,l.updateQueue=v,v!==null&&(l.flags|=4)}else{O=_.nodeType===9?_:_.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=js(h)),s==="http://www.w3.org/1999/xhtml"?h==="script"?(s=O.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof v.is=="string"?s=O.createElement(h,{is:v.is}):(s=O.createElement(h),h==="select"&&(O=s,v.multiple?O.multiple=!0:v.size&&(O.size=v.size))):s=O.createElementNS(s,h),s[ti]=l,s[sl]=v,Xw(s,l,!1,!1),l.stateNode=s;e:{switch(O=Ke(h,v),h){case"dialog":vt("cancel",s),vt("close",s),_=v;break;case"iframe":case"object":case"embed":vt("load",s),_=v;break;case"video":case"audio":for(_=0;_<nl.length;_++)vt(nl[_],s);_=v;break;case"source":vt("error",s),_=v;break;case"img":case"image":case"link":vt("error",s),vt("load",s),_=v;break;case"details":vt("toggle",s),_=v;break;case"input":ut(s,v),_=Ie(s,v),vt("invalid",s);break;case"option":_=v;break;case"select":s._wrapperState={wasMultiple:!!v.multiple},_=te({},v,{value:void 0}),vt("invalid",s);break;case"textarea":Na(s,v),_=Xn(s,v),vt("invalid",s);break;default:_=v}Ze(h,_),I=_;for(k in I)if(I.hasOwnProperty(k)){var R=I[k];k==="style"?Re(s,R):k==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&Qn(s,R)):k==="children"?typeof R=="string"?(h!=="textarea"||R!=="")&&Jn(s,R):typeof R=="number"&&Jn(s,""+R):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?R!=null&&k==="onScroll"&&vt("scroll",s):R!=null&&E(s,k,R,O))}switch(h){case"input":Ee(s),Gn(s,v,!1);break;case"textarea":Ee(s),Ss(s);break;case"option":v.value!=null&&s.setAttribute("value",""+pe(v.value));break;case"select":s.multiple=!!v.multiple,k=v.value,k!=null?qr(s,!!v.multiple,k,!1):v.defaultValue!=null&&qr(s,!!v.multiple,v.defaultValue,!0);break;default:typeof _.onClick=="function"&&(s.onclick=ac)}switch(h){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return vr(l),null;case 6:if(s&&l.stateNode!=null)Jw(s,l,s.memoizedProps,v);else{if(typeof v!="string"&&l.stateNode===null)throw Error(r(166));if(h=Ma(dl.current),Ma(ri.current),fc(l)){if(v=l.stateNode,h=l.memoizedProps,v[ti]=l,(k=v.nodeValue!==h)&&(s=Yr,s!==null))switch(s.tag){case 3:ic(v.nodeValue,h,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ic(v.nodeValue,h,(s.mode&1)!==0)}k&&(l.flags|=4)}else v=(h.nodeType===9?h:h.ownerDocument).createTextNode(v),v[ti]=l,l.stateNode=v}return vr(l),null;case 13:if(yt(kt),v=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(bt&&Gr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)tw(),Ls(),l.flags|=98560,k=!1;else if(k=fc(l),v!==null&&v.dehydrated!==null){if(s===null){if(!k)throw Error(r(318));if(k=l.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));k[ti]=l}else Ls(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;vr(l),k=!1}else In!==null&&(Fp(In),In=null),k=!0;if(!k)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(v=v!==null,v!==(s!==null&&s.memoizedState!==null)&&v&&(l.child.flags|=8192,(l.mode&1)!==0&&(s===null||(kt.current&1)!==0?$t===0&&($t=3):qp())),l.updateQueue!==null&&(l.flags|=4),vr(l),null);case 4:return zs(),Np(s,l),s===null&&il(l.stateNode.containerInfo),vr(l),null;case 10:return np(l.type._context),vr(l),null;case 17:return Or(l.type)&&oc(),vr(l),null;case 19:if(yt(kt),k=l.memoizedState,k===null)return vr(l),null;if(v=(l.flags&128)!==0,O=k.rendering,O===null)if(v)gl(k,!1);else{if($t!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(O=yc(s),O!==null){for(l.flags|=128,gl(k,!1),v=O.updateQueue,v!==null&&(l.updateQueue=v,l.flags|=4),l.subtreeFlags=0,v=h,h=l.child;h!==null;)k=h,s=v,k.flags&=14680066,O=k.alternate,O===null?(k.childLanes=0,k.lanes=s,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=O.childLanes,k.lanes=O.lanes,k.child=O.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=O.memoizedProps,k.memoizedState=O.memoizedState,k.updateQueue=O.updateQueue,k.type=O.type,s=O.dependencies,k.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),h=h.sibling;return ft(kt,kt.current&1|2),l.child}s=s.sibling}k.tail!==null&&Ot()>Ks&&(l.flags|=128,v=!0,gl(k,!1),l.lanes=4194304)}else{if(!v)if(s=yc(O),s!==null){if(l.flags|=128,v=!0,h=s.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),gl(k,!0),k.tail===null&&k.tailMode==="hidden"&&!O.alternate&&!bt)return vr(l),null}else 2*Ot()-k.renderingStartTime>Ks&&h!==1073741824&&(l.flags|=128,v=!0,gl(k,!1),l.lanes=4194304);k.isBackwards?(O.sibling=l.child,l.child=O):(h=k.last,h!==null?h.sibling=O:l.child=O,k.last=O)}return k.tail!==null?(l=k.tail,k.rendering=l,k.tail=l.sibling,k.renderingStartTime=Ot(),l.sibling=null,h=kt.current,ft(kt,v?h&1|2:h&1),l):(vr(l),null);case 22:case 23:return Up(),v=l.memoizedState!==null,s!==null&&s.memoizedState!==null!==v&&(l.flags|=8192),v&&(l.mode&1)!==0?(Xr&1073741824)!==0&&(vr(l),l.subtreeFlags&6&&(l.flags|=8192)):vr(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function mI(s,l){switch(Qh(l),l.tag){case 1:return Or(l.type)&&oc(),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return zs(),yt(Nr),yt(mr),cp(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 5:return lp(l),null;case 13:if(yt(kt),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Ls()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return yt(kt),null;case 4:return zs(),null;case 10:return np(l.type._context),null;case 22:case 23:return Up(),null;case 24:return null;default:return null}}var Cc=!1,yr=!1,gI=typeof WeakSet=="function"?WeakSet:Set,xe=null;function qs(s,l){var h=s.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(v){Pt(s,l,v)}else h.current=null}function Op(s,l,h){try{h()}catch(v){Pt(s,l,v)}}var Zw=!1;function vI(s,l){if(Uh=Vu,s=Ab(),Dh(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var _=v.anchorOffset,k=v.focusNode;v=v.focusOffset;try{h.nodeType,k.nodeType}catch{h=null;break e}var O=0,I=-1,R=-1,V=0,se=0,oe=s,ie=null;t:for(;;){for(var ye;oe!==h||_!==0&&oe.nodeType!==3||(I=O+_),oe!==k||v!==0&&oe.nodeType!==3||(R=O+v),oe.nodeType===3&&(O+=oe.nodeValue.length),(ye=oe.firstChild)!==null;)ie=oe,oe=ye;for(;;){if(oe===s)break t;if(ie===h&&++V===_&&(I=O),ie===k&&++se===v&&(R=O),(ye=oe.nextSibling)!==null)break;oe=ie,ie=oe.parentNode}oe=ye}h=I===-1||R===-1?null:{start:I,end:R}}else h=null}h=h||{start:0,end:0}}else h=null;for(qh={focusedElem:s,selectionRange:h},Vu=!1,xe=l;xe!==null;)if(l=xe,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,xe=s;else for(;xe!==null;){l=xe;try{var we=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Se=we.memoizedProps,At=we.memoizedState,U=l.stateNode,$=U.getSnapshotBeforeUpdate(l.elementType===l.type?Se:Dn(l.type,Se),At);U.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var W=l.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ue){Pt(l,l.return,ue)}if(s=l.sibling,s!==null){s.return=l.return,xe=s;break}xe=l.return}return we=Zw,Zw=!1,we}function vl(s,l,h){var v=l.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var _=v=v.next;do{if((_.tag&s)===s){var k=_.destroy;_.destroy=void 0,k!==void 0&&Op(l,h,k)}_=_.next}while(_!==v)}}function Pc(s,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&s)===s){var v=h.create;h.destroy=v()}h=h.next}while(h!==l)}}function Ap(s){var l=s.ref;if(l!==null){var h=s.stateNode;switch(s.tag){case 5:s=h;break;default:s=h}typeof l=="function"?l(s):l.current=s}}function e1(s){var l=s.alternate;l!==null&&(s.alternate=null,e1(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&(delete l[ti],delete l[sl],delete l[Vh],delete l[ZT],delete l[eI])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function t1(s){return s.tag===5||s.tag===3||s.tag===4}function r1(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||t1(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Tp(s,l,h){var v=s.tag;if(v===5||v===6)s=s.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(s,l):h.insertBefore(s,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(s,h)):(l=h,l.appendChild(s)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=ac));else if(v!==4&&(s=s.child,s!==null))for(Tp(s,l,h),s=s.sibling;s!==null;)Tp(s,l,h),s=s.sibling}function Ip(s,l,h){var v=s.tag;if(v===5||v===6)s=s.stateNode,l?h.insertBefore(s,l):h.appendChild(s);else if(v!==4&&(s=s.child,s!==null))for(Ip(s,l,h),s=s.sibling;s!==null;)Ip(s,l,h),s=s.sibling}var nr=null,Rn=!1;function sa(s,l,h){for(h=h.child;h!==null;)n1(s,l,h),h=h.sibling}function n1(s,l,h){if(ei&&typeof ei.onCommitFiberUnmount=="function")try{ei.onCommitFiberUnmount(zu,h)}catch{}switch(h.tag){case 5:yr||qs(h,l);case 6:var v=nr,_=Rn;nr=null,sa(s,l,h),nr=v,Rn=_,nr!==null&&(Rn?(s=nr,h=h.stateNode,s.nodeType===8?s.parentNode.removeChild(h):s.removeChild(h)):nr.removeChild(h.stateNode));break;case 18:nr!==null&&(Rn?(s=nr,h=h.stateNode,s.nodeType===8?Hh(s.parentNode,h):s.nodeType===1&&Hh(s,h),Go(s)):Hh(nr,h.stateNode));break;case 4:v=nr,_=Rn,nr=h.stateNode.containerInfo,Rn=!0,sa(s,l,h),nr=v,Rn=_;break;case 0:case 11:case 14:case 15:if(!yr&&(v=h.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){_=v=v.next;do{var k=_,O=k.destroy;k=k.tag,O!==void 0&&((k&2)!==0||(k&4)!==0)&&Op(h,l,O),_=_.next}while(_!==v)}sa(s,l,h);break;case 1:if(!yr&&(qs(h,l),v=h.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=h.memoizedProps,v.state=h.memoizedState,v.componentWillUnmount()}catch(I){Pt(h,l,I)}sa(s,l,h);break;case 21:sa(s,l,h);break;case 22:h.mode&1?(yr=(v=yr)||h.memoizedState!==null,sa(s,l,h),yr=v):sa(s,l,h);break;default:sa(s,l,h)}}function i1(s){var l=s.updateQueue;if(l!==null){s.updateQueue=null;var h=s.stateNode;h===null&&(h=s.stateNode=new gI),l.forEach(function(v){var _=EI.bind(null,s,v);h.has(v)||(h.add(v),v.then(_,_))})}}function Mn(s,l){var h=l.deletions;if(h!==null)for(var v=0;v<h.length;v++){var _=h[v];try{var k=s,O=l,I=O;e:for(;I!==null;){switch(I.tag){case 5:nr=I.stateNode,Rn=!1;break e;case 3:nr=I.stateNode.containerInfo,Rn=!0;break e;case 4:nr=I.stateNode.containerInfo,Rn=!0;break e}I=I.return}if(nr===null)throw Error(r(160));n1(k,O,_),nr=null,Rn=!1;var R=_.alternate;R!==null&&(R.return=null),_.return=null}catch(V){Pt(_,l,V)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)a1(l,s),l=l.sibling}function a1(s,l){var h=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Mn(l,s),ii(s),v&4){try{vl(3,s,s.return),Pc(3,s)}catch(Se){Pt(s,s.return,Se)}try{vl(5,s,s.return)}catch(Se){Pt(s,s.return,Se)}}break;case 1:Mn(l,s),ii(s),v&512&&h!==null&&qs(h,h.return);break;case 5:if(Mn(l,s),ii(s),v&512&&h!==null&&qs(h,h.return),s.flags&32){var _=s.stateNode;try{Jn(_,"")}catch(Se){Pt(s,s.return,Se)}}if(v&4&&(_=s.stateNode,_!=null)){var k=s.memoizedProps,O=h!==null?h.memoizedProps:k,I=s.type,R=s.updateQueue;if(s.updateQueue=null,R!==null)try{I==="input"&&k.type==="radio"&&k.name!=null&&Le(_,k),Ke(I,O);var V=Ke(I,k);for(O=0;O<R.length;O+=2){var se=R[O],oe=R[O+1];se==="style"?Re(_,oe):se==="dangerouslySetInnerHTML"?Qn(_,oe):se==="children"?Jn(_,oe):E(_,se,oe,V)}switch(I){case"input":Mt(_,k);break;case"textarea":Vi(_,k);break;case"select":var ie=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!k.multiple;var ye=k.value;ye!=null?qr(_,!!k.multiple,ye,!1):ie!==!!k.multiple&&(k.defaultValue!=null?qr(_,!!k.multiple,k.defaultValue,!0):qr(_,!!k.multiple,k.multiple?[]:"",!1))}_[sl]=k}catch(Se){Pt(s,s.return,Se)}}break;case 6:if(Mn(l,s),ii(s),v&4){if(s.stateNode===null)throw Error(r(162));_=s.stateNode,k=s.memoizedProps;try{_.nodeValue=k}catch(Se){Pt(s,s.return,Se)}}break;case 3:if(Mn(l,s),ii(s),v&4&&h!==null&&h.memoizedState.isDehydrated)try{Go(l.containerInfo)}catch(Se){Pt(s,s.return,Se)}break;case 4:Mn(l,s),ii(s);break;case 13:Mn(l,s),ii(s),_=s.child,_.flags&8192&&(k=_.memoizedState!==null,_.stateNode.isHidden=k,!k||_.alternate!==null&&_.alternate.memoizedState!==null||(Mp=Ot())),v&4&&i1(s);break;case 22:if(se=h!==null&&h.memoizedState!==null,s.mode&1?(yr=(V=yr)||se,Mn(l,s),yr=V):Mn(l,s),ii(s),v&8192){if(V=s.memoizedState!==null,(s.stateNode.isHidden=V)&&!se&&(s.mode&1)!==0)for(xe=s,se=s.child;se!==null;){for(oe=xe=se;xe!==null;){switch(ie=xe,ye=ie.child,ie.tag){case 0:case 11:case 14:case 15:vl(4,ie,ie.return);break;case 1:qs(ie,ie.return);var we=ie.stateNode;if(typeof we.componentWillUnmount=="function"){v=ie,h=ie.return;try{l=v,we.props=l.memoizedProps,we.state=l.memoizedState,we.componentWillUnmount()}catch(Se){Pt(v,h,Se)}}break;case 5:qs(ie,ie.return);break;case 22:if(ie.memoizedState!==null){l1(oe);continue}}ye!==null?(ye.return=ie,xe=ye):l1(oe)}se=se.sibling}e:for(se=null,oe=s;;){if(oe.tag===5){if(se===null){se=oe;try{_=oe.stateNode,V?(k=_.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(I=oe.stateNode,R=oe.memoizedProps.style,O=R!=null&&R.hasOwnProperty("display")?R.display:null,I.style.display=Me("display",O))}catch(Se){Pt(s,s.return,Se)}}}else if(oe.tag===6){if(se===null)try{oe.stateNode.nodeValue=V?"":oe.memoizedProps}catch(Se){Pt(s,s.return,Se)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===s)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===s)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===s)break e;se===oe&&(se=null),oe=oe.return}se===oe&&(se=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Mn(l,s),ii(s),v&4&&i1(s);break;case 21:break;default:Mn(l,s),ii(s)}}function ii(s){var l=s.flags;if(l&2){try{e:{for(var h=s.return;h!==null;){if(t1(h)){var v=h;break e}h=h.return}throw Error(r(160))}switch(v.tag){case 5:var _=v.stateNode;v.flags&32&&(Jn(_,""),v.flags&=-33);var k=r1(s);Ip(s,k,_);break;case 3:case 4:var O=v.stateNode.containerInfo,I=r1(s);Tp(s,I,O);break;default:throw Error(r(161))}}catch(R){Pt(s,s.return,R)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function yI(s,l,h){xe=s,s1(s)}function s1(s,l,h){for(var v=(s.mode&1)!==0;xe!==null;){var _=xe,k=_.child;if(_.tag===22&&v){var O=_.memoizedState!==null||Cc;if(!O){var I=_.alternate,R=I!==null&&I.memoizedState!==null||yr;I=Cc;var V=yr;if(Cc=O,(yr=R)&&!V)for(xe=_;xe!==null;)O=xe,R=O.child,O.tag===22&&O.memoizedState!==null?u1(_):R!==null?(R.return=O,xe=R):u1(_);for(;k!==null;)xe=k,s1(k),k=k.sibling;xe=_,Cc=I,yr=V}o1(s)}else(_.subtreeFlags&8772)!==0&&k!==null?(k.return=_,xe=k):o1(s)}}function o1(s){for(;xe!==null;){var l=xe;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:yr||Pc(5,l);break;case 1:var v=l.stateNode;if(l.flags&4&&!yr)if(h===null)v.componentDidMount();else{var _=l.elementType===l.type?h.memoizedProps:Dn(l.type,h.memoizedProps);v.componentDidUpdate(_,h.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var k=l.updateQueue;k!==null&&lw(l,k,v);break;case 3:var O=l.updateQueue;if(O!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}lw(l,O,h)}break;case 5:var I=l.stateNode;if(h===null&&l.flags&4){h=I;var R=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&h.focus();break;case"img":R.src&&(h.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var V=l.alternate;if(V!==null){var se=V.memoizedState;if(se!==null){var oe=se.dehydrated;oe!==null&&Go(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}yr||l.flags&512&&Ap(l)}catch(ie){Pt(l,l.return,ie)}}if(l===s){xe=null;break}if(h=l.sibling,h!==null){h.return=l.return,xe=h;break}xe=l.return}}function l1(s){for(;xe!==null;){var l=xe;if(l===s){xe=null;break}var h=l.sibling;if(h!==null){h.return=l.return,xe=h;break}xe=l.return}}function u1(s){for(;xe!==null;){var l=xe;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{Pc(4,l)}catch(R){Pt(l,h,R)}break;case 1:var v=l.stateNode;if(typeof v.componentDidMount=="function"){var _=l.return;try{v.componentDidMount()}catch(R){Pt(l,_,R)}}var k=l.return;try{Ap(l)}catch(R){Pt(l,k,R)}break;case 5:var O=l.return;try{Ap(l)}catch(R){Pt(l,O,R)}}}catch(R){Pt(l,l.return,R)}if(l===s){xe=null;break}var I=l.sibling;if(I!==null){I.return=l.return,xe=I;break}xe=l.return}}var xI=Math.ceil,Nc=P.ReactCurrentDispatcher,Dp=P.ReactCurrentOwner,dn=P.ReactCurrentBatchConfig,Ye=0,Kt=null,It=null,ir=0,Xr=0,Ws=ta(0),$t=0,yl=null,$a=0,Oc=0,Rp=0,xl=null,Tr=null,Mp=0,Ks=1/0,Si=null,Ac=!1,Lp=null,oa=null,Tc=!1,la=null,Ic=0,bl=0,$p=null,Dc=-1,Rc=0;function kr(){return(Ye&6)!==0?Ot():Dc!==-1?Dc:Dc=Ot()}function ua(s){return(s.mode&1)===0?1:(Ye&2)!==0&&ir!==0?ir&-ir:rI.transition!==null?(Rc===0&&(Rc=rb()),Rc):(s=it,s!==0||(s=window.event,s=s===void 0?16:db(s.type)),s)}function Ln(s,l,h,v){if(50<bl)throw bl=0,$p=null,Error(r(185));Wo(s,h,v),((Ye&2)===0||s!==Kt)&&(s===Kt&&((Ye&2)===0&&(Oc|=h),$t===4&&ca(s,ir)),Ir(s,v),h===1&&Ye===0&&(l.mode&1)===0&&(Ks=Ot()+500,uc&&na()))}function Ir(s,l){var h=s.callbackNode;rT(s,l);var v=Wu(s,s===Kt?ir:0);if(v===0)h!==null&&Zx(h),s.callbackNode=null,s.callbackPriority=0;else if(l=v&-v,s.callbackPriority!==l){if(h!=null&&Zx(h),l===1)s.tag===0?tI(d1.bind(null,s)):Xb(d1.bind(null,s)),QT(function(){(Ye&6)===0&&na()}),h=null;else{switch(nb(v)){case 1:h=vh;break;case 4:h=eb;break;case 16:h=Fu;break;case 536870912:h=tb;break;default:h=Fu}h=x1(h,c1.bind(null,s))}s.callbackPriority=l,s.callbackNode=h}}function c1(s,l){if(Dc=-1,Rc=0,(Ye&6)!==0)throw Error(r(327));var h=s.callbackNode;if(Hs()&&s.callbackNode!==h)return null;var v=Wu(s,s===Kt?ir:0);if(v===0)return null;if((v&30)!==0||(v&s.expiredLanes)!==0||l)l=Mc(s,v);else{l=v;var _=Ye;Ye|=2;var k=h1();(Kt!==s||ir!==l)&&(Si=null,Ks=Ot()+500,Fa(s,l));do try{_I();break}catch(I){f1(s,I)}while(!0);rp(),Nc.current=k,Ye=_,It!==null?l=0:(Kt=null,ir=0,l=$t)}if(l!==0){if(l===2&&(_=yh(s),_!==0&&(v=_,l=Bp(s,_))),l===1)throw h=yl,Fa(s,0),ca(s,v),Ir(s,Ot()),h;if(l===6)ca(s,v);else{if(_=s.current.alternate,(v&30)===0&&!bI(_)&&(l=Mc(s,v),l===2&&(k=yh(s),k!==0&&(v=k,l=Bp(s,k))),l===1))throw h=yl,Fa(s,0),ca(s,v),Ir(s,Ot()),h;switch(s.finishedWork=_,s.finishedLanes=v,l){case 0:case 1:throw Error(r(345));case 2:za(s,Tr,Si);break;case 3:if(ca(s,v),(v&130023424)===v&&(l=Mp+500-Ot(),10<l)){if(Wu(s,0)!==0)break;if(_=s.suspendedLanes,(_&v)!==v){kr(),s.pingedLanes|=s.suspendedLanes&_;break}s.timeoutHandle=Kh(za.bind(null,s,Tr,Si),l);break}za(s,Tr,Si);break;case 4:if(ca(s,v),(v&4194240)===v)break;for(l=s.eventTimes,_=-1;0<v;){var O=31-An(v);k=1<<O,O=l[O],O>_&&(_=O),v&=~k}if(v=_,v=Ot()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*xI(v/1960))-v,10<v){s.timeoutHandle=Kh(za.bind(null,s,Tr,Si),v);break}za(s,Tr,Si);break;case 5:za(s,Tr,Si);break;default:throw Error(r(329))}}}return Ir(s,Ot()),s.callbackNode===h?c1.bind(null,s):null}function Bp(s,l){var h=xl;return s.current.memoizedState.isDehydrated&&(Fa(s,l).flags|=256),s=Mc(s,l),s!==2&&(l=Tr,Tr=h,l!==null&&Fp(l)),s}function Fp(s){Tr===null?Tr=s:Tr.push.apply(Tr,s)}function bI(s){for(var l=s;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var v=0;v<h.length;v++){var _=h[v],k=_.getSnapshot;_=_.value;try{if(!Tn(k(),_))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ca(s,l){for(l&=~Rp,l&=~Oc,s.suspendedLanes|=l,s.pingedLanes&=~l,s=s.expirationTimes;0<l;){var h=31-An(l),v=1<<h;s[h]=-1,l&=~v}}function d1(s){if((Ye&6)!==0)throw Error(r(327));Hs();var l=Wu(s,0);if((l&1)===0)return Ir(s,Ot()),null;var h=Mc(s,l);if(s.tag!==0&&h===2){var v=yh(s);v!==0&&(l=v,h=Bp(s,v))}if(h===1)throw h=yl,Fa(s,0),ca(s,l),Ir(s,Ot()),h;if(h===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=l,za(s,Tr,Si),Ir(s,Ot()),null}function zp(s,l){var h=Ye;Ye|=1;try{return s(l)}finally{Ye=h,Ye===0&&(Ks=Ot()+500,uc&&na())}}function Ba(s){la!==null&&la.tag===0&&(Ye&6)===0&&Hs();var l=Ye;Ye|=1;var h=dn.transition,v=it;try{if(dn.transition=null,it=1,s)return s()}finally{it=v,dn.transition=h,Ye=l,(Ye&6)===0&&na()}}function Up(){Xr=Ws.current,yt(Ws)}function Fa(s,l){s.finishedWork=null,s.finishedLanes=0;var h=s.timeoutHandle;if(h!==-1&&(s.timeoutHandle=-1,XT(h)),It!==null)for(h=It.return;h!==null;){var v=h;switch(Qh(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&oc();break;case 3:zs(),yt(Nr),yt(mr),cp();break;case 5:lp(v);break;case 4:zs();break;case 13:yt(kt);break;case 19:yt(kt);break;case 10:np(v.type._context);break;case 22:case 23:Up()}h=h.return}if(Kt=s,It=s=da(s.current,null),ir=Xr=l,$t=0,yl=null,Rp=Oc=$a=0,Tr=xl=null,Ra!==null){for(l=0;l<Ra.length;l++)if(h=Ra[l],v=h.interleaved,v!==null){h.interleaved=null;var _=v.next,k=h.pending;if(k!==null){var O=k.next;k.next=_,v.next=O}h.pending=v}Ra=null}return s}function f1(s,l){do{var h=It;try{if(rp(),xc.current=Sc,bc){for(var v=Et.memoizedState;v!==null;){var _=v.queue;_!==null&&(_.pending=null),v=v.next}bc=!1}if(La=0,Wt=Lt=Et=null,fl=!1,hl=0,Dp.current=null,h===null||h.return===null){$t=1,yl=l,It=null;break}e:{var k=s,O=h.return,I=h,R=l;if(l=ir,I.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var V=R,se=I,oe=se.tag;if((se.mode&1)===0&&(oe===0||oe===11||oe===15)){var ie=se.alternate;ie?(se.updateQueue=ie.updateQueue,se.memoizedState=ie.memoizedState,se.lanes=ie.lanes):(se.updateQueue=null,se.memoizedState=null)}var ye=Lw(O);if(ye!==null){ye.flags&=-257,$w(ye,O,I,k,l),ye.mode&1&&Mw(k,V,l),l=ye,R=V;var we=l.updateQueue;if(we===null){var Se=new Set;Se.add(R),l.updateQueue=Se}else we.add(R);break e}else{if((l&1)===0){Mw(k,V,l),qp();break e}R=Error(r(426))}}else if(bt&&I.mode&1){var At=Lw(O);if(At!==null){(At.flags&65536)===0&&(At.flags|=256),$w(At,O,I,k,l),ep(Us(R,I));break e}}k=R=Us(R,I),$t!==4&&($t=2),xl===null?xl=[k]:xl.push(k),k=O;do{switch(k.tag){case 3:k.flags|=65536,l&=-l,k.lanes|=l;var U=Dw(k,R,l);ow(k,U);break e;case 1:I=R;var $=k.type,W=k.stateNode;if((k.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(oa===null||!oa.has(W)))){k.flags|=65536,l&=-l,k.lanes|=l;var ue=Rw(k,I,l);ow(k,ue);break e}}k=k.return}while(k!==null)}m1(h)}catch(je){l=je,It===h&&h!==null&&(It=h=h.return);continue}break}while(!0)}function h1(){var s=Nc.current;return Nc.current=Sc,s===null?Sc:s}function qp(){($t===0||$t===3||$t===2)&&($t=4),Kt===null||($a&268435455)===0&&(Oc&268435455)===0||ca(Kt,ir)}function Mc(s,l){var h=Ye;Ye|=2;var v=h1();(Kt!==s||ir!==l)&&(Si=null,Fa(s,l));do try{wI();break}catch(_){f1(s,_)}while(!0);if(rp(),Ye=h,Nc.current=v,It!==null)throw Error(r(261));return Kt=null,ir=0,$t}function wI(){for(;It!==null;)p1(It)}function _I(){for(;It!==null&&!VA();)p1(It)}function p1(s){var l=y1(s.alternate,s,Xr);s.memoizedProps=s.pendingProps,l===null?m1(s):It=l,Dp.current=null}function m1(s){var l=s;do{var h=l.alternate;if(s=l.return,(l.flags&32768)===0){if(h=pI(h,l,Xr),h!==null){It=h;return}}else{if(h=mI(h,l),h!==null){h.flags&=32767,It=h;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{$t=6,It=null;return}}if(l=l.sibling,l!==null){It=l;return}It=l=s}while(l!==null);$t===0&&($t=5)}function za(s,l,h){var v=it,_=dn.transition;try{dn.transition=null,it=1,SI(s,l,h,v)}finally{dn.transition=_,it=v}return null}function SI(s,l,h,v){do Hs();while(la!==null);if((Ye&6)!==0)throw Error(r(327));h=s.finishedWork;var _=s.finishedLanes;if(h===null)return null;if(s.finishedWork=null,s.finishedLanes=0,h===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var k=h.lanes|h.childLanes;if(nT(s,k),s===Kt&&(It=Kt=null,ir=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Tc||(Tc=!0,x1(Fu,function(){return Hs(),null})),k=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||k){k=dn.transition,dn.transition=null;var O=it;it=1;var I=Ye;Ye|=4,Dp.current=null,vI(s,h),a1(h,s),qT(qh),Vu=!!Uh,qh=Uh=null,s.current=h,yI(h),YA(),Ye=I,it=O,dn.transition=k}else s.current=h;if(Tc&&(Tc=!1,la=s,Ic=_),k=s.pendingLanes,k===0&&(oa=null),QA(h.stateNode),Ir(s,Ot()),l!==null)for(v=s.onRecoverableError,h=0;h<l.length;h++)_=l[h],v(_.value,{componentStack:_.stack,digest:_.digest});if(Ac)throw Ac=!1,s=Lp,Lp=null,s;return(Ic&1)!==0&&s.tag!==0&&Hs(),k=s.pendingLanes,(k&1)!==0?s===$p?bl++:(bl=0,$p=s):bl=0,na(),null}function Hs(){if(la!==null){var s=nb(Ic),l=dn.transition,h=it;try{if(dn.transition=null,it=16>s?16:s,la===null)var v=!1;else{if(s=la,la=null,Ic=0,(Ye&6)!==0)throw Error(r(331));var _=Ye;for(Ye|=4,xe=s.current;xe!==null;){var k=xe,O=k.child;if((xe.flags&16)!==0){var I=k.deletions;if(I!==null){for(var R=0;R<I.length;R++){var V=I[R];for(xe=V;xe!==null;){var se=xe;switch(se.tag){case 0:case 11:case 15:vl(8,se,k)}var oe=se.child;if(oe!==null)oe.return=se,xe=oe;else for(;xe!==null;){se=xe;var ie=se.sibling,ye=se.return;if(e1(se),se===V){xe=null;break}if(ie!==null){ie.return=ye,xe=ie;break}xe=ye}}}var we=k.alternate;if(we!==null){var Se=we.child;if(Se!==null){we.child=null;do{var At=Se.sibling;Se.sibling=null,Se=At}while(Se!==null)}}xe=k}}if((k.subtreeFlags&2064)!==0&&O!==null)O.return=k,xe=O;else e:for(;xe!==null;){if(k=xe,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:vl(9,k,k.return)}var U=k.sibling;if(U!==null){U.return=k.return,xe=U;break e}xe=k.return}}var $=s.current;for(xe=$;xe!==null;){O=xe;var W=O.child;if((O.subtreeFlags&2064)!==0&&W!==null)W.return=O,xe=W;else e:for(O=$;xe!==null;){if(I=xe,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:Pc(9,I)}}catch(je){Pt(I,I.return,je)}if(I===O){xe=null;break e}var ue=I.sibling;if(ue!==null){ue.return=I.return,xe=ue;break e}xe=I.return}}if(Ye=_,na(),ei&&typeof ei.onPostCommitFiberRoot=="function")try{ei.onPostCommitFiberRoot(zu,s)}catch{}v=!0}return v}finally{it=h,dn.transition=l}}return!1}function g1(s,l,h){l=Us(h,l),l=Dw(s,l,1),s=aa(s,l,1),l=kr(),s!==null&&(Wo(s,1,l),Ir(s,l))}function Pt(s,l,h){if(s.tag===3)g1(s,s,h);else for(;l!==null;){if(l.tag===3){g1(l,s,h);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(oa===null||!oa.has(v))){s=Us(h,s),s=Rw(l,s,1),l=aa(l,s,1),s=kr(),l!==null&&(Wo(l,1,s),Ir(l,s));break}}l=l.return}}function jI(s,l,h){var v=s.pingCache;v!==null&&v.delete(l),l=kr(),s.pingedLanes|=s.suspendedLanes&h,Kt===s&&(ir&h)===h&&($t===4||$t===3&&(ir&130023424)===ir&&500>Ot()-Mp?Fa(s,0):Rp|=h),Ir(s,l)}function v1(s,l){l===0&&((s.mode&1)===0?l=1:(l=qu,qu<<=1,(qu&130023424)===0&&(qu=4194304)));var h=kr();s=bi(s,l),s!==null&&(Wo(s,l,h),Ir(s,h))}function kI(s){var l=s.memoizedState,h=0;l!==null&&(h=l.retryLane),v1(s,h)}function EI(s,l){var h=0;switch(s.tag){case 13:var v=s.stateNode,_=s.memoizedState;_!==null&&(h=_.retryLane);break;case 19:v=s.stateNode;break;default:throw Error(r(314))}v!==null&&v.delete(l),v1(s,h)}var y1;y1=function(s,l,h){if(s!==null)if(s.memoizedProps!==l.pendingProps||Nr.current)Ar=!0;else{if((s.lanes&h)===0&&(l.flags&128)===0)return Ar=!1,hI(s,l,h);Ar=(s.flags&131072)!==0}else Ar=!1,bt&&(l.flags&1048576)!==0&&Qb(l,dc,l.index);switch(l.lanes=0,l.tag){case 2:var v=l.type;Ec(s,l),s=l.pendingProps;var _=Ds(l,mr.current);Fs(l,h),_=hp(null,l,v,s,_,h);var k=pp();return l.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Or(v)?(k=!0,lc(l)):k=!1,l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,sp(l),_.updater=jc,l.stateNode=_,_._reactInternals=l,bp(l,v,s,h),l=jp(null,l,v,!0,k,h)):(l.tag=0,bt&&k&&Xh(l),jr(null,l,_,h),l=l.child),l;case 16:v=l.elementType;e:{switch(Ec(s,l),s=l.pendingProps,_=v._init,v=_(v._payload),l.type=v,_=l.tag=PI(v),s=Dn(v,s),_){case 0:l=Sp(null,l,v,s,h);break e;case 1:l=Ww(null,l,v,s,h);break e;case 11:l=Bw(null,l,v,s,h);break e;case 14:l=Fw(null,l,v,Dn(v.type,s),h);break e}throw Error(r(306,v,""))}return l;case 0:return v=l.type,_=l.pendingProps,_=l.elementType===v?_:Dn(v,_),Sp(s,l,v,_,h);case 1:return v=l.type,_=l.pendingProps,_=l.elementType===v?_:Dn(v,_),Ww(s,l,v,_,h);case 3:e:{if(Kw(l),s===null)throw Error(r(387));v=l.pendingProps,k=l.memoizedState,_=k.element,sw(s,l),vc(l,v,null,h);var O=l.memoizedState;if(v=O.element,k.isDehydrated)if(k={element:v,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},l.updateQueue.baseState=k,l.memoizedState=k,l.flags&256){_=Us(Error(r(423)),l),l=Hw(s,l,v,h,_);break e}else if(v!==_){_=Us(Error(r(424)),l),l=Hw(s,l,v,h,_);break e}else for(Gr=ea(l.stateNode.containerInfo.firstChild),Yr=l,bt=!0,In=null,h=iw(l,null,v,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Ls(),v===_){l=_i(s,l,h);break e}jr(s,l,v,h)}l=l.child}return l;case 5:return uw(l),s===null&&Zh(l),v=l.type,_=l.pendingProps,k=s!==null?s.memoizedProps:null,O=_.children,Wh(v,_)?O=null:k!==null&&Wh(v,k)&&(l.flags|=32),qw(s,l),jr(s,l,O,h),l.child;case 6:return s===null&&Zh(l),null;case 13:return Vw(s,l,h);case 4:return op(l,l.stateNode.containerInfo),v=l.pendingProps,s===null?l.child=$s(l,null,v,h):jr(s,l,v,h),l.child;case 11:return v=l.type,_=l.pendingProps,_=l.elementType===v?_:Dn(v,_),Bw(s,l,v,_,h);case 7:return jr(s,l,l.pendingProps,h),l.child;case 8:return jr(s,l,l.pendingProps.children,h),l.child;case 12:return jr(s,l,l.pendingProps.children,h),l.child;case 10:e:{if(v=l.type._context,_=l.pendingProps,k=l.memoizedProps,O=_.value,ft(pc,v._currentValue),v._currentValue=O,k!==null)if(Tn(k.value,O)){if(k.children===_.children&&!Nr.current){l=_i(s,l,h);break e}}else for(k=l.child,k!==null&&(k.return=l);k!==null;){var I=k.dependencies;if(I!==null){O=k.child;for(var R=I.firstContext;R!==null;){if(R.context===v){if(k.tag===1){R=wi(-1,h&-h),R.tag=2;var V=k.updateQueue;if(V!==null){V=V.shared;var se=V.pending;se===null?R.next=R:(R.next=se.next,se.next=R),V.pending=R}}k.lanes|=h,R=k.alternate,R!==null&&(R.lanes|=h),ip(k.return,h,l),I.lanes|=h;break}R=R.next}}else if(k.tag===10)O=k.type===l.type?null:k.child;else if(k.tag===18){if(O=k.return,O===null)throw Error(r(341));O.lanes|=h,I=O.alternate,I!==null&&(I.lanes|=h),ip(O,h,l),O=k.sibling}else O=k.child;if(O!==null)O.return=k;else for(O=k;O!==null;){if(O===l){O=null;break}if(k=O.sibling,k!==null){k.return=O.return,O=k;break}O=O.return}k=O}jr(s,l,_.children,h),l=l.child}return l;case 9:return _=l.type,v=l.pendingProps.children,Fs(l,h),_=un(_),v=v(_),l.flags|=1,jr(s,l,v,h),l.child;case 14:return v=l.type,_=Dn(v,l.pendingProps),_=Dn(v.type,_),Fw(s,l,v,_,h);case 15:return zw(s,l,l.type,l.pendingProps,h);case 17:return v=l.type,_=l.pendingProps,_=l.elementType===v?_:Dn(v,_),Ec(s,l),l.tag=1,Or(v)?(s=!0,lc(l)):s=!1,Fs(l,h),Tw(l,v,_),bp(l,v,_,h),jp(null,l,v,!0,s,h);case 19:return Gw(s,l,h);case 22:return Uw(s,l,h)}throw Error(r(156,l.tag))};function x1(s,l){return Jx(s,l)}function CI(s,l,h,v){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(s,l,h,v){return new CI(s,l,h,v)}function Wp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function PI(s){if(typeof s=="function")return Wp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===H)return 11;if(s===fe)return 14}return 2}function da(s,l){var h=s.alternate;return h===null?(h=fn(s.tag,l,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=l,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&14680064,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,l=s.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h}function Lc(s,l,h,v,_,k){var O=2;if(v=s,typeof s=="function")Wp(s)&&(O=1);else if(typeof s=="string")O=5;else e:switch(s){case T:return Ua(h.children,_,k,l);case D:O=8,_|=8;break;case F:return s=fn(12,h,l,_|2),s.elementType=F,s.lanes=k,s;case ne:return s=fn(13,h,l,_),s.elementType=ne,s.lanes=k,s;case ce:return s=fn(19,h,l,_),s.elementType=ce,s.lanes=k,s;case q:return $c(h,_,k,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case z:O=10;break e;case L:O=9;break e;case H:O=11;break e;case fe:O=14;break e;case K:O=16,v=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return l=fn(O,h,l,_),l.elementType=s,l.type=v,l.lanes=k,l}function Ua(s,l,h,v){return s=fn(7,s,v,l),s.lanes=h,s}function $c(s,l,h,v){return s=fn(22,s,v,l),s.elementType=q,s.lanes=h,s.stateNode={isHidden:!1},s}function Kp(s,l,h){return s=fn(6,s,null,l),s.lanes=h,s}function Hp(s,l,h){return l=fn(4,s.children!==null?s.children:[],s.key,l),l.lanes=h,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function NI(s,l,h,v,_){this.tag=l,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xh(0),this.expirationTimes=xh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xh(0),this.identifierPrefix=v,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function Vp(s,l,h,v,_,k,O,I,R){return s=new NI(s,l,h,I,R),l===1?(l=1,k===!0&&(l|=8)):l=0,k=fn(3,null,null,l),s.current=k,k.stateNode=s,k.memoizedState={element:v,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},sp(k),s}function OI(s,l,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:v==null?null:""+v,children:s,containerInfo:l,implementation:h}}function b1(s){if(!s)return ra;s=s._reactInternals;e:{if(Oa(s)!==s||s.tag!==1)throw Error(r(170));var l=s;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Or(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(s.tag===1){var h=s.type;if(Or(h))return Yb(s,h,l)}return l}function w1(s,l,h,v,_,k,O,I,R){return s=Vp(h,v,!0,s,_,k,O,I,R),s.context=b1(null),h=s.current,v=kr(),_=ua(h),k=wi(v,_),k.callback=l??null,aa(h,k,_),s.current.lanes=_,Wo(s,_,v),Ir(s,v),s}function Bc(s,l,h,v){var _=l.current,k=kr(),O=ua(_);return h=b1(h),l.context===null?l.context=h:l.pendingContext=h,l=wi(k,O),l.payload={element:s},v=v===void 0?null:v,v!==null&&(l.callback=v),s=aa(_,l,O),s!==null&&(Ln(s,_,O,k),gc(s,_,O)),O}function Fc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function _1(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<l?h:l}}function Yp(s,l){_1(s,l),(s=s.alternate)&&_1(s,l)}function AI(){return null}var S1=typeof reportError=="function"?reportError:function(s){console.error(s)};function Gp(s){this._internalRoot=s}zc.prototype.render=Gp.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));Bc(s,l,null,null)},zc.prototype.unmount=Gp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;Ba(function(){Bc(null,s,null,null)}),l[gi]=null}};function zc(s){this._internalRoot=s}zc.prototype.unstable_scheduleHydration=function(s){if(s){var l=sb();s={blockedOn:null,target:s,priority:l};for(var h=0;h<Qi.length&&l!==0&&l<Qi[h].priority;h++);Qi.splice(h,0,s),h===0&&ub(s)}};function Xp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Uc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function j1(){}function TI(s,l,h,v,_){if(_){if(typeof v=="function"){var k=v;v=function(){var V=Fc(O);k.call(V)}}var O=w1(l,v,s,0,null,!1,!1,"",j1);return s._reactRootContainer=O,s[gi]=O.current,il(s.nodeType===8?s.parentNode:s),Ba(),O}for(;_=s.lastChild;)s.removeChild(_);if(typeof v=="function"){var I=v;v=function(){var V=Fc(R);I.call(V)}}var R=Vp(s,0,!1,null,null,!1,!1,"",j1);return s._reactRootContainer=R,s[gi]=R.current,il(s.nodeType===8?s.parentNode:s),Ba(function(){Bc(l,R,h,v)}),R}function qc(s,l,h,v,_){var k=h._reactRootContainer;if(k){var O=k;if(typeof _=="function"){var I=_;_=function(){var R=Fc(O);I.call(R)}}Bc(l,O,s,_)}else O=TI(h,l,s,_,v);return Fc(O)}ib=function(s){switch(s.tag){case 3:var l=s.stateNode;if(l.current.memoizedState.isDehydrated){var h=qo(l.pendingLanes);h!==0&&(bh(l,h|1),Ir(l,Ot()),(Ye&6)===0&&(Ks=Ot()+500,na()))}break;case 13:Ba(function(){var v=bi(s,1);if(v!==null){var _=kr();Ln(v,s,1,_)}}),Yp(s,1)}},wh=function(s){if(s.tag===13){var l=bi(s,134217728);if(l!==null){var h=kr();Ln(l,s,134217728,h)}Yp(s,134217728)}},ab=function(s){if(s.tag===13){var l=ua(s),h=bi(s,l);if(h!==null){var v=kr();Ln(h,s,l,v)}Yp(s,l)}},sb=function(){return it},ob=function(s,l){var h=it;try{return it=s,l()}finally{it=h}},hr=function(s,l,h){switch(l){case"input":if(Mt(s,h),l=h.name,h.type==="radio"&&l!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var v=h[l];if(v!==s&&v.form===s.form){var _=sc(v);if(!_)throw Error(r(90));re(v),Mt(v,_)}}}break;case"textarea":Vi(s,h);break;case"select":l=h.value,l!=null&&qr(s,!!h.multiple,l,!1)}},rt=zp,ot=Ba;var II={usingClientEntryPoint:!1,Events:[ol,Ts,sc,Ce,Pe,zp]},wl={findFiberByHostInstance:Aa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DI={bundleType:wl.bundleType,version:wl.version,rendererPackageName:wl.rendererPackageName,rendererConfig:wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Xx(s),s===null?null:s.stateNode},findFiberByHostInstance:wl.findFiberByHostInstance||AI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{zu=Wc.inject(DI),ei=Wc}catch{}}return Dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=II,Dr.createPortal=function(s,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xp(l))throw Error(r(200));return OI(s,l,null,h)},Dr.createRoot=function(s,l){if(!Xp(s))throw Error(r(299));var h=!1,v="",_=S1;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(_=l.onRecoverableError)),l=Vp(s,1,!1,null,null,h,!1,v,_),s[gi]=l.current,il(s.nodeType===8?s.parentNode:s),new Gp(l)},Dr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Xx(l),s=s===null?null:s.stateNode,s},Dr.flushSync=function(s){return Ba(s)},Dr.hydrate=function(s,l,h){if(!Uc(l))throw Error(r(200));return qc(null,s,l,!0,h)},Dr.hydrateRoot=function(s,l,h){if(!Xp(s))throw Error(r(405));var v=h!=null&&h.hydratedSources||null,_=!1,k="",O=S1;if(h!=null&&(h.unstable_strictMode===!0&&(_=!0),h.identifierPrefix!==void 0&&(k=h.identifierPrefix),h.onRecoverableError!==void 0&&(O=h.onRecoverableError)),l=w1(l,null,s,1,h??null,_,!1,k,O),s[gi]=l.current,il(s),v)for(s=0;s<v.length;s++)h=v[s],_=h._getVersion,_=_(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,_]:l.mutableSourceEagerHydrationData.push(h,_);return new zc(l)},Dr.render=function(s,l,h){if(!Uc(l))throw Error(r(200));return qc(null,s,l,!1,h)},Dr.unmountComponentAtNode=function(s){if(!Uc(s))throw Error(r(40));return s._reactRootContainer?(Ba(function(){qc(null,null,s,!1,function(){s._reactRootContainer=null,s[gi]=null})}),!0):!1},Dr.unstable_batchedUpdates=zp,Dr.unstable_renderSubtreeIntoContainer=function(s,l,h,v){if(!Uc(h))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return qc(s,l,h,!1,v)},Dr.version="18.3.1-next-f1338f8080-20240426",Dr}var T1;function LE(){if(T1)return Zp.exports;T1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Zp.exports=UI(),Zp.exports}var I1;function qI(){if(I1)return Kc;I1=1;var e=LE();return Kc.createRoot=e.createRoot,Kc.hydrateRoot=e.hydrateRoot,Kc}var WI=qI();const KI=kn(WI);/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var D1="popstate";function HI(e={}){function t(n,i){let{pathname:a,search:o,hash:c}=n.location;return iv("",{pathname:a,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Ql(i)}return YI(t,r,null,e)}function _t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VI(){return Math.random().toString(36).substring(2,10)}function R1(e,t){return{usr:e.state,key:e.key,idx:t}}function iv(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Eo(t):t,state:r,key:t&&t.key||n||VI()}}function Ql({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Eo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function YI(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,c="POP",u=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function m(){c="POP";let S=f(),j=S==null?null:S-d;d=S,u&&u({action:c,location:b.location,delta:j})}function g(S,j){c="PUSH";let C=iv(b.location,S,j);d=f()+1;let E=R1(C,d),P=b.createHref(C);try{o.pushState(E,"",P)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(P)}a&&u&&u({action:c,location:b.location,delta:1})}function x(S,j){c="REPLACE";let C=iv(b.location,S,j);d=f();let E=R1(C,d),P=b.createHref(C);o.replaceState(E,"",P),a&&u&&u({action:c,location:b.location,delta:0})}function w(S){return GI(S)}let b={get action(){return c},get location(){return e(i,o)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(D1,m),u=S,()=>{i.removeEventListener(D1,m),u=null}},createHref(S){return t(i,S)},createURL:w,encodeLocation(S){let j=w(S);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:g,replace:x,go(S){return o.go(S)}};return b}function GI(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),_t(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Ql(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function $E(e,t,r="/"){return XI(e,t,r,!1)}function XI(e,t,r,n){let i=typeof t=="string"?Eo(t):t,a=Mi(i.pathname||"/",r);if(a==null)return null;let o=BE(e);QI(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let d=lD(a);c=sD(o[u],d,n)}return c}function BE(e,t=[],r=[],n=""){let i=(a,o,c)=>{let u={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};u.relativePath.startsWith("/")&&(_t(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length));let d=Ti([n,u.relativePath]),f=r.concat(u);a.children&&a.children.length>0&&(_t(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),BE(a.children,t,f,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:iD(d,a.index),routesMeta:f})};return e.forEach((a,o)=>{if(a.path===""||!a.path?.includes("?"))i(a,o);else for(let c of FE(a.path))i(a,o,c)}),t}function FE(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=FE(n.join("/")),c=[];return c.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&c.push(...o),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function QI(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:aD(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var JI=/^:[\w-]+$/,ZI=3,eD=2,tD=1,rD=10,nD=-2,M1=e=>e==="*";function iD(e,t){let r=e.split("/"),n=r.length;return r.some(M1)&&(n+=nD),t&&(n+=eD),r.filter(i=>!M1(i)).reduce((i,a)=>i+(JI.test(a)?ZI:a===""?tD:rD),n)}function aD(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function sD(e,t,r=!1){let{routesMeta:n}=e,i={},a="/",o=[];for(let c=0;c<n.length;++c){let u=n[c],d=c===n.length-1,f=a==="/"?t:t.slice(a.length)||"/",m=jd({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),g=u.route;if(!m&&d&&r&&!n[n.length-1].route.index&&(m=jd({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:Ti([a,m.pathname]),pathnameBase:fD(Ti([a,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(a=Ti([a,m.pathnameBase]))}return o}function jd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=oD(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((d,{paramName:f,isOptional:m},g)=>{if(f==="*"){let w=c[g]||"";o=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const x=c[g];return m&&!x?d[f]=void 0:d[f]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function oD(e,t=!1,r=!0){wn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(n.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function lD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Mi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function uD(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Eo(e):e;return{pathname:r?r.startsWith("/")?r:cD(r,t):t,search:hD(n),hash:pD(i)}}function cD(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function rm(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dD(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Cy(e){let t=dD(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Py(e,t,r,n=!1){let i;typeof e=="string"?i=Eo(e):(i={...e},_t(!i.pathname||!i.pathname.includes("?"),rm("?","pathname","search",i)),_t(!i.pathname||!i.pathname.includes("#"),rm("#","pathname","hash",i)),_t(!i.search||!i.search.includes("#"),rm("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,c;if(o==null)c=r;else{let m=t.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}c=m>=0?t[m]:"/"}let u=uD(i,c),d=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}var Ti=e=>e.join("/").replace(/\/\/+/g,"/"),fD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),hD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,pD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function mD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var zE=["POST","PUT","PATCH","DELETE"];new Set(zE);var gD=["GET",...zE];new Set(gD);var Co=y.createContext(null);Co.displayName="DataRouter";var _f=y.createContext(null);_f.displayName="DataRouterState";y.createContext(!1);var UE=y.createContext({isTransitioning:!1});UE.displayName="ViewTransition";var vD=y.createContext(new Map);vD.displayName="Fetchers";var yD=y.createContext(null);yD.displayName="Await";var Vn=y.createContext(null);Vn.displayName="Navigation";var gu=y.createContext(null);gu.displayName="Location";var En=y.createContext({outlet:null,matches:[],isDataRoute:!1});En.displayName="Route";var Ny=y.createContext(null);Ny.displayName="RouteError";function xD(e,{relative:t}={}){_t(Po(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=y.useContext(Vn),{hash:i,pathname:a,search:o}=yu(e,{relative:t}),c=a;return r!=="/"&&(c=a==="/"?r:Ti([r,a])),n.createHref({pathname:c,search:o,hash:i})}function Po(){return y.useContext(gu)!=null}function di(){return _t(Po(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(gu).location}var qE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WE(e){y.useContext(Vn).static||y.useLayoutEffect(e)}function Ct(){let{isDataRoute:e}=y.useContext(En);return e?DD():bD()}function bD(){_t(Po(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(Co),{basename:t,navigator:r}=y.useContext(Vn),{matches:n}=y.useContext(En),{pathname:i}=di(),a=JSON.stringify(Cy(n)),o=y.useRef(!1);return WE(()=>{o.current=!0}),y.useCallback((u,d={})=>{if(wn(o.current,qE),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=Py(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ti([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,a,i,e])}var wD=y.createContext(null);function _D(e){let t=y.useContext(En).outlet;return t&&y.createElement(wD.Provider,{value:e},t)}function vu(){let{matches:e}=y.useContext(En),t=e[e.length-1];return t?t.params:{}}function yu(e,{relative:t}={}){let{matches:r}=y.useContext(En),{pathname:n}=di(),i=JSON.stringify(Cy(r));return y.useMemo(()=>Py(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function SD(e,t){return KE(e,t)}function KE(e,t,r,n){_t(Po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=y.useContext(Vn),{matches:a}=y.useContext(En),o=a[a.length-1],c=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",f=o&&o.route;{let j=f&&f.path||"";HE(u,!f||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let m=di(),g;if(t){let j=typeof t=="string"?Eo(t):t;_t(d==="/"||j.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${j.pathname}" was given in the \`location\` prop.`),g=j}else g=m;let x=g.pathname||"/",w=x;if(d!=="/"){let j=d.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(j.length).join("/")}let b=$E(e,{pathname:w});wn(f||b!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),wn(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=PD(b&&b.map(j=>Object.assign({},j,{params:Object.assign({},c,j.params),pathname:Ti([d,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?d:Ti([d,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),a,r,n);return t&&S?y.createElement(gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},S):S}function jD(){let e=ID(),t=mD(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=y.createElement(y.Fragment,null,y.createElement("p",null,"💿 Hey developer 👋"),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:a},"ErrorBoundary")," or"," ",y.createElement("code",{style:a},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:i},r):null,o)}var kD=y.createElement(jD,null),ED=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?y.createElement(En.Provider,{value:this.props.routeContext},y.createElement(Ny.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CD({routeContext:e,match:t,children:r}){let n=y.useContext(Co);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(En.Provider,{value:e},r)}function PD(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=r?.errors;if(a!=null){let u=i.findIndex(d=>d.route.id&&a?.[d.route.id]!==void 0);_t(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,c=-1;if(r)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:m}=r,g=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||g){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,d,f)=>{let m,g=!1,x=null,w=null;r&&(m=a&&d.route.id?a[d.route.id]:void 0,x=d.route.errorElement||kD,o&&(c<0&&f===0?(HE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,w=null):c===f&&(g=!0,w=d.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,f+1)),S=()=>{let j;return m?j=x:g?j=w:d.route.Component?j=y.createElement(d.route.Component,null):d.route.element?j=d.route.element:j=u,y.createElement(CD,{match:d,routeContext:{outlet:u,matches:b,isDataRoute:r!=null},children:j})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?y.createElement(ED,{location:r.location,revalidation:r.revalidation,component:x,error:m,children:S(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):S()},null)}function Oy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ND(e){let t=y.useContext(Co);return _t(t,Oy(e)),t}function OD(e){let t=y.useContext(_f);return _t(t,Oy(e)),t}function AD(e){let t=y.useContext(En);return _t(t,Oy(e)),t}function Ay(e){let t=AD(e),r=t.matches[t.matches.length-1];return _t(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function TD(){return Ay("useRouteId")}function ID(){let e=y.useContext(Ny),t=OD("useRouteError"),r=Ay("useRouteError");return e!==void 0?e:t.errors?.[r]}function DD(){let{router:e}=ND("useNavigate"),t=Ay("useNavigate"),r=y.useRef(!1);return WE(()=>{r.current=!0}),y.useCallback(async(i,a={})=>{wn(r.current,qE),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var L1={};function HE(e,t,r){!t&&!L1[e]&&(L1[e]=!0,wn(!1,r))}y.memo(RD);function RD({routes:e,future:t,state:r}){return KE(e,void 0,r,t)}function Bl({to:e,replace:t,state:r,relative:n}){_t(Po(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=y.useContext(Vn);wn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=y.useContext(En),{pathname:o}=di(),c=Ct(),u=Py(e,Cy(a),o,n==="path"),d=JSON.stringify(u);return y.useEffect(()=>{c(JSON.parse(d),{replace:t,state:r,relative:n})},[c,d,n,t,r]),null}function Ty(e){return _D(e.context)}function Xe(e){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MD({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:a=!1}){_t(!Po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof r=="string"&&(r=Eo(r));let{pathname:u="/",search:d="",hash:f="",state:m=null,key:g="default"}=r,x=y.useMemo(()=>{let w=Mi(u,o);return w==null?null:{location:{pathname:w,search:d,hash:f,state:m,key:g},navigationType:n}},[o,u,d,f,m,g,n]);return wn(x!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:y.createElement(Vn.Provider,{value:c},y.createElement(gu.Provider,{children:t,value:x}))}function LD({children:e,location:t}){return SD(av(e),t)}function av(e,t=[]){let r=[];return y.Children.forEach(e,(n,i)=>{if(!y.isValidElement(n))return;let a=[...t,i];if(n.type===y.Fragment){r.push.apply(r,av(n.props.children,a));return}_t(n.type===Xe,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=av(n.props.children,a)),r.push(o)}),r}var bd="get",wd="application/x-www-form-urlencoded";function Sf(e){return e!=null&&typeof e.tagName=="string"}function $D(e){return Sf(e)&&e.tagName.toLowerCase()==="button"}function BD(e){return Sf(e)&&e.tagName.toLowerCase()==="form"}function FD(e){return Sf(e)&&e.tagName.toLowerCase()==="input"}function zD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function UD(e,t){return e.button===0&&(!t||t==="_self")&&!zD(e)}function sv(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function qD(e,t){let r=sv(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}var Hc=null;function WD(){if(Hc===null)try{new FormData(document.createElement("form"),0),Hc=!1}catch{Hc=!0}return Hc}var KD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nm(e){return e!=null&&!KD.has(e)?(wn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wd}"`),null):e}function HD(e,t){let r,n,i,a,o;if(BD(e)){let c=e.getAttribute("action");n=c?Mi(c,t):null,r=e.getAttribute("method")||bd,i=nm(e.getAttribute("enctype"))||wd,a=new FormData(e)}else if($D(e)||FD(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||c.getAttribute("action");if(n=u?Mi(u,t):null,r=e.getAttribute("formmethod")||c.getAttribute("method")||bd,i=nm(e.getAttribute("formenctype"))||nm(c.getAttribute("enctype"))||wd,a=new FormData(c,e),!WD()){let{name:d,type:f,value:m}=e;if(f==="image"){let g=d?`${d}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else d&&a.append(d,m)}}else{if(Sf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=bd,n=null,i=wd,o=e}return a&&i==="text/plain"&&(o=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Iy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function VD(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Mi(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function YD(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GD(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function XD(e,t,r){let n=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let o=await YD(a,r);return o.links?o.links():[]}return[]}));return eR(n.flat(1).filter(GD).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function $1(e,t,r,n,i,a){let o=(u,d)=>r[d]?u.route.id!==r[d].route.id:!0,c=(u,d)=>r[d].pathname!==u.pathname||r[d].route.path?.endsWith("*")&&r[d].params["*"]!==u.params["*"];return a==="assets"?t.filter((u,d)=>o(u,d)||c(u,d)):a==="data"?t.filter((u,d)=>{let f=n.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,d)||c(u,d))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function QD(e,t,{includeHydrateFallback:r}={}){return JD(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function JD(e){return[...new Set(e)]}function ZD(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function eR(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let a=JSON.stringify(ZD(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function VE(){let e=y.useContext(Co);return Iy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function tR(){let e=y.useContext(_f);return Iy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Dy=y.createContext(void 0);Dy.displayName="FrameworkContext";function YE(){let e=y.useContext(Dy);return Iy(e,"You must render this element inside a <HydratedRouter> element"),e}function rR(e,t){let r=y.useContext(Dy),[n,i]=y.useState(!1),[a,o]=y.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:d,onMouseLeave:f,onTouchStart:m}=t,g=y.useRef(null);y.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let b=j=>{j.forEach(C=>{o(C.isIntersecting)})},S=new IntersectionObserver(b,{threshold:.5});return g.current&&S.observe(g.current),()=>{S.disconnect()}}},[e]),y.useEffect(()=>{if(n){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[n]);let x=()=>{i(!0)},w=()=>{i(!1),o(!1)};return r?e!=="intent"?[a,g,{}]:[a,g,{onFocus:Sl(c,x),onBlur:Sl(u,w),onMouseEnter:Sl(d,x),onMouseLeave:Sl(f,w),onTouchStart:Sl(m,x)}]:[!1,g,{}]}function Sl(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function nR({page:e,...t}){let{router:r}=VE(),n=y.useMemo(()=>$E(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?y.createElement(aR,{page:e,matches:n,...t}):null}function iR(e){let{manifest:t,routeModules:r}=YE(),[n,i]=y.useState([]);return y.useEffect(()=>{let a=!1;return XD(e,t,r).then(o=>{a||i(o)}),()=>{a=!0}},[e,t,r]),n}function aR({page:e,matches:t,...r}){let n=di(),{manifest:i,routeModules:a}=YE(),{basename:o}=VE(),{loaderData:c,matches:u}=tR(),d=y.useMemo(()=>$1(e,t,u,i,n,"data"),[e,t,u,i,n]),f=y.useMemo(()=>$1(e,t,u,i,n,"assets"),[e,t,u,i,n]),m=y.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let w=new Set,b=!1;if(t.forEach(j=>{let C=i.routes[j.route.id];!C||!C.hasLoader||(!d.some(E=>E.route.id===j.route.id)&&j.route.id in c&&a[j.route.id]?.shouldRevalidate||C.hasClientLoader?b=!0:w.add(j.route.id))}),w.size===0)return[];let S=VD(e,o,"data");return b&&w.size>0&&S.searchParams.set("_routes",t.filter(j=>w.has(j.route.id)).map(j=>j.route.id).join(",")),[S.pathname+S.search]},[o,c,n,i,d,t,e,a]),g=y.useMemo(()=>QD(f,i),[f,i]),x=iR(f);return y.createElement(y.Fragment,null,m.map(w=>y.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),g.map(w=>y.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),x.map(({key:w,link:b})=>y.createElement("link",{key:w,...b})))}function sR(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var GE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GE&&(window.__reactRouterVersion="7.7.1")}catch{}function oR({basename:e,children:t,window:r}){let n=y.useRef();n.current==null&&(n.current=HI({window:r,v5Compat:!0}));let i=n.current,[a,o]=y.useState({action:i.action,location:i.location}),c=y.useCallback(u=>{y.startTransition(()=>o(u))},[o]);return y.useLayoutEffect(()=>i.listen(c),[i,c]),y.createElement(MD,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var XE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ct=y.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:o,state:c,target:u,to:d,preventScrollReset:f,viewTransition:m,...g},x){let{basename:w}=y.useContext(Vn),b=typeof d=="string"&&XE.test(d),S,j=!1;if(typeof d=="string"&&b&&(S=d,GE))try{let F=new URL(window.location.href),z=d.startsWith("//")?new URL(F.protocol+d):new URL(d),L=Mi(z.pathname,w);z.origin===F.origin&&L!=null?d=L+z.search+z.hash:j=!0}catch{wn(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=xD(d,{relative:i}),[E,P,N]=rR(n,g),A=dR(d,{replace:o,state:c,target:u,preventScrollReset:f,relative:i,viewTransition:m});function T(F){t&&t(F),F.defaultPrevented||A(F)}let D=y.createElement("a",{...g,...N,href:S||C,onClick:j||a?t:T,ref:sR(x,P),target:u,"data-discover":!b&&r==="render"?"true":void 0});return E&&!b?y.createElement(y.Fragment,null,D,y.createElement(nR,{page:C})):D});ct.displayName="Link";var lR=y.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:o,viewTransition:c,children:u,...d},f){let m=yu(o,{relative:d.relative}),g=di(),x=y.useContext(_f),{navigator:w,basename:b}=y.useContext(Vn),S=x!=null&&gR(m)&&c===!0,j=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,C=g.pathname,E=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(C=C.toLowerCase(),E=E?E.toLowerCase():null,j=j.toLowerCase()),E&&b&&(E=Mi(E,b)||E);const P=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let N=C===j||!i&&C.startsWith(j)&&C.charAt(P)==="/",A=E!=null&&(E===j||!i&&E.startsWith(j)&&E.charAt(j.length)==="/"),T={isActive:N,isPending:A,isTransitioning:S},D=N?t:void 0,F;typeof n=="function"?F=n(T):F=[n,N?"active":null,A?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let z=typeof a=="function"?a(T):a;return y.createElement(ct,{...d,"aria-current":D,className:F,ref:f,style:z,to:o,viewTransition:c},typeof u=="function"?u(T):u)});lR.displayName="NavLink";var uR=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:a,method:o=bd,action:c,onSubmit:u,relative:d,preventScrollReset:f,viewTransition:m,...g},x)=>{let w=pR(),b=mR(c,{relative:d}),S=o.toLowerCase()==="get"?"get":"post",j=typeof c=="string"&&XE.test(c),C=E=>{if(u&&u(E),E.defaultPrevented)return;E.preventDefault();let P=E.nativeEvent.submitter,N=P?.getAttribute("formmethod")||o;w(P||E.currentTarget,{fetcherKey:t,method:N,navigate:r,replace:i,state:a,relative:d,preventScrollReset:f,viewTransition:m})};return y.createElement("form",{ref:x,method:S,action:b,onSubmit:n?u:C,...g,"data-discover":!j&&e==="render"?"true":void 0})});uR.displayName="Form";function cR(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QE(e){let t=y.useContext(Co);return _t(t,cR(e)),t}function dR(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:o}={}){let c=Ct(),u=di(),d=yu(e,{relative:a});return y.useCallback(f=>{if(UD(f,t)){f.preventDefault();let m=r!==void 0?r:Ql(u)===Ql(d);c(e,{replace:m,state:n,preventScrollReset:i,relative:a,viewTransition:o})}},[u,c,d,r,n,t,e,i,a,o])}function jf(e){wn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=y.useRef(sv(e)),r=y.useRef(!1),n=di(),i=y.useMemo(()=>qD(n.search,r.current?null:t.current),[n.search]),a=Ct(),o=y.useCallback((c,u)=>{const d=sv(typeof c=="function"?c(new URLSearchParams(i)):c);r.current=!0,a("?"+d,u)},[a,i]);return[i,o]}var fR=0,hR=()=>`__${String(++fR)}__`;function pR(){let{router:e}=QE("useSubmit"),{basename:t}=y.useContext(Vn),r=TD();return y.useCallback(async(n,i={})=>{let{action:a,method:o,encType:c,formData:u,body:d}=HD(n,t);if(i.navigate===!1){let f=i.fetcherKey||hR();await e.fetch(f,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||o,formEncType:i.encType||c,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||o,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function mR(e,{relative:t}={}){let{basename:r}=y.useContext(Vn),n=y.useContext(En);_t(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...yu(e||".",{relative:t})},o=di();if(e==null){a.search=o.search;let c=new URLSearchParams(a.search),u=c.getAll("index");if(u.some(f=>f==="")){c.delete("index"),u.filter(m=>m).forEach(m=>c.append("index",m));let f=c.toString();a.search=f?`?${f}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Ti([r,a.pathname])),Ql(a)}function gR(e,{relative:t}={}){let r=y.useContext(UE);_t(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=QE("useViewTransitionState"),i=yu(e,{relative:t});if(!r.isTransitioning)return!1;let a=Mi(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Mi(r.nextLocation.pathname,n)||r.nextLocation.pathname;return jd(i.pathname,o)!=null||jd(i.pathname,a)!=null}var Xa=LE();function JE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=JE(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Fe(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=JE(e))&&(n&&(n+=" "),n+=t);return n}function vR(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}vR(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var xu=e=>typeof e=="number"&&!isNaN(e),os=e=>typeof e=="string",Li=e=>typeof e=="function",yR=e=>os(e)||xu(e),ov=e=>os(e)||Li(e)?e:null,xR=(e,t)=>e===!1||xu(e)&&e>0?e:t,lv=e=>y.isValidElement(e)||os(e)||Li(e)||xu(e);function bR(e,t,r=300){let{scrollHeight:n,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=n+"px",i.transition=`all ${r}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,r)})})}function wR({enter:e,exit:t,appendPosition:r=!1,collapse:n=!0,collapseDuration:i=300}){return function({children:a,position:o,preventExitTransition:c,done:u,nodeRef:d,isIn:f,playToast:m}){let g=r?`${e}--${o}`:e,x=r?`${t}--${o}`:t,w=y.useRef(0);return y.useLayoutEffect(()=>{let b=d.current,S=g.split(" "),j=C=>{C.target===d.current&&(m(),b.removeEventListener("animationend",j),b.removeEventListener("animationcancel",j),w.current===0&&C.type!=="animationcancel"&&b.classList.remove(...S))};b.classList.add(...S),b.addEventListener("animationend",j),b.addEventListener("animationcancel",j)},[]),y.useEffect(()=>{let b=d.current,S=()=>{b.removeEventListener("animationend",S),n?bR(b,u,i):u()};f||(c?S():(w.current=1,b.className+=` ${x}`,b.addEventListener("animationend",S)))},[f]),ge.createElement(ge.Fragment,null,a)}}function B1(e,t){return{content:ZE(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function ZE(e,t,r=!1){return y.isValidElement(e)&&!os(e.type)?y.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):Li(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function _R({closeToast:e,theme:t,ariaLabel:r="close"}){return ge.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:n=>{n.stopPropagation(),e(!0)},"aria-label":r},ge.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ge.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function SR({delay:e,isRunning:t,closeToast:r,type:n="default",hide:i,className:a,controlledProgress:o,progress:c,rtl:u,isIn:d,theme:f}){let m=i||o&&c===0,g={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(g.transform=`scaleX(${c})`);let x=Fe("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":u}),w=Li(a)?a({rtl:u,type:n,defaultClassName:x}):Fe(x,a),b={[o&&c>=1?"onTransitionEnd":"onAnimationEnd"]:o&&c<1?null:()=>{d&&r()}};return ge.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},ge.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${n}`}),ge.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:w,style:g,...b}))}var jR=1,eC=()=>`${jR++}`;function kR(e,t,r){let n=1,i=0,a=[],o=[],c=t,u=new Map,d=new Set,f=C=>(d.add(C),()=>d.delete(C)),m=()=>{o=Array.from(u.values()),d.forEach(C=>C())},g=({containerId:C,toastId:E,updateId:P})=>{let N=C?C!==e:e!==1,A=u.has(E)&&P==null;return N||A},x=(C,E)=>{u.forEach(P=>{var N;(E==null||E===P.props.toastId)&&((N=P.toggle)==null||N.call(P,C))})},w=C=>{var E,P;(P=(E=C.props)==null?void 0:E.onClose)==null||P.call(E,C.removalReason),C.isActive=!1},b=C=>{if(C==null)u.forEach(w);else{let E=u.get(C);E&&w(E)}m()},S=()=>{i-=a.length,a=[]},j=C=>{var E,P;let{toastId:N,updateId:A}=C.props,T=A==null;C.staleId&&u.delete(C.staleId),C.isActive=!0,u.set(N,C),m(),r(B1(C,T?"added":"updated")),T&&((P=(E=C.props).onOpen)==null||P.call(E))};return{id:e,props:c,observe:f,toggle:x,removeToast:b,toasts:u,clearQueue:S,buildToast:(C,E)=>{if(g(E))return;let{toastId:P,updateId:N,data:A,staleId:T,delay:D}=E,F=N==null;F&&i++;let z={...c,style:c.toastStyle,key:n++,...Object.fromEntries(Object.entries(E).filter(([H,ne])=>ne!=null)),toastId:P,updateId:N,data:A,isIn:!1,className:ov(E.className||c.toastClassName),progressClassName:ov(E.progressClassName||c.progressClassName),autoClose:E.isLoading?!1:xR(E.autoClose,c.autoClose),closeToast(H){u.get(P).removalReason=H,b(P)},deleteToast(){let H=u.get(P);if(H!=null){if(r(B1(H,"removed")),u.delete(P),i--,i<0&&(i=0),a.length>0){j(a.shift());return}m()}}};z.closeButton=c.closeButton,E.closeButton===!1||lv(E.closeButton)?z.closeButton=E.closeButton:E.closeButton===!0&&(z.closeButton=lv(c.closeButton)?c.closeButton:!0);let L={content:C,props:z,staleId:T};c.limit&&c.limit>0&&i>c.limit&&F?a.push(L):xu(D)?setTimeout(()=>{j(L)},D):j(L)},setProps(C){c=C},setToggle:(C,E)=>{let P=u.get(C);P&&(P.toggle=E)},isToastActive:C=>{var E;return(E=u.get(C))==null?void 0:E.isActive},getSnapshot:()=>o}}var Er=new Map,Jl=[],uv=new Set,ER=e=>uv.forEach(t=>t(e)),tC=()=>Er.size>0;function CR(){Jl.forEach(e=>nC(e.content,e.options)),Jl=[]}var PR=(e,{containerId:t})=>{var r;return(r=Er.get(t||1))==null?void 0:r.toasts.get(e)};function rC(e,t){var r;if(t)return!!((r=Er.get(t))!=null&&r.isToastActive(e));let n=!1;return Er.forEach(i=>{i.isToastActive(e)&&(n=!0)}),n}function NR(e){if(!tC()){Jl=Jl.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||yR(e))Er.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Er.get(e.containerId);t?t.removeToast(e.id):Er.forEach(r=>{r.removeToast(e.id)})}}var OR=(e={})=>{Er.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function nC(e,t){lv(e)&&(tC()||Jl.push({content:e,options:t}),Er.forEach(r=>{r.buildToast(e,t)}))}function AR(e){var t;(t=Er.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function iC(e,t){Er.forEach(r=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===r.id)&&r.toggle(e,t?.id)})}function TR(e){let t=e.containerId||1;return{subscribe(r){let n=kR(t,e,ER);Er.set(t,n);let i=n.observe(r);return CR(),()=>{i(),Er.delete(t)}},setProps(r){var n;(n=Er.get(t))==null||n.setProps(r)},getSnapshot(){var r;return(r=Er.get(t))==null?void 0:r.getSnapshot()}}}function IR(e){return uv.add(e),()=>{uv.delete(e)}}function DR(e){return e&&(os(e.toastId)||xu(e.toastId))?e.toastId:eC()}function bu(e,t){return nC(e,t),t.toastId}function kf(e,t){return{...t,type:t&&t.type||e,toastId:DR(t)}}function Ef(e){return(t,r)=>bu(t,kf(e,r))}function Ae(e,t){return bu(e,kf("default",t))}Ae.loading=(e,t)=>bu(e,kf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function RR(e,{pending:t,error:r,success:n},i){let a;t&&(a=os(t)?Ae.loading(t,i):Ae.loading(t.render,{...i,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(d,f,m)=>{if(f==null){Ae.dismiss(a);return}let g={type:d,...o,...i,data:m},x=os(f)?{render:f}:f;return a?Ae.update(a,{...g,...x}):Ae(x.render,{...g,...x}),m},u=Li(e)?e():e;return u.then(d=>c("success",n,d)).catch(d=>c("error",r,d)),u}Ae.promise=RR;Ae.success=Ef("success");Ae.info=Ef("info");Ae.error=Ef("error");Ae.warning=Ef("warning");Ae.warn=Ae.warning;Ae.dark=(e,t)=>bu(e,kf("default",{theme:"dark",...t}));function MR(e){NR(e)}Ae.dismiss=MR;Ae.clearWaitingQueue=OR;Ae.isActive=rC;Ae.update=(e,t={})=>{let r=PR(e,t);if(r){let{props:n,content:i}=r,a={delay:100,...n,...t,toastId:t.toastId||e,updateId:eC()};a.toastId!==e&&(a.staleId=e);let o=a.render||i;delete a.render,bu(o,a)}};Ae.done=e=>{Ae.update(e,{progress:1})};Ae.onChange=IR;Ae.play=e=>iC(!0,e);Ae.pause=e=>iC(!1,e);function LR(e){var t;let{subscribe:r,getSnapshot:n,setProps:i}=y.useRef(TR(e)).current;i(e);let a=(t=y.useSyncExternalStore(r,n,n))==null?void 0:t.slice();function o(c){if(!a)return[];let u=new Map;return e.newestOnTop&&a.reverse(),a.forEach(d=>{let{position:f}=d.props;u.has(f)||u.set(f,[]),u.get(f).push(d)}),Array.from(u,d=>c(d[0],d[1]))}return{getToastToRender:o,isToastActive:rC,count:a?.length}}function $R(e){let[t,r]=y.useState(!1),[n,i]=y.useState(!1),a=y.useRef(null),o=y.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:u,closeToast:d,onClick:f,closeOnClick:m}=e;AR({id:e.toastId,containerId:e.containerId,fn:r}),y.useEffect(()=>{if(e.pauseOnFocusLoss)return g(),()=>{x()}},[e.pauseOnFocusLoss]);function g(){document.hasFocus()||j(),window.addEventListener("focus",S),window.addEventListener("blur",j)}function x(){window.removeEventListener("focus",S),window.removeEventListener("blur",j)}function w(T){if(e.draggable===!0||e.draggable===T.pointerType){C();let D=a.current;o.canCloseOnClick=!0,o.canDrag=!0,D.style.transition="none",e.draggableDirection==="x"?(o.start=T.clientX,o.removalDistance=D.offsetWidth*(e.draggablePercent/100)):(o.start=T.clientY,o.removalDistance=D.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function b(T){let{top:D,bottom:F,left:z,right:L}=a.current.getBoundingClientRect();T.nativeEvent.type!=="touchend"&&e.pauseOnHover&&T.clientX>=z&&T.clientX<=L&&T.clientY>=D&&T.clientY<=F?j():S()}function S(){r(!0)}function j(){r(!1)}function C(){o.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",N)}function E(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",N)}function P(T){let D=a.current;if(o.canDrag&&D){o.didMove=!0,t&&j(),e.draggableDirection==="x"?o.delta=T.clientX-o.start:o.delta=T.clientY-o.start,o.start!==T.clientX&&(o.canCloseOnClick=!1);let F=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;D.style.transform=`translate3d(${F},0)`,D.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function N(){E();let T=a.current;if(o.canDrag&&o.didMove&&T){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}T.style.transition="transform 0.2s, opacity 0.2s",T.style.removeProperty("transform"),T.style.removeProperty("opacity")}}let A={onPointerDown:w,onPointerUp:b};return c&&u&&(A.onMouseEnter=j,e.stacked||(A.onMouseLeave=S)),m&&(A.onClick=T=>{f&&f(T),o.canCloseOnClick&&d(!0)}),{playToast:S,pauseToast:j,isRunning:t,preventExitTransition:n,toastRef:a,eventHandlers:A}}var BR=typeof window<"u"?y.useLayoutEffect:y.useEffect,Cf=({theme:e,type:t,isLoading:r,...n})=>ge.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...n});function FR(e){return ge.createElement(Cf,{...e},ge.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function zR(e){return ge.createElement(Cf,{...e},ge.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function UR(e){return ge.createElement(Cf,{...e},ge.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function qR(e){return ge.createElement(Cf,{...e},ge.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function WR(){return ge.createElement("div",{className:"Toastify__spinner"})}var cv={info:zR,warning:FR,success:UR,error:qR,spinner:WR},KR=e=>e in cv;function HR({theme:e,type:t,isLoading:r,icon:n}){let i=null,a={theme:e,type:t};return n===!1||(Li(n)?i=n({...a,isLoading:r}):y.isValidElement(n)?i=y.cloneElement(n,a):r?i=cv.spinner():KR(t)&&(i=cv[t](a))),i}var VR=e=>{let{isRunning:t,preventExitTransition:r,toastRef:n,eventHandlers:i,playToast:a}=$R(e),{closeButton:o,children:c,autoClose:u,onClick:d,type:f,hideProgressBar:m,closeToast:g,transition:x,position:w,className:b,style:S,progressClassName:j,updateId:C,role:E,progress:P,rtl:N,toastId:A,deleteToast:T,isIn:D,isLoading:F,closeOnClick:z,theme:L,ariaLabel:H}=e,ne=Fe("Toastify__toast",`Toastify__toast-theme--${L}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":N},{"Toastify__toast--close-on-click":z}),ce=Li(b)?b({rtl:N,position:w,type:f,defaultClassName:ne}):Fe(ne,b),fe=HR(e),K=!!P||!u,q={closeToast:g,type:f,theme:L},Y=null;return o===!1||(Li(o)?Y=o(q):y.isValidElement(o)?Y=y.cloneElement(o,q):Y=_R(q)),ge.createElement(x,{isIn:D,done:T,position:w,preventExitTransition:r,nodeRef:n,playToast:a},ge.createElement("div",{id:A,tabIndex:0,onClick:d,"data-in":D,className:ce,...i,style:S,ref:n,...D&&{role:E,"aria-label":H}},fe!=null&&ge.createElement("div",{className:Fe("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!F})},fe),ZE(c,e,!t),Y,!e.customProgressBar&&ge.createElement(SR,{...C&&!K?{key:`p-${C}`}:{},rtl:N,theme:L,delay:u,isRunning:t,isIn:D,closeToast:g,hide:m,type:f,className:j,controlledProgress:K,progress:P||0})))},YR=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),GR=wR(YR("bounce",!0)),XR={position:"top-right",transition:GR,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function QR(e){let t={...XR,...e},r=e.stacked,[n,i]=y.useState(!0),a=y.useRef(null),{getToastToRender:o,isToastActive:c,count:u}=LR(t),{className:d,style:f,rtl:m,containerId:g,hotKeys:x}=t;function w(S){let j=Fe("Toastify__toast-container",`Toastify__toast-container--${S}`,{"Toastify__toast-container--rtl":m});return Li(d)?d({position:S,rtl:m,defaultClassName:j}):Fe(j,ov(d))}function b(){r&&(i(!0),Ae.play())}return BR(()=>{var S;if(r){let j=a.current.querySelectorAll('[data-in="true"]'),C=12,E=(S=t.position)==null?void 0:S.includes("top"),P=0,N=0;Array.from(j).reverse().forEach((A,T)=>{let D=A;D.classList.add("Toastify__toast--stacked"),T>0&&(D.dataset.collapsed=`${n}`),D.dataset.pos||(D.dataset.pos=E?"top":"bot");let F=P*(n?.2:1)+(n?0:C*T);D.style.setProperty("--y",`${E?F:F*-1}px`),D.style.setProperty("--g",`${C}`),D.style.setProperty("--s",`${1-(n?N:0)}`),P+=D.offsetHeight,N+=.025})}},[n,u,r]),y.useEffect(()=>{function S(j){var C;let E=a.current;x(j)&&((C=E.querySelector('[tabIndex="0"]'))==null||C.focus(),i(!1),Ae.pause()),j.key==="Escape"&&(document.activeElement===E||E!=null&&E.contains(document.activeElement))&&(i(!0),Ae.play())}return document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}},[x]),ge.createElement("section",{ref:a,className:"Toastify",id:g,onMouseEnter:()=>{r&&(i(!1),Ae.pause())},onMouseLeave:b,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((S,j)=>{let C=j.length?{...f}:{...f,pointerEvents:"none"};return ge.createElement("div",{tabIndex:-1,className:w(S),"data-stacked":r,style:C,key:`c-${S}`},j.map(({content:E,props:P})=>ge.createElement(VR,{...P,stacked:r,collapseAll:b,isIn:c(P.toastId,P.containerId),key:`t-${P.key}`},E)))}))}const JR="modulepreload",ZR=function(e){return"/"+e},F1={},wu=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let d=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var o=d;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");i=d(r.map(f=>{if(f=ZR(f),f in F1)return;F1[f]=!0;const m=f.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":JR,m||(x.as="script"),x.crossOrigin="",x.href=f,u&&x.setAttribute("nonce",u),document.head.appendChild(x),m)return new Promise((w,b)=>{x.addEventListener("load",w),x.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return i.then(c=>{for(const u of c||[])u.status==="rejected"&&a(u.reason);return t().catch(a)})},eM=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wu(async()=>{const{default:n}=await Promise.resolve().then(()=>No);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Ry extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class tM extends Ry{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class z1 extends Ry{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class U1 extends Ry{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var dv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(dv||(dv={}));var rM=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(f){try{d(n.next(f))}catch(m){o(m)}}function u(f){try{d(n.throw(f))}catch(m){o(m)}}function d(f){f.done?a(f.value):i(f.value).then(c,u)}d((n=n.apply(e,t||[])).next())})};class nM{constructor(t,{headers:r={},customFetch:n,region:i=dv.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=eM(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return rM(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=r;let c={},{region:u}=r;u||(u=this.region);const d=new URL(`${this.url}/${t}`);u&&u!=="any"&&(c["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let f;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(c["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(c["Content-Type"]="application/json",f=JSON.stringify(o)));const m=yield this.fetch(d.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:f}).catch(b=>{throw new tM(b)}),g=m.headers.get("x-relay-error");if(g&&g==="true")throw new z1(m);if(!m.ok)throw new U1(m);let x=((n=m.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return x==="application/json"?w=yield m.json():x==="application/octet-stream"?w=yield m.blob():x==="text/event-stream"?w=m:x==="multipart/form-data"?w=yield m.formData():w=yield m.text(),{data:w,error:null,response:m}}catch(i){return{data:null,error:i,response:i instanceof U1||i instanceof z1?i.context:void 0}}})}}var Vt={},Vs={},Ys={},Gs={},Xs={},Qs={},iM=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},go=iM();const aM=go.fetch,aC=go.fetch.bind(go),sC=go.Headers,sM=go.Request,oM=go.Response,No=Object.freeze(Object.defineProperty({__proto__:null,Headers:sC,Request:sM,Response:oM,default:aC,fetch:aM},Symbol.toStringTag,{value:"Module"})),lM=MI(No);var Vc={},q1;function oC(){if(q1)return Vc;q1=1,Object.defineProperty(Vc,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Vc.default=e,Vc}var W1;function lC(){if(W1)return Qs;W1=1;var e=Qs&&Qs.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Qs,"__esModule",{value:!0});const t=e(lM),r=e(oC());class n{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=Object.assign({},this.headers),this.headers[a]=o,this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const c=this.fetch;let u=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,m,g;let x=null,w=null,b=null,S=d.status,j=d.statusText;if(d.ok){if(this.method!=="HEAD"){const N=await d.text();N===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=N:w=JSON.parse(N))}const E=(f=this.headers.Prefer)===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),P=(m=d.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");E&&P&&P.length>1&&(b=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(x={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,b=null,S=406,j="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const E=await d.text();try{x=JSON.parse(E),Array.isArray(x)&&d.status===404&&(w=[],x=null,S=200,j="OK")}catch{d.status===404&&E===""?(S=204,j="No Content"):x={message:E}}if(x&&this.isMaybeSingle&&(!((g=x?.details)===null||g===void 0)&&g.includes("0 rows"))&&(x=null,S=200,j="OK"),x&&this.shouldThrowOnError)throw new r.default(x)}return{error:x,data:w,count:b,status:S,statusText:j}});return this.shouldThrowOnError||(u=u.catch(d=>{var f,m,g;return{error:{message:`${(f=d?.name)!==null&&f!==void 0?f:"FetchError"}: ${d?.message}`,details:`${(m=d?.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(g=d?.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),u.then(a,o)}returns(){return this}overrideTypes(){return this}}return Qs.default=n,Qs}var K1;function uC(){if(K1)return Xs;K1=1;var e=Xs&&Xs.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Xs,"__esModule",{value:!0});const t=e(lC());class r extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:c,referencedTable:u=c}={}){const d=u?`${u}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:c=o}={}){const u=typeof c>"u"?"offset":`${c}.offset`,d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(d,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:c=!1,wal:u=!1,format:d="text"}={}){var f;const m=[i?"analyze":null,a?"verbose":null,o?"settings":null,c?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.Accept)!==null&&f!==void 0?f:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${d}; for="${g}"; options=${m};`,d==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Xs.default=r,Xs}var H1;function My(){if(H1)return Gs;H1=1;var e=Gs&&Gs.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Gs,"__esModule",{value:!0});const t=e(uC());class r extends t.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const o=Array.from(new Set(a)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:o,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${u}fts${d}.${a}`),this}match(i){return Object.entries(i).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(i,a,o){return this.url.searchParams.append(i,`not.${a}.${o}`),this}or(i,{foreignTable:a,referencedTable:o=a}={}){const c=o?`${o}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,a,o){return this.url.searchParams.append(i,`${a}.${o}`),this}}return Gs.default=r,Gs}var V1;function cC(){if(V1)return Ys;V1=1;var e=Ys&&Ys.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ys,"__esModule",{value:!0});const t=e(My());class r{constructor(i,{headers:a={},schema:o,fetch:c}){this.url=i,this.headers=a,this.schema=o,this.fetch=c}select(i,{head:a=!1,count:o}={}){const c=a?"HEAD":"GET";let u=!1;const d=(i??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:a,defaultToNull:o=!0}={}){const c="POST",u=[];if(this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),o||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(i)){const d=i.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(d.length>0){const f=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:c,defaultToNull:u=!0}={}){const d="POST",f=[`resolution=${o?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&f.push(this.headers.Prefer),c&&f.push(`count=${c}`),u||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(i)){const m=i.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(m.length>0){const g=[...new Set(m)].map(x=>`"${x}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:a}={}){const o="PATCH",c=[];return this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),this.headers.Prefer=c.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const a="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Ys.default=r,Ys}var jl={},kl={},Y1;function uM(){return Y1||(Y1=1,Object.defineProperty(kl,"__esModule",{value:!0}),kl.version=void 0,kl.version="0.0.0-automated"),kl}var G1;function cM(){if(G1)return jl;G1=1,Object.defineProperty(jl,"__esModule",{value:!0}),jl.DEFAULT_HEADERS=void 0;const e=uM();return jl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},jl}var X1;function dM(){if(X1)return Vs;X1=1;var e=Vs&&Vs.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Vs,"__esModule",{value:!0});const t=e(cC()),r=e(My()),n=cM();class i{constructor(o,{headers:c={},schema:u,fetch:d}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),c),this.schemaName=u,this.fetch=d}from(o){const c=new URL(`${this.url}/${o}`);return new t.default(c,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,c={},{head:u=!1,get:d=!1,count:f}={}){let m;const g=new URL(`${this.url}/rpc/${o}`);let x;u||d?(m=u?"HEAD":"GET",Object.entries(c).filter(([b,S])=>S!==void 0).map(([b,S])=>[b,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([b,S])=>{g.searchParams.append(b,S)})):(m="POST",x=c);const w=Object.assign({},this.headers);return f&&(w.Prefer=`count=${f}`),new r.default({method:m,url:g,headers:w,schema:this.schemaName,body:x,fetch:this.fetch,allowEmpty:!1})}}return Vs.default=i,Vs}var Q1;function fM(){if(Q1)return Vt;Q1=1;var e=Vt&&Vt.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.PostgrestError=Vt.PostgrestBuilder=Vt.PostgrestTransformBuilder=Vt.PostgrestFilterBuilder=Vt.PostgrestQueryBuilder=Vt.PostgrestClient=void 0;const t=e(dM());Vt.PostgrestClient=t.default;const r=e(cC());Vt.PostgrestQueryBuilder=r.default;const n=e(My());Vt.PostgrestFilterBuilder=n.default;const i=e(uC());Vt.PostgrestTransformBuilder=i.default;const a=e(lC());Vt.PostgrestBuilder=a.default;const o=e(oC());return Vt.PostgrestError=o.default,Vt.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},Vt}var hM=fM();const pM=kn(hM),{PostgrestClient:mM,PostgrestQueryBuilder:VQ,PostgrestFilterBuilder:YQ,PostgrestTransformBuilder:GQ,PostgrestBuilder:XQ,PostgrestError:QQ}=pM;function gM(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const vM=gM(),yM="2.11.15",xM=`realtime-js/${yM}`,bM="1.0.0",dC=1e4,wM=1e3;var Fl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Fl||(Fl={}));var xr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(xr||(xr={}));var Bn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Bn||(Bn={}));var fv;(function(e){e.websocket="websocket"})(fv||(fv={}));var Ga;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ga||(Ga={}));class _M{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const c=n.decode(t.slice(o,o+i));o=o+i;const u=n.decode(t.slice(o,o+a));o=o+a;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:c,event:u,payload:d}}}class fC{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ht;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ht||(ht={}));const J1=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,o)=>(a[o]=SM(o,e,t,i),a),{})},SM=(e,t,r,n)=>{const i=t.find(c=>c.name===e),a=i?.type,o=r[e];return a&&!n.includes(a)?hC(a,o):hv(o)},hC=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return CM(t,r)}switch(e){case ht.bool:return jM(t);case ht.float4:case ht.float8:case ht.int2:case ht.int4:case ht.int8:case ht.numeric:case ht.oid:return kM(t);case ht.json:case ht.jsonb:return EM(t);case ht.timestamp:return PM(t);case ht.abstime:case ht.date:case ht.daterange:case ht.int4range:case ht.int8range:case ht.money:case ht.reltime:case ht.text:case ht.time:case ht.timestamptz:case ht.timetz:case ht.tsrange:case ht.tstzrange:return hv(t);default:return hv(t)}},hv=e=>e,jM=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},kM=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},EM=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},CM=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(c=>hC(t,c))}return e},PM=e=>typeof e=="string"?e.replace(" ","T"):e,pC=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class im{constructor(t,r,n={},i=dC){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Z1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Z1||(Z1={}));class zl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zl.syncState(this.state,i,a,o),this.pendingDiffs.forEach(u=>{this.state=zl.syncDiff(this.state,u,a,o)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=zl.syncDiff(this.state,i,a,o),c())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),o=this.transformState(r),c={},u={};return this.map(a,(d,f)=>{o[d]||(u[d]=f)}),this.map(o,(d,f)=>{const m=a[d];if(m){const g=f.map(S=>S.presence_ref),x=m.map(S=>S.presence_ref),w=f.filter(S=>x.indexOf(S.presence_ref)<0),b=m.filter(S=>g.indexOf(S.presence_ref)<0);w.length>0&&(c[d]=w),b.length>0&&(u[d]=b)}else c[d]=f}),this.syncDiff(a,{joins:c,leaves:u},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(c,u)=>{var d;const f=(d=t[c])!==null&&d!==void 0?d:[];if(t[c]=this.cloneDeep(u),f.length>0){const m=t[c].map(x=>x.presence_ref),g=f.filter(x=>m.indexOf(x.presence_ref)<0);t[c].unshift(...g)}n(c,f,u)}),this.map(o,(c,u)=>{let d=t[c];if(!d)return;const f=u.map(m=>m.presence_ref);d=d.filter(m=>f.indexOf(m.presence_ref)<0),t[c]=d,i(c,d,u),d.length===0&&delete t[c]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var e_;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(e_||(e_={}));var t_;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(t_||(t_={}));var ki;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ki||(ki={}));class Ly{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=xr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new im(this,Bn.join,this.params,this.timeout),this.rejoinTimer=new fC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=xr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bn.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new zl(this),this.broadcastEndpointURL=pC(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==xr.closed){const{config:{broadcast:a,presence:o,private:c}}=this.params;this._onError(f=>t?.(ki.CHANNEL_ERROR,f)),this._onClose(()=>t?.(ki.CLOSED));const u={},d={broadcast:a,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&i!==void 0?i:[],private:c};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var m;if(this.socket.setAuth(),f===void 0){t?.(ki.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,x=(m=g?.length)!==null&&m!==void 0?m:0,w=[];for(let b=0;b<x;b++){const S=g[b],{filter:{event:j,schema:C,table:E,filter:P}}=S,N=f&&f[b];if(N&&N.event===j&&N.schema===C&&N.table===E&&N.filter===P)w.push(Object.assign(Object.assign({},S),{id:N.id}));else{this.unsubscribe(),this.state=xr.errored,t?.(ki.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(ki.SUBSCRIBED);return}}).receive("error",f=>{this.state=xr.errored,t?.(ki.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(ki.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,c,u;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=xr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new im(this,Bn.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new im(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const o=t.toLocaleLowerCase(),{close:c,error:u,leave:d,join:f}=Bn;if(n&&[c,u,d,f].indexOf(o)>=0&&n!==this._joinRef())return;let g=this._onMessage(o,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var w,b,S;return((w=x.filter)===null||w===void 0?void 0:w.event)==="*"||((S=(b=x.filter)===null||b===void 0?void 0:b.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(x=>x.callback(g,n)):(a=this.bindings[o])===null||a===void 0||a.filter(x=>{var w,b,S,j,C,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const P=x.id,N=(w=x.filter)===null||w===void 0?void 0:w.event;return P&&((b=r.ids)===null||b===void 0?void 0:b.includes(P))&&(N==="*"||N?.toLocaleLowerCase()===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const P=(C=(j=x?.filter)===null||j===void 0?void 0:j.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return P==="*"||P===((E=r?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof g=="object"&&"ids"in g){const w=g.data,{schema:b,table:S,commit_timestamp:j,type:C,errors:E}=w;g=Object.assign(Object.assign({},{schema:b,table:S,commit_timestamp:j,eventType:C,new:{},old:{},errors:E}),this._getPayloadRecords(w))}x.callback(g,n)})}_isClosed(){return this.state===xr.closed}_isJoined(){return this.state===xr.joined}_isJoining(){return this.state===xr.joining}_isLeaving(){return this.state===xr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Ly.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Bn.close,{},t)}_onError(t){this._on(Bn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=J1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=J1(t.columns,t.old_record)),r}}const r_=()=>{},NM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class OM{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dC,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=r_,this.ref=0,this.logger=r_,this.conn=null,this.sendBuffer=[],this.serializer=new _M,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...c)=>wu(async()=>{const{default:u}=await Promise.resolve().then(()=>No);return{default:u}},void 0).then(({default:u})=>u(...c)):o=fetch,(...c)=>o(...c)},this.endPoint=`${t}/${fv.websocket}`,this.httpEndpoint=pC(t),r?.transport?this.transport=r.transport:this.transport=null,r?.params&&(this.params=r.params),r?.timeout&&(this.timeout=r.timeout),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r?.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r?.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r?.encode?r.encode:(a,o)=>o(JSON.stringify(a)),this.decode=r?.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new fC(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r?.fetch),r?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=r?.worker||!1,this.workerUrl=r?.workerUrl}this.accessToken=r?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=vM),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:bM}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Fl.connecting:return Ga.Connecting;case Fl.open:return Ga.Open;case Fl.closing:return Ga.Closing;default:return Ga.Closed}}isConnected(){return this.connectionState()===Ga.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Ly(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,o=()=>{this.encode(t,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:xM};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Bn.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(wM,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:a,ref:o}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,a),Array.from(this.channels).filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,o)),this.stateChangeCallbacks.message.forEach(c=>c(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Bn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([NM],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class $y extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Yt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class AM extends $y{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pv extends $y{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var TM=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(f){try{d(n.next(f))}catch(m){o(m)}}function u(f){try{d(n.throw(f))}catch(m){o(m)}}function d(f){f.done?a(f.value):i(f.value).then(c,u)}d((n=n.apply(e,t||[])).next())})};const mC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wu(async()=>{const{default:n}=await Promise.resolve().then(()=>No);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},IM=()=>TM(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield wu(()=>Promise.resolve().then(()=>No),void 0)).Response:Response}),mv=e=>{if(Array.isArray(e))return e.map(r=>mv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=mv(n)}),t},DM=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var gs=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(f){try{d(n.next(f))}catch(m){o(m)}}function u(f){try{d(n.throw(f))}catch(m){o(m)}}function d(f){f.done?a(f.value):i(f.value).then(c,u)}d((n=n.apply(e,t||[])).next())})};const am=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),RM=(e,t,r)=>gs(void 0,void 0,void 0,function*(){const n=yield IM();e instanceof n&&!r?.noResolveJson?e.json().then(i=>{const a=e.status||500,o=i?.statusCode||a+"";t(new AM(am(i),a,o))}).catch(i=>{t(new pv(am(i),i))}):t(new pv(am(e),e))}),MM=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!n?i:(DM(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r))};function _u(e,t,r,n,i,a){return gs(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(r,MM(t,n,i,a)).then(u=>{if(!u.ok)throw u;return n?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>RM(u,c,n))})})}function kd(e,t,r,n){return gs(this,void 0,void 0,function*(){return _u(e,"GET",t,r,n)})}function Ei(e,t,r,n,i){return gs(this,void 0,void 0,function*(){return _u(e,"POST",t,n,i,r)})}function gv(e,t,r,n,i){return gs(this,void 0,void 0,function*(){return _u(e,"PUT",t,n,i,r)})}function LM(e,t,r,n){return gs(this,void 0,void 0,function*(){return _u(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function gC(e,t,r,n,i){return gs(this,void 0,void 0,function*(){return _u(e,"DELETE",t,n,i,r)})}var Rr=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(f){try{d(n.next(f))}catch(m){o(m)}}function u(f){try{d(n.throw(f))}catch(m){o(m)}}function d(f){f.done?a(f.value):i(f.value).then(c,u)}d((n=n.apply(e,t||[])).next())})};const $M={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},n_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class BM{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=mC(i)}uploadOrUpdate(t,r,n,i){return Rr(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},n_),i);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),u&&a.append("metadata",this.encodeMetadata(u)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),u&&a.append("metadata",this.encodeMetadata(u))):(a=n,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,u&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i?.headers&&(c=Object.assign(Object.assign({},c),i.headers));const d=this._removeEmptyFolders(r),f=this._getFinalPath(d),m=yield(t=="PUT"?gv:Ei)(this.fetch,`${this.url}/object/${f}`,a,Object.assign({headers:c},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(Yt(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Rr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Rr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",r);try{let u;const d=Object.assign({upsert:n_.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",d.cacheControl)):(u=n,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType);const m=yield gv(this.fetch,c.toString(),u,{headers:f});return{data:{path:a,fullPath:m.Key},error:null}}catch(u){if(Yt(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return Rr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const a=yield Ei(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),c=o.searchParams.get("token");if(!c)throw new $y("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:c},error:null}}catch(n){if(Yt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Rr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Rr(this,void 0,void 0,function*(){try{return{data:yield Ei(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Yt(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Rr(this,void 0,void 0,function*(){try{return{data:{path:(yield Ei(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Yt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Rr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Ei(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(Yt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Rr(this,void 0,void 0,function*(){try{const i=yield Ei(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(Yt(i))return{data:null,error:i};throw i}})}download(t,r){return Rr(this,void 0,void 0,function*(){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(r?.transform||{}),o=a?`?${a}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield kd(this.fetch,`${this.url}/${i}/${c}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(Yt(c))return{data:null,error:c};throw c}})}info(t){return Rr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield kd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:mv(n),error:null}}catch(n){if(Yt(n))return{data:null,error:n};throw n}})}exists(t){return Rr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield LM(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Yt(n)&&n instanceof pv){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r?.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const c=typeof r?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(r?.transform||{});u!==""&&i.push(u);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${d}`)}}}remove(t){return Rr(this,void 0,void 0,function*(){try{return{data:yield gC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Yt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Rr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},$M),r),{prefix:t||""});return{data:yield Ei(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Yt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const FM="2.10.4",zM={"X-Client-Info":`storage-js/${FM}`};var Js=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(f){try{d(n.next(f))}catch(m){o(m)}}function u(f){try{d(n.throw(f))}catch(m){o(m)}}function d(f){f.done?a(f.value):i(f.value).then(c,u)}d((n=n.apply(e,t||[])).next())})};class UM{constructor(t,r={},n,i){const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},zM),r),this.fetch=mC(n)}listBuckets(){return Js(this,void 0,void 0,function*(){try{return{data:yield kd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Yt(t))return{data:null,error:t};throw t}})}getBucket(t){return Js(this,void 0,void 0,function*(){try{return{data:yield kd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Yt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Js(this,void 0,void 0,function*(){try{return{data:yield Ei(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Yt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Js(this,void 0,void 0,function*(){try{return{data:yield gv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Yt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Js(this,void 0,void 0,function*(){try{return{data:yield Ei(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Yt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Js(this,void 0,void 0,function*(){try{return{data:yield gC(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Yt(r))return{data:null,error:r};throw r}})}}class qM extends UM{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new BM(this.url,this.headers,t,this.fetch)}}const WM="2.53.0";let Ml="";typeof Deno<"u"?Ml="deno":typeof document<"u"?Ml="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ml="react-native":Ml="node";const KM={"X-Client-Info":`supabase-js-${Ml}/${WM}`},HM={headers:KM},VM={schema:"public"},YM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},GM={};var XM=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(f){try{d(n.next(f))}catch(m){o(m)}}function u(f){try{d(n.throw(f))}catch(m){o(m)}}function d(f){f.done?a(f.value):i(f.value).then(c,u)}d((n=n.apply(e,t||[])).next())})};const QM=e=>{let t;return e?t=e:typeof fetch>"u"?t=aC:t=fetch,(...r)=>t(...r)},JM=()=>typeof Headers>"u"?sC:Headers,ZM=(e,t,r)=>{const n=QM(r),i=JM();return(a,o)=>XM(void 0,void 0,void 0,function*(){var c;const u=(c=yield t())!==null&&c!==void 0?c:e;let d=new i(o?.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),n(a,Object.assign(Object.assign({},o),{headers:d}))})};var eL=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(f){try{d(n.next(f))}catch(m){o(m)}}function u(f){try{d(n.throw(f))}catch(m){o(m)}}function d(f){f.done?a(f.value):i(f.value).then(c,u)}d((n=n.apply(e,t||[])).next())})};function tL(e){return e.endsWith("/")?e:e+"/"}function rL(e,t){var r,n;const{db:i,auth:a,realtime:o,global:c}=e,{db:u,auth:d,realtime:f,global:m}=t,g={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},d),a),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},m),c),{headers:Object.assign(Object.assign({},(r=m?.headers)!==null&&r!==void 0?r:{}),(n=c?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>eL(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const vC="2.71.1",so=30*1e3,vv=3,sm=vv*so,nL="http://localhost:9999",iL="supabase.auth.token",aL={"X-Client-Info":`gotrue-js/${vC}`},yv="X-Supabase-Api-Version",yC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,oL=600*1e3;class By extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function De(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class lL extends By{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function uL(e){return De(e)&&e.name==="AuthApiError"}class xC extends By{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ja extends By{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class ga extends ja{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cL(e){return De(e)&&e.name==="AuthSessionMissingError"}class Yc extends ja{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gc extends ja{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Xc extends ja{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dL(e){return De(e)&&e.name==="AuthImplicitGrantRedirectError"}class i_ extends ja{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xv extends ja{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function om(e){return De(e)&&e.name==="AuthRetryableFetchError"}class a_ extends ja{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class bv extends ja{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ed="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),s_=` 	
\r=`.split(""),fL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<s_.length;t+=1)e[s_[t].charCodeAt(0)]=-2;for(let t=0;t<Ed.length;t+=1)e[Ed[t].charCodeAt(0)]=t;return e})();function o_(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ed[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ed[n]),t.queuedBits-=6}}function bC(e,t,r){const n=fL[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function l_(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{mL(o,n,r)};for(let o=0;o<e.length;o+=1)bC(e.charCodeAt(o),i,a);return t.join("")}function hL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function pL(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}hL(n,t)}}function mL(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function gL(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)bC(e.charCodeAt(i),r,n);return new Uint8Array(t)}function vL(e){const t=[];return pL(e,r=>t.push(r)),new Uint8Array(t)}function yL(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>o_(i,r,n)),o_(null,r,n),t.join("")}function xL(e){return Math.round(Date.now()/1e3)+e}function bL(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const $n=()=>typeof window<"u"&&typeof document<"u",qa={tested:!1,writable:!1},wC=()=>{if(!$n())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qa.tested)return qa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),qa.tested=!0,qa.writable=!0}catch{qa.tested=!0,qa.writable=!1}return qa.writable};function wL(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const _C=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wu(async()=>{const{default:n}=await Promise.resolve().then(()=>No);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},_L=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",oo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Wa=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ha=async(e,t)=>{await e.removeItem(t)};class Pf{constructor(){this.promise=new Pf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Pf.promiseConstructor=Promise;function lm(e){const t=e.split(".");if(t.length!==3)throw new bv("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!sL.test(t[n]))throw new bv("JWT not in base64url format");return{header:JSON.parse(l_(t[0])),payload:JSON.parse(l_(t[1])),signature:gL(t[2]),raw:{header:t[0],payload:t[1]}}}async function SL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function jL(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function kL(e){return("0"+e.toString(16)).substr(-2)}function EL(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,kL).join("")}async function CL(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function PL(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await CL(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zs(e,t,r=!1){const n=EL();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await oo(e,`${t}-code-verifier`,i);const a=await PL(n);return[a,n===a?"plain":"s256"]}const NL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function OL(e){const t=e.headers.get(yv);if(!t||!t.match(NL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function AL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function TL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const IL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function eo(e){if(!IL.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function um(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function u_(e){return JSON.parse(JSON.stringify(e))}var DL=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Ka=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),RL=[502,503,504];async function c_(e){var t;if(!_L(e))throw new xv(Ka(e),0);if(RL.includes(e.status))throw new xv(Ka(e),e.status);let r;try{r=await e.json()}catch(a){throw new xC(Ka(a),a)}let n;const i=OL(e);if(i&&i.getTime()>=yC["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new a_(Ka(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ga}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new a_(Ka(r),e.status,r.weak_password.reasons);throw new lL(Ka(r),e.status||500,n)}const ML=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Ue(e,t,r,n){var i;const a=Object.assign({},n?.headers);a[yv]||(a[yv]=yC["2024-01-01"].name),n?.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await LL(e,t,r+c,{headers:a,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(u):{data:Object.assign({},u),error:null}}async function LL(e,t,r,n,i,a){const o=ML(t,n,i,a);let c;try{c=await e(r,Object.assign({},o))}catch(u){throw console.error(u),new xv(Ka(u),0)}if(c.ok||await c_(c),n?.noResolveJson)return c;try{return await c.json()}catch(u){await c_(u)}}function ji(e){var t;let r=null;zL(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=xL(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function d_(e){const t=ji(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function xa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function $L(e){return{data:e,error:null}}function BL(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,o=DL(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},u=Object.assign({},o);return{data:{properties:c,user:u},error:null}}function FL(e){return e}function zL(e){return e.access_token&&e.refresh_token&&e.expires_in}const cm=["global","local","others"];var UL=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class qL{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=_C(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=cm[0]){if(cm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cm.join(", ")}`);try{return await Ue(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:xa})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=UL(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:BL,redirectTo:r?.redirectTo})}catch(r){if(De(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ue(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:xa})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,o,c,u;try{const d={nextPage:null,lastPage:0,total:0},f=await Ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:FL});if(f.error)throw f.error;const m=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(u=(c=f.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(w=>{const b=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);d[`${S}Page`]=b}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(De(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){eo(t);try{return await Ue(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:xa})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){eo(t);try{return await Ue(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:xa})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){eo(t);try{return await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:xa})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){eo(t.userId);try{const{data:r,error:n}=await Ue(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(De(r))return{data:null,error:r};throw r}}async _deleteFactor(t){eo(t.userId),eo(t.id);try{return{data:await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}}function f_(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function WL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const to={debug:!!(globalThis&&wC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class SC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class KL extends SC{}async function HL(e,t,r){to.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),to.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){to.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{to.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw to.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new KL(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(to.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}WL();const VL={url:nL,storageKey:iL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:aL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function h_(e,t,r){return await r()}const ro={};class Zl{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zl.nextInstanceID,Zl.nextInstanceID+=1,this.instanceID>0&&$n()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},VL),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new qL({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=_C(i.fetch),this.lock=i.lock||h_,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:$n()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=HL:this.lock=h_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:wC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=f_(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=f_(this.memoryStorage)),$n()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=ro[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ro[this.storageKey]=Object.assign(Object.assign({},ro[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ro[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ro[this.storageKey]=Object.assign(Object.assign({},ro[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${vC}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=wL(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),$n()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),dL(a)){const u=(t=a.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return De(r)?{error:r}:{error:new xC("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:ji}),{data:o,error:c}=a;if(c||!o)return{data:{user:null,session:null},error:c};const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(a){if(De(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:f,password:m,options:g}=t;let x=null,w=null;this.flowType==="pkce"&&([x,w]=await Zs(this.storage,this.storageKey)),a=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:f,password:m,data:(r=g?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:x,code_challenge_method:w},xform:ji})}else if("phone"in t){const{phone:f,password:m,options:g}=t;a=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:m,data:(n=g?.data)!==null&&n!==void 0?n:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:ji})}else throw new Gc("You must provide either an email or phone number and a password");const{data:o,error:c}=a;if(c||!o)return{data:{user:null,session:null},error:c};const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(a){if(De(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:c}=t;r=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:d_})}else if("phone"in t){const{phone:a,password:o,options:c}=t;r=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:d_})}else throw new Gc("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Yc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(De(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,a,o,c,u,d,f,m,g,x;let w,b;if("message"in t)w=t.message,b=t.signature;else{const{chain:S,wallet:j,statement:C,options:E}=t;let P;if($n())if(typeof j=="object")P=j;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))P=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=j}const N=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in P&&P.signIn){const A=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),C?{statement:C}:null));let T;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")T=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)T=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)w=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),b=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${N.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(n=E?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=E?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((o=E?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((d=E?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((m=(f=E?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||m===void 0)&&m.length?["Resources",...E.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const A=await P.signMessage(new TextEncoder().encode(w),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=A}}try{const{data:S,error:j}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:yL(b)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:ji});if(j)throw j;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Yc}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:j})}catch(S){if(De(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(t){const r=await Wa(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ji});if(await ha(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Yc}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(De(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=t,c=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ji}),{data:u,error:d}=c;return d?{data:{user:null,session:null},error:d}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Yc}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:d})}catch(r){if(De(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,o;try{if("email"in t){const{email:c,options:u}=t;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await Zs(this.storage,this.storageKey));const{error:m}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(n=u?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:c,options:u}=t,{data:d,error:f}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(a=u?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:f}}throw new Gc("You must provide either an email or phone number.")}catch(c){if(De(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:c}=await Ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:ji});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,d=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(i){if(De(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Zs(this.storage,this.storageKey)),await Ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:$L})}catch(a){if(De(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ga;const{error:i}=await Ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(De(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:o}=await Ue(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:o,error:c}=await Ue(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:c}}throw new Gc("You must provide either an email or phone number and a type")}catch(r){if(De(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Wa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<sm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Wa(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=um()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,d,f)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,d,f))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:xa}):await this._useSession(async r=>{var n,i,a;const{data:o,error:c}=r;if(c)throw c;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ga}:await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:xa})})}catch(r){if(De(r))return cL(r)&&(await this._removeSession(),await ha(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new ga;const o=i.session;let c=null,u=null;this.flowType==="pkce"&&t.email!=null&&([c,u]=await Zs(this.storage,this.storageKey));const{data:d,error:f}=await Ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:u}),jwt:o.access_token,xform:xa});if(f)throw f;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ga;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=lm(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:c,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:u}=await this._getUser(t.access_token);if(u)throw u;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(De(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:c}=r;if(c)throw c;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new ga;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(De(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!$n())throw new Xc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Xc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new i_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new i_("No code detected.");const{data:C,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:c,expires_at:u,token_type:d}=t;if(!a||!c||!o||!d)throw new Xc("No session defined in URL");const f=Math.round(Date.now()/1e3),m=parseInt(c);let g=f+m;u&&(g=parseInt(u));const x=g-f;x*1e3<=so&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${m}s`);const w=g-m;f-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,g,f):f-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,g,f);const{data:b,error:S}=await this._getUser(a);if(S)throw S;const j={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:g,refresh_token:o,token_type:d,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:j,redirectType:t.type},error:null}}catch(n){if(De(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Wa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:c}=await this.admin.signOut(o,t);if(c&&!(uL(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await ha(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=bL(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Zs(this.storage,this.storageKey,!0));try{return await Ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(De(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,c,u,d,f;const{data:m,error:g}=a;if(g)throw g;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Ue(this.fetch,"GET",x,{headers:this.headers,jwt:(f=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return $n()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(De(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await Ue(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await jL(async i=>(i>0&&await SL(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ji})),(i,a)=>{const o=200*Math.pow(2,i);return a&&om(a)&&Date.now()+o-n<so})}catch(n){if(this._debug(r,"error",n),De(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),$n()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Wa(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Wa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await oo(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:um()}else if(i&&!i.user&&!i.user){const o=await Wa(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await ha(this.storage,this.storageKey+"-user"),await oo(this.storage,this.storageKey,i)):i.user=um()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<sm;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${sm}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),om(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(i.access_token);!c&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ga;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Pf;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new ga;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={session:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),De(a)){const o={session:null,error:a};return om(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(u){a.push(u)}});if(await Promise.all(o),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await oo(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=u_(i);await oo(this.storage,this.storageKey,a)}else{const i=u_(r);await oo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ha(this.storage,this.storageKey),await ha(this.storage,this.storageKey+"-code-verifier"),await ha(this.storage,this.storageKey+"-user"),this.userStorage&&await ha(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&$n()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),so);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/so);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${so}ms, refresh threshold is ${vv} ticks`),i<=vv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof SC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$n()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await Zs(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(c.toString())}if(n?.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await Ue(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return{data:null,error:o};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:d}=await Ue(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:o,error:c}=await Ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:c})})}catch(r){if(De(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await Ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(De(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=t?.factors||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=lm(i.access_token);let c=null;o.aal&&(c=o.aal);let u=c;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const f=o.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(c=>c.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(c=>c.kid===t),n&&this.jwks_cached_at+oL>i)return n;const{data:a,error:o}=await Ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(c=>c.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:x,error:w}=await this.getSession();if(w||!x.session)return{data:null,error:w};n=x.session.access_token}const{header:i,payload:a,signature:o,raw:{header:c,payload:u}}=lm(n);r?.allowExpired||AL(a.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:a,header:i,signature:o},error:null}}const f=TL(i.alg),m=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,m,o,vL(`${c}.${u}`)))throw new bv("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}}}Zl.nextInstanceID=0;const YL=Zl;class GL extends YL{constructor(t){super(t)}}var XL=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(f){try{d(n.next(f))}catch(m){o(m)}}function u(f){try{d(n.throw(f))}catch(m){o(m)}}function d(f){f.done?a(f.value):i(f.value).then(c,u)}d((n=n.apply(e,t||[])).next())})};class QL{constructor(t,r,n){var i,a,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const c=tL(t),u=new URL(c);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:VM,realtime:GM,auth:Object.assign(Object.assign({},YM),{storageKey:d}),global:HM},m=rL(n??{},f);this.storageKey=(i=m.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=m.global.headers)!==null&&a!==void 0?a:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(g,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=m.auth)!==null&&o!==void 0?o:{},this.headers,m.global.fetch),this.fetch=ZM(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new mM(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new qM(this.storageUrl.href,this.headers,this.fetch,n?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new nM(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return XL(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:a,flowType:o,lock:c,debug:u},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new GL({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:o,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new OM(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const JL=(e,t,r)=>new QL(e,t,r);function ZL(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}ZL()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const e$="https://yncpebaldgelekxnwqjy.supabase.co",t$="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InluY3BlYmFsZGdlbGVreG53cWp5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQwODM1NDAsImV4cCI6MjA2OTY1OTU0MH0.aaZjuqTGKns5N75Kh8p0p7ngXGykJhFhAsnia9ittMM",he=JL(e$,t$),jC=y.createContext({user:null,session:null,ready:!1,refresh:async()=>{},logout:async()=>{}}),r$=8e3;async function n$(e){if(!e)return null;const t=new AbortController,r=setTimeout(()=>t.abort(),r$);try{const{data:n,error:i}=await he.from("profiles").select("id,email,username,role,credits,avatar,is_approved,is_active,deactivated_at").eq("id",e.id).abortSignal(t.signal).single();return i?(console.error("[Auth] fetchProfile error:",i),null):n}catch(n){return console.error("[Auth] fetchProfile error:",n),null}finally{clearTimeout(r)}}function i$({children:e}){const[t,r]=y.useState(null),n=y.useRef(null),[i,a]=y.useState(null),[o,c]=y.useState(!1),[u,d]=y.useState(!1),f=y.useCallback(async x=>{let w=x;try{if(!w){const{data:S,error:j}=await he.auth.getSession();if(j)throw j;w=S?.session??null}if(!(w?.user?.id!==n.current?.user?.id)&&u)return;c(!1),r(w),n.current=w,a(await n$(w?.user))}catch(b){console.error("[Auth] refresh error:",b),r(w??null),n.current=w??null,a(null)}finally{c(!0),u||d(!0)}},[u]),m=y.useCallback(async()=>{try{await he.auth.signOut()}finally{await f(null)}},[f]);y.useEffect(()=>{f();const{data:x}=he.auth.onAuthStateChange(async(w,b)=>{f(b??null)});return()=>{x.subscription.unsubscribe()}},[f]);const g=y.useMemo(()=>({user:i,session:t,ready:o,refresh:f,logout:m}),[i,t,o,f,m]);return p.jsx(jC.Provider,{value:g,children:e})}function Ut(){return y.useContext(jC)}function a$(){try{Object.keys(localStorage).filter(e=>e.startsWith("sms_log_")).forEach(e=>localStorage.removeItem(e)),localStorage.removeItem("customers")}catch{}}const Fy=e=>e?.role==="admin";function s$(){const{user:e,logout:t}=Ut(),r=Ct(),[n,i]=y.useState(!1),a=Fy(e||void 0),o=!!e&&!a&&(!e.is_approved||!e.is_active),c=async()=>{a$(),await t(),r("/")};return p.jsx("header",{className:"bg-white border-b shadow-sm z-20 relative",children:p.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center px-4 py-3",children:[p.jsxs(ct,{to:"/",className:"flex items-center gap-2",children:[p.jsx("img",{src:"/NeverMissCRM_Logo.png",alt:"Logo",className:"h-8 w-8"}),p.jsx("span",{className:"text-xl font-bold text-blue-700",children:"NeverMiss"}),p.jsx("span",{className:"text-sm text-gray-600",children:"CRM"})]}),p.jsxs("nav",{className:"hidden md:flex gap-6 text-md font-bold text-gray-700",children:[p.jsx(ct,{to:"/",className:"hover:text-blue-600",children:"Home"}),!o&&e&&p.jsxs(p.Fragment,{children:[p.jsx(ct,{to:"/dashboard",className:"hover:text-blue-600",children:"Dashboard"}),p.jsx(ct,{to:"/customers",className:"hover:text-blue-600",children:"Customers"}),p.jsx(ct,{to:"/campaigns",className:"hover:text-blue-600",children:"Campaigns"}),p.jsx(ct,{to:"/forms",className:"hover:text-blue-600",children:"Forms"}),p.jsx(ct,{to:"/settings",className:"hover:text-blue-600",children:"Settings"})]}),p.jsx(ct,{to:"/help",className:"hover:text-blue-600",children:"Help"})]}),e?p.jsxs("div",{className:"relative",children:[p.jsxs("button",{onClick:()=>i(u=>!u),className:"flex items-center gap-2 px-3 py-1 border rounded-full hover:bg-gray-50",children:[p.jsx("span",{className:"material-icons text-gray-600",children:"person"}),p.jsx("span",{className:"text-sm font-medium",children:e.username||"User"})]}),n&&p.jsxs("div",{className:"absolute right-0 mt-2 bg-white border rounded-lg shadow-lg py-2 text-sm w-40",children:[!o&&p.jsx(ct,{to:"/settings",className:"block px-4 py-2 hover:bg-gray-50",onClick:()=>i(!1),children:"Settings"}),p.jsx(ct,{to:"/help",className:"block px-4 py-2 hover:bg-gray-50",onClick:()=>i(!1),children:"Help"}),a&&p.jsx(ct,{to:"/admin",className:"block px-4 py-2 hover:bg-gray-50",onClick:()=>i(!1),children:"Admin"}),p.jsx("button",{onClick:c,className:"block w-full text-left px-4 py-2 hover:bg-gray-50 text-red-600",children:"Logout"})]})]}):p.jsx(ct,{to:"/login",className:"px-4 py-2 text-sm rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:"Login"})]})})}const o$=()=>p.jsxs("footer",{className:"w-full mt-12 border-t bg-white/90 backdrop-blur",style:{background:"url(/flag-bg.jpg) center right / contain no-repeat, rgba(255,255,255,0.85)"},children:[p.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-10 text-center sm:text-left",children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"NeverMiss CRM"}),p.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Manage customers, campaigns, and outreach wherever you are."}),p.jsxs("div",{className:"mt-4 flex flex-wrap justify-center sm:justify-start gap-2",children:[p.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-blue-100 text-blue-700 rounded-full",children:"Mobile Ready"}),p.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-green-100 text-green-700 rounded-full",children:"QR Forms"}),p.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-purple-100 text-purple-700 rounded-full",children:"SMS Campaigns"})]})]}),p.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 border-t text-xs text-gray-500 flex flex-col sm:flex-row items-center justify-between gap-2",children:[p.jsxs("span",{children:["© ",new Date().getFullYear()," ",p.jsx("span",{className:"font-bold text-blue-700",children:"NeverMiss CRM"}),". All rights reserved."]}),p.jsx("span",{children:"Made in America 🇺🇸"})]})]}),l$="/flag-bg.jpg";function u$(){const e=Ct();return p.jsxs("section",{className:"relative flex items-center justify-center min-h-[500px] md:min-h-screen text-white text-center overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-fixed bg-cover bg-center",style:{backgroundImage:`url(${l$})`}}),p.jsx("div",{className:"absolute inset-0 bg-black/50"}),p.jsxs("div",{className:"relative z-10 max-w-2xl px-6 py-32 md:py-48 flex flex-col items-center",children:[p.jsx("h1",{className:"mb-6 text-4xl sm:text-5xl md:text-6xl font-extrabold",children:"Never Miss a Customer Again"}),p.jsx("p",{className:"max-w-xl mb-8 text-lg md:text-xl",children:"All-in-one tools to capture leads and grow your business on the go."}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[p.jsx("button",{className:"px-8 py-3 text-lg font-bold text-white bg-blue-700 rounded-full shadow hover:bg-blue-800",onClick:()=>e("/register"),children:"Start Free"}),p.jsx("button",{className:"px-8 py-3 text-lg font-bold text-blue-700 bg-white rounded-full shadow hover:bg-gray-100",onClick:()=>e("/demo"),children:"Watch Demo"})]})]})]})}var kC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},p_=ge.createContext&&ge.createContext(kC),c$=["attr","size","title"];function d$(e,t){if(e==null)return{};var r=f$(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function f$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cd(){return Cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cd.apply(this,arguments)}function m_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m_(Object(r),!0).forEach(function(n){h$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h$(e,t,r){return t=p$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p$(e){var t=m$(e,"string");return typeof t=="symbol"?t:t+""}function m$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EC(e){return e&&e.map((t,r)=>ge.createElement(t.tag,Pd({key:r},t.attr),EC(t.child)))}function Fr(e){return t=>ge.createElement(g$,Cd({attr:Pd({},e.attr)},t),EC(e.child))}function g$(e){var t=r=>{var{attr:n,size:i,title:a}=e,o=d$(e,c$),c=i||r.size||"1em",u;return r.className&&(u=r.className),e.className&&(u=(u?u+" ":"")+e.className),ge.createElement("svg",Cd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:u,style:Pd(Pd({color:e.color||r.color},r.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&ge.createElement("title",null,a),e.children)};return p_!==void 0?ge.createElement(p_.Consumer,null,r=>t(r)):t(kC)}function v$(e){return Fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]},{tag:"path",attr:{d:"m12 5 7 7-7 7"},child:[]}]})(e)}function y$(e){return Fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m3 11 18-5v12L3 14v-3z"},child:[]},{tag:"path",attr:{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6"},child:[]}]})(e)}function x$(e){return Fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(e)}function b$(e){return Fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"5",height:"5",x:"3",y:"3",rx:"1"},child:[]},{tag:"rect",attr:{width:"5",height:"5",x:"16",y:"3",rx:"1"},child:[]},{tag:"rect",attr:{width:"5",height:"5",x:"3",y:"16",rx:"1"},child:[]},{tag:"path",attr:{d:"M21 16h-3a2 2 0 0 0-2 2v3"},child:[]},{tag:"path",attr:{d:"M21 21v.01"},child:[]},{tag:"path",attr:{d:"M12 7v3a2 2 0 0 1-2 2H7"},child:[]},{tag:"path",attr:{d:"M3 12h.01"},child:[]},{tag:"path",attr:{d:"M12 3h.01"},child:[]},{tag:"path",attr:{d:"M12 16v.01"},child:[]},{tag:"path",attr:{d:"M16 12h1"},child:[]},{tag:"path",attr:{d:"M21 12v.01"},child:[]},{tag:"path",attr:{d:"M12 21v-1"},child:[]}]})(e)}function w$(e){return Fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19.07 4.93A10 10 0 0 0 6.99 3.34"},child:[]},{tag:"path",attr:{d:"M4 6h.01"},child:[]},{tag:"path",attr:{d:"M2.29 9.62A10 10 0 1 0 21.31 8.35"},child:[]},{tag:"path",attr:{d:"M16.24 7.76A6 6 0 1 0 8.23 16.67"},child:[]},{tag:"path",attr:{d:"M12 18h.01"},child:[]},{tag:"path",attr:{d:"M17.99 11.66A6 6 0 0 1 15.77 16.67"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]},{tag:"path",attr:{d:"m13.41 10.59 5.66-5.66"},child:[]}]})(e)}function _$(){const e=Ct();return p.jsx("section",{className:"bg-[#0B1220] py-24",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-12 flex flex-col md:flex-row items-center gap-12",children:[p.jsx("div",{className:"flex-1 flex justify-center",children:p.jsxs("div",{className:"w-full max-w-sm bg-white rounded-xl shadow-lg p-6 space-y-4",children:[p.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),p.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),p.jsx("div",{className:"h-32 bg-gray-100 rounded"}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx("div",{className:"w-12 h-3 bg-blue-600 rounded"}),p.jsx("div",{className:"w-12 h-3 bg-gray-300 rounded"})]})]})}),p.jsxs("div",{className:"flex-1 text-white text-center md:text-left",children:[p.jsxs("h2",{className:"mb-4 flex items-center justify-center md:justify-start gap-2 text-3xl md:text-4xl font-bold",children:[p.jsx(y$,{className:"w-8 h-8 text-blue-400"}),"Build campaigns that convert"]}),p.jsxs("ul",{className:"mb-6 text-gray-300 list-disc list-inside space-y-2",children:[p.jsx("li",{children:"Draft messages in minutes"}),p.jsx("li",{children:"Schedule blasts and drip flows"}),p.jsx("li",{children:"Track performance live"})]}),p.jsx("button",{className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-md font-semibold",onClick:()=>e("/campaigns"),children:"Build a Campaign"})]})]})})}var S$=Object.defineProperty,Nd=Object.getOwnPropertySymbols,CC=Object.prototype.hasOwnProperty,PC=Object.prototype.propertyIsEnumerable,g_=(e,t,r)=>t in e?S$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,wv=(e,t)=>{for(var r in t||(t={}))CC.call(t,r)&&g_(e,r,t[r]);if(Nd)for(var r of Nd(t))PC.call(t,r)&&g_(e,r,t[r]);return e},_v=(e,t)=>{var r={};for(var n in e)CC.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Nd)for(var n of Nd(e))t.indexOf(n)<0&&PC.call(e,n)&&(r[n]=e[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ls;(e=>{const t=class ze{constructor(u,d,f,m){if(this.version=u,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],u<ze.MIN_VERSION||u>ze.MAX_VERSION)throw new RangeError("Version value out of range");if(m<-1||m>7)throw new RangeError("Mask value out of range");this.size=u*4+17;let g=[];for(let w=0;w<this.size;w++)g.push(!1);for(let w=0;w<this.size;w++)this.modules.push(g.slice()),this.isFunction.push(g.slice());this.drawFunctionPatterns();const x=this.addEccAndInterleave(f);if(this.drawCodewords(x),m==-1){let w=1e9;for(let b=0;b<8;b++){this.applyMask(b),this.drawFormatBits(b);const S=this.getPenaltyScore();S<w&&(m=b,w=S),this.applyMask(b)}}i(0<=m&&m<=7),this.mask=m,this.applyMask(m),this.drawFormatBits(m),this.isFunction=[]}static encodeText(u,d){const f=e.QrSegment.makeSegments(u);return ze.encodeSegments(f,d)}static encodeBinary(u,d){const f=e.QrSegment.makeBytes(u);return ze.encodeSegments([f],d)}static encodeSegments(u,d,f=1,m=40,g=-1,x=!0){if(!(ze.MIN_VERSION<=f&&f<=m&&m<=ze.MAX_VERSION)||g<-1||g>7)throw new RangeError("Invalid value");let w,b;for(w=f;;w++){const E=ze.getNumDataCodewords(w,d)*8,P=o.getTotalBits(u,w);if(P<=E){b=P;break}if(w>=m)throw new RangeError("Data too long")}for(const E of[ze.Ecc.MEDIUM,ze.Ecc.QUARTILE,ze.Ecc.HIGH])x&&b<=ze.getNumDataCodewords(w,E)*8&&(d=E);let S=[];for(const E of u){r(E.mode.modeBits,4,S),r(E.numChars,E.mode.numCharCountBits(w),S);for(const P of E.getData())S.push(P)}i(S.length==b);const j=ze.getNumDataCodewords(w,d)*8;i(S.length<=j),r(0,Math.min(4,j-S.length),S),r(0,(8-S.length%8)%8,S),i(S.length%8==0);for(let E=236;S.length<j;E^=253)r(E,8,S);let C=[];for(;C.length*8<S.length;)C.push(0);return S.forEach((E,P)=>C[P>>>3]|=E<<7-(P&7)),new ze(w,d,C,g)}getModule(u,d){return 0<=u&&u<this.size&&0<=d&&d<this.size&&this.modules[d][u]}getModules(){return this.modules}drawFunctionPatterns(){for(let f=0;f<this.size;f++)this.setFunctionModule(6,f,f%2==0),this.setFunctionModule(f,6,f%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const u=this.getAlignmentPatternPositions(),d=u.length;for(let f=0;f<d;f++)for(let m=0;m<d;m++)f==0&&m==0||f==0&&m==d-1||f==d-1&&m==0||this.drawAlignmentPattern(u[f],u[m]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(u){const d=this.errorCorrectionLevel.formatBits<<3|u;let f=d;for(let g=0;g<10;g++)f=f<<1^(f>>>9)*1335;const m=(d<<10|f)^21522;i(m>>>15==0);for(let g=0;g<=5;g++)this.setFunctionModule(8,g,n(m,g));this.setFunctionModule(8,7,n(m,6)),this.setFunctionModule(8,8,n(m,7)),this.setFunctionModule(7,8,n(m,8));for(let g=9;g<15;g++)this.setFunctionModule(14-g,8,n(m,g));for(let g=0;g<8;g++)this.setFunctionModule(this.size-1-g,8,n(m,g));for(let g=8;g<15;g++)this.setFunctionModule(8,this.size-15+g,n(m,g));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let u=this.version;for(let f=0;f<12;f++)u=u<<1^(u>>>11)*7973;const d=this.version<<12|u;i(d>>>18==0);for(let f=0;f<18;f++){const m=n(d,f),g=this.size-11+f%3,x=Math.floor(f/3);this.setFunctionModule(g,x,m),this.setFunctionModule(x,g,m)}}drawFinderPattern(u,d){for(let f=-4;f<=4;f++)for(let m=-4;m<=4;m++){const g=Math.max(Math.abs(m),Math.abs(f)),x=u+m,w=d+f;0<=x&&x<this.size&&0<=w&&w<this.size&&this.setFunctionModule(x,w,g!=2&&g!=4)}}drawAlignmentPattern(u,d){for(let f=-2;f<=2;f++)for(let m=-2;m<=2;m++)this.setFunctionModule(u+m,d+f,Math.max(Math.abs(m),Math.abs(f))!=1)}setFunctionModule(u,d,f){this.modules[d][u]=f,this.isFunction[d][u]=!0}addEccAndInterleave(u){const d=this.version,f=this.errorCorrectionLevel;if(u.length!=ze.getNumDataCodewords(d,f))throw new RangeError("Invalid argument");const m=ze.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][d],g=ze.ECC_CODEWORDS_PER_BLOCK[f.ordinal][d],x=Math.floor(ze.getNumRawDataModules(d)/8),w=m-x%m,b=Math.floor(x/m);let S=[];const j=ze.reedSolomonComputeDivisor(g);for(let E=0,P=0;E<m;E++){let N=u.slice(P,P+b-g+(E<w?0:1));P+=N.length;const A=ze.reedSolomonComputeRemainder(N,j);E<w&&N.push(0),S.push(N.concat(A))}let C=[];for(let E=0;E<S[0].length;E++)S.forEach((P,N)=>{(E!=b-g||N>=w)&&C.push(P[E])});return i(C.length==x),C}drawCodewords(u){if(u.length!=Math.floor(ze.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let f=this.size-1;f>=1;f-=2){f==6&&(f=5);for(let m=0;m<this.size;m++)for(let g=0;g<2;g++){const x=f-g,b=(f+1&2)==0?this.size-1-m:m;!this.isFunction[b][x]&&d<u.length*8&&(this.modules[b][x]=n(u[d>>>3],7-(d&7)),d++)}}i(d==u.length*8)}applyMask(u){if(u<0||u>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let f=0;f<this.size;f++){let m;switch(u){case 0:m=(f+d)%2==0;break;case 1:m=d%2==0;break;case 2:m=f%3==0;break;case 3:m=(f+d)%3==0;break;case 4:m=(Math.floor(f/3)+Math.floor(d/2))%2==0;break;case 5:m=f*d%2+f*d%3==0;break;case 6:m=(f*d%2+f*d%3)%2==0;break;case 7:m=((f+d)%2+f*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][f]&&m&&(this.modules[d][f]=!this.modules[d][f])}}getPenaltyScore(){let u=0;for(let g=0;g<this.size;g++){let x=!1,w=0,b=[0,0,0,0,0,0,0];for(let S=0;S<this.size;S++)this.modules[g][S]==x?(w++,w==5?u+=ze.PENALTY_N1:w>5&&u++):(this.finderPenaltyAddHistory(w,b),x||(u+=this.finderPenaltyCountPatterns(b)*ze.PENALTY_N3),x=this.modules[g][S],w=1);u+=this.finderPenaltyTerminateAndCount(x,w,b)*ze.PENALTY_N3}for(let g=0;g<this.size;g++){let x=!1,w=0,b=[0,0,0,0,0,0,0];for(let S=0;S<this.size;S++)this.modules[S][g]==x?(w++,w==5?u+=ze.PENALTY_N1:w>5&&u++):(this.finderPenaltyAddHistory(w,b),x||(u+=this.finderPenaltyCountPatterns(b)*ze.PENALTY_N3),x=this.modules[S][g],w=1);u+=this.finderPenaltyTerminateAndCount(x,w,b)*ze.PENALTY_N3}for(let g=0;g<this.size-1;g++)for(let x=0;x<this.size-1;x++){const w=this.modules[g][x];w==this.modules[g][x+1]&&w==this.modules[g+1][x]&&w==this.modules[g+1][x+1]&&(u+=ze.PENALTY_N2)}let d=0;for(const g of this.modules)d=g.reduce((x,w)=>x+(w?1:0),d);const f=this.size*this.size,m=Math.ceil(Math.abs(d*20-f*10)/f)-1;return i(0<=m&&m<=9),u+=m*ze.PENALTY_N4,i(0<=u&&u<=2568888),u}getAlignmentPatternPositions(){if(this.version==1)return[];{const u=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(u*2-2))*2;let f=[6];for(let m=this.size-7;f.length<u;m-=d)f.splice(1,0,m);return f}}static getNumRawDataModules(u){if(u<ze.MIN_VERSION||u>ze.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*u+128)*u+64;if(u>=2){const f=Math.floor(u/7)+2;d-=(25*f-10)*f-55,u>=7&&(d-=36)}return i(208<=d&&d<=29648),d}static getNumDataCodewords(u,d){return Math.floor(ze.getNumRawDataModules(u)/8)-ze.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u]*ze.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u]}static reedSolomonComputeDivisor(u){if(u<1||u>255)throw new RangeError("Degree out of range");let d=[];for(let m=0;m<u-1;m++)d.push(0);d.push(1);let f=1;for(let m=0;m<u;m++){for(let g=0;g<d.length;g++)d[g]=ze.reedSolomonMultiply(d[g],f),g+1<d.length&&(d[g]^=d[g+1]);f=ze.reedSolomonMultiply(f,2)}return d}static reedSolomonComputeRemainder(u,d){let f=d.map(m=>0);for(const m of u){const g=m^f.shift();f.push(0),d.forEach((x,w)=>f[w]^=ze.reedSolomonMultiply(x,g))}return f}static reedSolomonMultiply(u,d){if(u>>>8||d>>>8)throw new RangeError("Byte out of range");let f=0;for(let m=7;m>=0;m--)f=f<<1^(f>>>7)*285,f^=(d>>>m&1)*u;return i(f>>>8==0),f}finderPenaltyCountPatterns(u){const d=u[1];i(d<=this.size*3);const f=d>0&&u[2]==d&&u[3]==d*3&&u[4]==d&&u[5]==d;return(f&&u[0]>=d*4&&u[6]>=d?1:0)+(f&&u[6]>=d*4&&u[0]>=d?1:0)}finderPenaltyTerminateAndCount(u,d,f){return u&&(this.finderPenaltyAddHistory(d,f),d=0),d+=this.size,this.finderPenaltyAddHistory(d,f),this.finderPenaltyCountPatterns(f)}finderPenaltyAddHistory(u,d){d[0]==0&&(u+=this.size),d.pop(),d.unshift(u)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function r(c,u,d){if(u<0||u>31||c>>>u)throw new RangeError("Value out of range");for(let f=u-1;f>=0;f--)d.push(c>>>f&1)}function n(c,u){return(c>>>u&1)!=0}function i(c){if(!c)throw new Error("Assertion error")}const a=class Nt{constructor(u,d,f){if(this.mode=u,this.numChars=d,this.bitData=f,d<0)throw new RangeError("Invalid argument");this.bitData=f.slice()}static makeBytes(u){let d=[];for(const f of u)r(f,8,d);return new Nt(Nt.Mode.BYTE,u.length,d)}static makeNumeric(u){if(!Nt.isNumeric(u))throw new RangeError("String contains non-numeric characters");let d=[];for(let f=0;f<u.length;){const m=Math.min(u.length-f,3);r(parseInt(u.substring(f,f+m),10),m*3+1,d),f+=m}return new Nt(Nt.Mode.NUMERIC,u.length,d)}static makeAlphanumeric(u){if(!Nt.isAlphanumeric(u))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],f;for(f=0;f+2<=u.length;f+=2){let m=Nt.ALPHANUMERIC_CHARSET.indexOf(u.charAt(f))*45;m+=Nt.ALPHANUMERIC_CHARSET.indexOf(u.charAt(f+1)),r(m,11,d)}return f<u.length&&r(Nt.ALPHANUMERIC_CHARSET.indexOf(u.charAt(f)),6,d),new Nt(Nt.Mode.ALPHANUMERIC,u.length,d)}static makeSegments(u){return u==""?[]:Nt.isNumeric(u)?[Nt.makeNumeric(u)]:Nt.isAlphanumeric(u)?[Nt.makeAlphanumeric(u)]:[Nt.makeBytes(Nt.toUtf8ByteArray(u))]}static makeEci(u){let d=[];if(u<0)throw new RangeError("ECI assignment value out of range");if(u<128)r(u,8,d);else if(u<16384)r(2,2,d),r(u,14,d);else if(u<1e6)r(6,3,d),r(u,21,d);else throw new RangeError("ECI assignment value out of range");return new Nt(Nt.Mode.ECI,0,d)}static isNumeric(u){return Nt.NUMERIC_REGEX.test(u)}static isAlphanumeric(u){return Nt.ALPHANUMERIC_REGEX.test(u)}getData(){return this.bitData.slice()}static getTotalBits(u,d){let f=0;for(const m of u){const g=m.mode.numCharCountBits(d);if(m.numChars>=1<<g)return 1/0;f+=4+g+m.bitData.length}return f}static toUtf8ByteArray(u){u=encodeURI(u);let d=[];for(let f=0;f<u.length;f++)u.charAt(f)!="%"?d.push(u.charCodeAt(f)):(d.push(parseInt(u.substring(f+1,f+3),16)),f+=2);return d}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=a;e.QrSegment=a})(ls||(ls={}));(e=>{(t=>{const r=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(ls||(ls={}));(e=>{(t=>{const r=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(ls||(ls={}));var lo=ls;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var j$={L:lo.QrCode.Ecc.LOW,M:lo.QrCode.Ecc.MEDIUM,Q:lo.QrCode.Ecc.QUARTILE,H:lo.QrCode.Ecc.HIGH},NC=128,OC="L",AC="#FFFFFF",TC="#000000",IC=!1,DC=1,k$=4,E$=0,C$=.1;function RC(e,t=0){const r=[];return e.forEach(function(n,i){let a=null;n.forEach(function(o,c){if(!o&&a!==null){r.push(`M${a+t} ${i+t}h${c-a}v1H${a+t}z`),a=null;return}if(c===n.length-1){if(!o)return;a===null?r.push(`M${c+t},${i+t} h1v1H${c+t}z`):r.push(`M${a+t},${i+t} h${c+1-a}v1H${a+t}z`);return}o&&a===null&&(a=c)})}),r.join("")}function MC(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((i,a)=>a<t.x||a>=t.x+t.w?i:!1))}function P$(e,t,r,n){if(n==null)return null;const i=e.length+r*2,a=Math.floor(t*C$),o=i/t,c=(n.width||a)*o,u=(n.height||a)*o,d=n.x==null?e.length/2-c/2:n.x*o,f=n.y==null?e.length/2-u/2:n.y*o,m=n.opacity==null?1:n.opacity;let g=null;if(n.excavate){let w=Math.floor(d),b=Math.floor(f),S=Math.ceil(c+d-w),j=Math.ceil(u+f-b);g={x:w,y:b,w:S,h:j}}const x=n.crossOrigin;return{x:d,y:f,h:u,w:c,excavation:g,opacity:m,crossOrigin:x}}function N$(e,t){return t!=null?Math.max(Math.floor(t),0):e?k$:E$}function LC({value:e,level:t,minVersion:r,includeMargin:n,marginSize:i,imageSettings:a,size:o,boostLevel:c}){let u=ge.useMemo(()=>{const w=(Array.isArray(e)?e:[e]).reduce((b,S)=>(b.push(...lo.QrSegment.makeSegments(S)),b),[]);return lo.QrCode.encodeSegments(w,j$[t],r,void 0,void 0,c)},[e,t,r,c]);const{cells:d,margin:f,numCells:m,calculatedImageSettings:g}=ge.useMemo(()=>{let x=u.getModules();const w=N$(n,i),b=x.length+w*2,S=P$(x,o,w,a);return{cells:x,margin:w,numCells:b,calculatedImageSettings:S}},[u,o,a,n,i]);return{qrcode:u,margin:f,cells:d,numCells:m,calculatedImageSettings:g}}var O$=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Su=ge.forwardRef(function(t,r){const n=t,{value:i,size:a=NC,level:o=OC,bgColor:c=AC,fgColor:u=TC,includeMargin:d=IC,minVersion:f=DC,boostLevel:m,marginSize:g,imageSettings:x}=n,b=_v(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:S}=b,j=_v(b,["style"]),C=x?.src,E=ge.useRef(null),P=ge.useRef(null),N=ge.useCallback(ce=>{E.current=ce,typeof r=="function"?r(ce):r&&(r.current=ce)},[r]),[A,T]=ge.useState(!1),{margin:D,cells:F,numCells:z,calculatedImageSettings:L}=LC({value:i,level:o,minVersion:f,boostLevel:m,includeMargin:d,marginSize:g,imageSettings:x,size:a});ge.useEffect(()=>{if(E.current!=null){const ce=E.current,fe=ce.getContext("2d");if(!fe)return;let K=F;const q=P.current,Y=L!=null&&q!==null&&q.complete&&q.naturalHeight!==0&&q.naturalWidth!==0;Y&&L.excavation!=null&&(K=MC(F,L.excavation));const Z=window.devicePixelRatio||1;ce.height=ce.width=a*Z;const te=a/z*Z;fe.scale(te,te),fe.fillStyle=c,fe.fillRect(0,0,z,z),fe.fillStyle=u,O$?fe.fill(new Path2D(RC(K,D))):F.forEach(function(M,B){M.forEach(function(de,_e){de&&fe.fillRect(_e+D,B+D,1,1)})}),L&&(fe.globalAlpha=L.opacity),Y&&fe.drawImage(q,L.x+D,L.y+D,L.w,L.h)}}),ge.useEffect(()=>{T(!1)},[C]);const H=wv({height:a,width:a},S);let ne=null;return C!=null&&(ne=ge.createElement("img",{src:C,key:C,style:{display:"none"},onLoad:()=>{T(!0)},ref:P,crossOrigin:L?.crossOrigin})),ge.createElement(ge.Fragment,null,ge.createElement("canvas",wv({style:H,height:a,width:a,ref:N,role:"img"},j)),ne)});Su.displayName="QRCodeCanvas";var zy=ge.forwardRef(function(t,r){const n=t,{value:i,size:a=NC,level:o=OC,bgColor:c=AC,fgColor:u=TC,includeMargin:d=IC,minVersion:f=DC,boostLevel:m,title:g,marginSize:x,imageSettings:w}=n,b=_v(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:S,cells:j,numCells:C,calculatedImageSettings:E}=LC({value:i,level:o,minVersion:f,boostLevel:m,includeMargin:d,marginSize:x,imageSettings:w,size:a});let P=j,N=null;w!=null&&E!=null&&(E.excavation!=null&&(P=MC(j,E.excavation)),N=ge.createElement("image",{href:w.src,height:E.h,width:E.w,x:E.x+S,y:E.y+S,preserveAspectRatio:"none",opacity:E.opacity,crossOrigin:E.crossOrigin}));const A=RC(P,S);return ge.createElement("svg",wv({height:a,width:a,viewBox:`0 0 ${C} ${C}`,ref:r,role:"img"},b),!!g&&ge.createElement("title",null,g),ge.createElement("path",{fill:c,d:`M0,0 h${C}v${C}H0z`,shapeRendering:"crispEdges"}),ge.createElement("path",{fill:u,d:A,shapeRendering:"crispEdges"}),N)});zy.displayName="QRCodeSVG";function A$(){const e=Ct();return p.jsx("section",{className:"bg-[#0B1220] py-24",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-12 flex flex-col md:flex-row-reverse items-center gap-12",children:[p.jsx("div",{className:"flex-1 flex justify-center",children:p.jsx("div",{className:"w-40 h-40 bg-white rounded-md p-2 flex items-center justify-center",children:p.jsx(zy,{value:"https://example.com/intake-demo",size:120})})}),p.jsxs("div",{className:"flex-1 text-white text-center md:text-left",children:[p.jsxs("h2",{className:"mb-4 flex items-center justify-center md:justify-start gap-2 text-3xl md:text-4xl font-bold",children:[p.jsx(b$,{className:"w-8 h-8 text-blue-400"}),"Launch QR intake in seconds"]}),p.jsxs("ul",{className:"mb-6 text-gray-300 list-disc list-inside space-y-2",children:[p.jsx("li",{children:"Create unique codes instantly"}),p.jsx("li",{children:"Link customers to custom forms"}),p.jsx("li",{children:"Track every scan in real time"})]}),p.jsx("button",{className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-md font-semibold",onClick:()=>e("/campaigns"),children:"Generate QR Codes"})]})]})})}function T$(){const e=Ct();return p.jsx("section",{className:"bg-[#0B1220] py-24",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-12 flex flex-col md:flex-row items-center gap-12",children:[p.jsx("div",{className:"flex-1 flex justify-center",children:p.jsxs("div",{className:"relative w-48 h-48",children:[p.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-green-400"}),p.jsx("div",{className:"absolute inset-4 rounded-full border border-green-400/60"}),p.jsx("div",{className:"absolute inset-0 rounded-full overflow-hidden",children:p.jsx("div",{className:"absolute w-1/2 h-1/2 origin-bottom-left bg-green-400/40 animate-[spin_4s_linear_infinite]"})}),p.jsx("div",{className:"absolute w-2 h-2 bg-green-400 rounded-full top-1/3 left-2/3 animate-ping"}),p.jsx("div",{className:"absolute w-2 h-2 bg-green-400 rounded-full top-2/3 left-1/3 animate-ping"})]})}),p.jsxs("div",{className:"flex-1 text-white text-center md:text-left",children:[p.jsxs("h2",{className:"mb-4 flex items-center justify-center md:justify-start gap-2 text-3xl md:text-4xl font-bold",children:[p.jsx(w$,{className:"w-8 h-8 text-blue-400"}),"Hit the right audience every time"]}),p.jsxs("ul",{className:"mb-6 text-gray-300 list-disc list-inside space-y-2",children:[p.jsx("li",{children:"Filter by zip code radius"}),p.jsx("li",{children:"Segment with custom fields"}),p.jsx("li",{children:"Save smart audiences"})]}),p.jsx("button",{className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-md font-semibold",onClick:()=>e("/customers"),children:"Try Targeting"})]})]})})}function I$(){const e=Ct();return p.jsx("section",{className:"bg-[#0B1220] py-24",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-12 flex flex-col md:flex-row-reverse items-center gap-12",children:[p.jsx("div",{className:"flex-1 flex justify-center",children:p.jsxs("div",{className:"w-56 h-80 rounded-2xl border-4 border-white p-4 flex flex-col gap-3 bg-gray-900",children:[p.jsx("div",{className:"bg-blue-600 text-white px-4 py-2 rounded-xl rounded-bl-none w-max",children:"Hi there!"}),p.jsx("div",{className:"bg-gray-700 text-white px-4 py-2 rounded-xl rounded-br-none w-max ml-auto",children:"Can we help you?"}),p.jsx("div",{className:"bg-blue-600 text-white px-4 py-2 rounded-xl rounded-bl-none w-max",children:"Let's chat!"})]})}),p.jsxs("div",{className:"flex-1 text-white text-center md:text-left",children:[p.jsxs("h2",{className:"mb-4 flex items-center justify-center md:justify-start gap-2 text-3xl md:text-4xl font-bold",children:[p.jsx(x$,{className:"w-8 h-8 text-blue-400"}),"Send texts with confidence"]}),p.jsxs("ul",{className:"mb-6 text-gray-300 list-disc list-inside space-y-2",children:[p.jsx("li",{children:"Personalize every message"}),p.jsx("li",{children:"Respect opt-out rules automatically"}),p.jsx("li",{children:"See delivery status in one place"})]}),p.jsx("button",{className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-md font-semibold",onClick:()=>e("/campaigns"),children:"Open SMS Tools"})]})]})})}function D$(){const e=Ct();return p.jsxs("section",{className:"bg-gradient-to-r from-blue-600 to-blue-800 py-20 text-center text-white",children:[p.jsx("h2",{className:"mb-8 text-3xl md:text-4xl font-bold",children:"Ready to Grow Your Customer Base?"}),p.jsxs("button",{className:"group px-8 py-3 font-semibold bg-white text-blue-700 rounded-full shadow hover:bg-gray-100 inline-flex items-center gap-2",onClick:()=>e("/register"),children:["Start Free Today",p.jsx(v$,{className:"w-5 h-5 transition-transform group-hover:translate-x-1"})]})]})}function R$(){return p.jsx("section",{className:"py-24 bg-white",children:p.jsxs("div",{className:"max-w-5xl mx-auto px-6 text-center",children:[p.jsx("h2",{className:"mb-6 text-3xl md:text-4xl font-bold text-patriotBlue",children:"Built for America’s Small Businesses"}),p.jsx("p",{className:"mb-10 text-gray-700",children:"From one entrepreneur to another, NeverMiss CRM was created to help local businesses capture more leads and keep customers coming back."}),p.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[p.jsx("span",{className:"px-4 py-2 text-sm font-semibold bg-blue-100 text-blue-800 rounded-full",children:"Proudly American Made"}),p.jsx("span",{className:"px-4 py-2 text-sm font-semibold bg-blue-100 text-blue-800 rounded-full",children:"For Local Businesses"}),p.jsx("span",{className:"px-4 py-2 text-sm font-semibold bg-blue-100 text-blue-800 rounded-full",children:"No Contracts, No Risk"})]})]})})}function M$(){return p.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 to-blue-200",children:[p.jsx(u$,{}),p.jsx(_$,{}),p.jsx(A$,{}),p.jsx(T$,{}),p.jsx(I$,{}),p.jsx(D$,{}),p.jsx(R$,{})]})}function St({children:e,faintFlag:t=!1}){return p.jsxs("div",{className:"min-h-screen flex flex-col bg-blue-50",children:[t&&p.jsx("div",{"aria-hidden":"true",className:"fixed inset-0 z-0",style:{background:"url('/patriot-banner.jpg') center center / cover no-repeat",opacity:.25,pointerEvents:"none"}}),p.jsx("main",{className:"relative z-10 flex-1 py-6",children:e})]})}function L$(){const[e,t]=y.useState(""),[r,n]=y.useState(""),[i,a]=y.useState(null),[o,c]=y.useState(!1),u=Ct(),{session:d,user:f}=Ut();y.useEffect(()=>{d&&f&&u("/dashboard",{replace:!0})},[d,f,u]);const m=async g=>{g.preventDefault(),a(null),c(!0);try{const{error:x}=await he.auth.signInWithPassword({email:e,password:r});if(x){a(x.message||"Invalid credentials.");return}}catch(x){console.error("Login crash:",x),a("Unexpected error. Please try again.")}finally{c(!1)}};return p.jsx(St,{faintFlag:!0,children:p.jsx("div",{className:"flex-grow flex items-center justify-center relative z-10",children:p.jsxs("form",{className:"bg-white/90 backdrop-blur rounded-2xl shadow-xl px-8 py-8 w-full max-w-sm",onSubmit:m,children:[p.jsx("h2",{className:"text-2xl font-extrabold text-center mb-6 text-blue-800",children:"Log in"}),i&&p.jsx("div",{className:"mb-4 text-red-600 text-sm text-center",children:i}),p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),p.jsx("input",{type:"email",value:e,"data-testid":"email",onChange:g=>t(g.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-300 focus:border-blue-600 focus:ring-2 focus:ring-blue-200 outline-none",required:!0,autoComplete:"email"})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),p.jsx("input",{type:"password",value:r,"data-testid":"password",onChange:g=>n(g.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-300 focus:border-blue-600 focus:ring-2 focus:ring-blue-200 outline-none",required:!0,autoComplete:"current-password"})]}),p.jsx("button",{type:"submit",disabled:o,className:"w-full py-2 px-4 bg-blue-700 hover:bg-blue-800 text-white font-semibold rounded-xl transition disabled:opacity-50 flex items-center justify-center",children:o?p.jsx("span",{className:"h-5 w-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Log In"}),p.jsxs("p",{className:"mt-4 text-sm text-center",children:["Don’t have an account?"," ",p.jsx(ct,{to:"/register",className:"text-blue-700 hover:underline",children:"Register"})]})]})})})}function $$(){const[e,t]=y.useState(""),[r,n]=y.useState(""),[i,a]=y.useState(""),[o,c]=y.useState(null),[u,d]=y.useState(null),[f,m]=y.useState(!1),g=Ct(),x=async w=>{w.preventDefault(),c(null),d(null),m(!0);const{data:b,error:S}=await he.auth.signUp({email:r,password:i,options:{data:{username:e}}});if(m(!1),S){c(S.message||"Registration failed.");return}if(b?.user&&!b.session){d("Check your email to confirm your account. You can sign in after confirming.");return}g("/dashboard")};return p.jsxs("div",{className:"relative min-h-screen flex flex-col",children:[p.jsx("div",{className:"fixed inset-0 z-0","aria-hidden":"true",style:{background:"url('/flag-bg.svg') center center / cover no-repeat",opacity:.12,pointerEvents:"none"}}),p.jsx("div",{className:"flex-grow flex items-center justify-center relative z-10",children:p.jsxs("form",{className:"bg-white/90 backdrop-blur rounded-2xl shadow-xl px-8 py-8 w-full max-w-sm",onSubmit:x,children:[p.jsx("h2",{className:"text-2xl font-extrabold text-center mb-6 text-blue-800",children:"Create Account"}),p.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Username"}),p.jsx("input",{className:"w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-200 mb-4",value:e,onChange:w=>t(w.target.value),required:!0,autoFocus:!0}),p.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Email"}),p.jsx("input",{className:"w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-200 mb-4",type:"email",value:r,onChange:w=>n(w.target.value),required:!0}),p.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Password"}),p.jsx("input",{className:"w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-200 mb-6",type:"password",value:i,onChange:w=>a(w.target.value),required:!0}),o&&p.jsx("div",{className:"mb-4 text-red-600 text-sm text-center",children:o}),u&&p.jsx("div",{className:"mb-4 text-green-600 text-sm text-center",children:u}),p.jsx("button",{type:"submit",disabled:f,className:"w-full py-2 px-4 bg-blue-700 hover:bg-blue-800 text-white font-semibold rounded-xl transition disabled:opacity-60",children:f?"Registering…":"Register"}),p.jsxs("div",{className:"mt-4 text-center text-sm text-gray-500",children:["Already have an account?"," ",p.jsx(ct,{to:"/login",className:"text-blue-700 hover:underline",children:"Sign in"})]})]})})]})}const ar=[];for(let e=0;e<256;++e)ar.push((e+256).toString(16).slice(1));function B$(e,t=0){return(ar[e[t+0]]+ar[e[t+1]]+ar[e[t+2]]+ar[e[t+3]]+"-"+ar[e[t+4]]+ar[e[t+5]]+"-"+ar[e[t+6]]+ar[e[t+7]]+"-"+ar[e[t+8]]+ar[e[t+9]]+"-"+ar[e[t+10]]+ar[e[t+11]]+ar[e[t+12]]+ar[e[t+13]]+ar[e[t+14]]+ar[e[t+15]]).toLowerCase()}let dm;const F$=new Uint8Array(16);function z$(){if(!dm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");dm=crypto.getRandomValues.bind(crypto)}return dm(F$)}const U$=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),v_={randomUUID:U$};function Ni(e,t,r){if(v_.randomUUID&&!e)return v_.randomUUID();e=e||{};const n=e.random??e.rng?.()??z$();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,B$(n)}const q$=1,Qc=q$;function $C(e){return`sms_log_${e??"anonymous"}`}function W$(e){try{const t=localStorage.getItem($C(e));return t?JSON.parse(t):[]}catch{return[]}}function K$(e,t){localStorage.setItem($C(e),JSON.stringify(t))}function fm(e,t){const r=W$(e);r.push(t),K$(e,r)}function Jc(e){return Math.max(1,Math.ceil((e??"").length/160))}function Uy(e){return{estimateCredits(t,r){return Jc(t)*Math.max(0,r)*Qc},async sendBulk(t,r){const n=crypto.randomUUID?.()??Math.random().toString(36).slice(2),i=Jc(r),a=i*t.length*Qc;return fm(e,{id:n,type:"bulk",phones:t,message:r,createdAt:new Date().toISOString(),segments:i,creditsEstimated:a}),await hm(200),alert("No SMS sent - Feature coming soon"),{success:!0,id:n}},async scheduleBulk(t,r,n){const i=crypto.randomUUID?.()??Math.random().toString(36).slice(2),a=Jc(r),o=a*t.length*Qc;return fm(e,{id:i,type:"schedule",phones:t,message:r,createdAt:new Date().toISOString(),scheduledFor:n,segments:a,creditsEstimated:o}),await hm(200),alert("No SMS sent - Feature coming soon"),{success:!0,id:i,scheduledFor:n}},async sendTest(t,r){const n=crypto.randomUUID?.()??Math.random().toString(36).slice(2),i=Jc(r),a=i*1*Qc;return fm(e,{id:n,type:"test",phones:[t],message:r,createdAt:new Date().toISOString(),segments:i,creditsEstimated:a}),await hm(150),alert("No SMS sent - Feature coming soon"),{success:!0,id:n}}}}function hm(e){return new Promise(t=>setTimeout(t,e))}async function Sv(){const{data:e,error:t}=await he.auth.getUser();if(t)throw t;return e.user??null}async function Zc(){const e=await Sv();if(!e)return null;const{data:t,error:r}=await he.from("profiles").select("*").eq("id",e.id).single();if(r)throw r;return t}async function ed(e){const{data:t,error:r}=await he.from("profiles").select("*").eq("id",e).single();if(r)throw r;return t}async function td(e,t){const{error:r}=await he.from("profiles").update({credits:t}).eq("id",e);if(r)throw r}async function pm(e,t){const{error:r}=await he.rpc("increment_credits",{p_user_id:e,p_amount:t});if(r)throw r}async function rd(e,t,r){try{await he.from("credit_ledger").insert({user_id:e,change:t,reason:r})}catch(n){console.error("ledger insert failed",n)}}function H$(){return{async getBalance(){const e=await Zc();return e?e.credits??0:0},async canAfford(e){return await this.getBalance()>=e},async deduct(e){try{const t=await Sv();if(!t)return{ok:!1,message:"Not logged in."};const n=(await ed(t.id)).credits??0;if(n<e)return{ok:!1,message:"Insufficient credits."};try{await pm(t.id,-e)}catch{await td(t.id,n-e)}return await rd(t.id,-e,"deduct"),{ok:!0}}catch(t){return console.error(t),{ok:!1,message:t.message??"Failed to deduct credits."}}},async adminAddToCurrentUser(e){try{const t=await Zc();if(!t)return{ok:!1,message:"Not logged in."};if(t.role!=="admin")return{ok:!1,message:"Only admins can add credits directly."};try{await pm(t.id,e)}catch{const r=t.credits??0;await td(t.id,r+e)}return await rd(t.id,e,"admin_add_self"),{ok:!0}}catch(t){return console.error(t),{ok:!1,message:t.message??"Failed to add credits."}}},async adminAddToUser(e,t){try{const r=await Zc();if(!r)return{ok:!1,message:"Not logged in."};if(r.role!=="admin")return{ok:!1,message:"Only admins can add credits directly."};try{await pm(e,t)}catch{const i=(await ed(e)).credits??0;await td(e,i+t)}return await rd(e,t,"admin_add_user"),{ok:!0}}catch(r){return console.error(r),{ok:!1,message:r.message??"Failed to add credits to user."}}},async beginUserPurchase(e){try{const t=await Sv();if(!t)return{ok:!1,message:"Not logged in."};const n=(await ed(t.id)).credits??0;return await td(t.id,n+e),await rd(t.id,e,"purchase"),{ok:!0,message:"Simulated purchase complete.",data:{checkoutUrl:void 0}}}catch(t){return console.error(t),{ok:!1,message:t.message??"Failed to purchase credits."}}},async getUserBalance(e){try{const t=await Zc();return!t||t.role!=="admin"?0:(await ed(e)).credits??0}catch(t){return console.error(t),0}}}}const or=H$();let eu;try{({parsePhoneNumberFromString:eu}=require("libphonenumber-js"))}catch{}function zt(e){if(e==null)return null;const t=String(e).trim();if(!t)return null;if(eu)try{const n=eu(t,"US");if(n&&n.isValid())return n.number}catch{}const r=t.replace(/\D/g,"");return r.length<10?null:r.length===10?`+1${r}`:r.startsWith("1")&&r.length===11?`+${r}`:`+${r}`}function Wn(e){const t=zt(e);if(!t)return"";if(eu)try{const u=eu(t);if(u&&u.isValid())return`${u.countryCallingCode}+ ${u.formatNational()}`}catch{}const r=t.replace(/\D/g,""),n=r.length>10?r.slice(0,r.length-10):"1",i=r.slice(-10),a=i.slice(0,3),o=i.slice(3,6),c=i.slice(6);return`${n}+ (${a}) ${o}-${c}`}function V$({customer:e,onClose:t}){const{user:r}=Ut(),n=y.useMemo(()=>Uy(r?.username??r?.email??null),[r]),[i,a]=y.useState(""),[o,c]=y.useState(!0),[u,d]=y.useState(0),f=y.useMemo(()=>n.estimateCredits(i,1),[n,i]);y.useEffect(()=>{let g=!0;return(async()=>{const x=await or.canAfford(f);g&&c(x);const w=await or.getBalance();g&&d(w)})(),()=>{g=!1}},[f]);const m=async()=>{if(!i.trim()){alert("Please enter a message.");return}const g=zt(e.phone);if(!g){alert("Invalid phone number.");return}if(!o){alert(`Not enough credits. You need ${f} but have ${u}.`);return}await n.sendBulk([g],i),t()};return p.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",children:p.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"text-lg font-semibold",children:"Send SMS"}),p.jsx("button",{onClick:t,className:"text-sm text-gray-500 hover:underline",children:"Cancel"})]}),p.jsxs("div",{className:"mb-3 text-sm text-gray-700",children:[p.jsxs("div",{children:[p.jsx("span",{className:"font-medium",children:"To:"})," ",(e.firstName||"")+" "+(e.lastName||"").trim()||"Unknown"," (",Wn(e.phone)||"No phone",")"]}),p.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:["Credits required: ",p.jsx("strong",{children:f})," | Available:"," ",p.jsx("strong",{children:u})]})]}),p.jsx("textarea",{className:"w-full border rounded-md p-2 h-28 resize-none text-sm",placeholder:"Write your message...",value:i,onChange:g=>a(g.target.value)}),p.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[p.jsx("button",{onClick:t,className:"px-4 py-2 text-sm rounded-md border hover:bg-gray-50",children:"Close"}),p.jsx("button",{onClick:m,disabled:!i.trim()||!o,className:`px-4 py-2 text-sm rounded-md text-white ${!i.trim()||!o?"bg-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:"Send"})]})]})})}function Od(e){if(e==null)return"";const t=String(e).trim().toLowerCase();return/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(t)?t:""}async function qy(){try{const{data:e}=await he.auth.getUser();return e?.user?.id??null}catch{return null}}async function bn(){const e=await qy();if(!e)return[];const{data:t,error:r}=await he.from("custom_fields").select('id,key,label,type,options,required,order,"visibleOn",archived').eq("user_id",e).order("order",{ascending:!0});return r?(console.error("getFields error:",r),[]):t??[]}async function Y$(e){const t=await qy();if(!t)throw new Error("Not logged in.");const{error:r}=await he.from("custom_fields").delete().eq("user_id",t);if(r)throw r;if(e.length>0){const n=e.map(a=>({id:a.id,user_id:t,key:a.key,label:a.label,type:a.type,options:a.options??[],required:a.required??!1,order:a.order,visibleOn:a.visibleOn??{dashboard:!1,customers:!1,campaigns:!1},archived:a.archived??!1})),{error:i}=await he.from("custom_fields").upsert(n,{onConflict:"user_id,key"});if(i)throw i}}async function G$(e){const t=await qy();if(!t)throw new Error("Not logged in.");const{error:r}=await he.from("custom_fields").upsert({id:e.id,user_id:t,key:e.key,label:e.label,type:e.type,options:e.options??[],required:e.required??!1,order:e.order,visibleOn:e.visibleOn??{dashboard:!1,customers:!1,campaigns:!1},archived:e.archived??!1},{onConflict:"user_id,key"});if(r)throw r}async function Ul(e,t){const r=await bn(),n=Object.fromEntries(r.map(o=>[o.key,o.id])),i=Object.entries(t).filter(([o])=>n[o]).map(([o,c])=>({customer_id:e,field_id:n[o],value:c??""}));if(i.length===0)return;const{error:a}=await he.from("customer_custom_field_values").upsert(i);if(a)throw a}async function BC(e){if(e.length===0)return{};const{data:t,error:r}=await he.from("customer_custom_field_values").select("customer_id,value,custom_fields!inner(key)").in("customer_id",e);if(r)throw r;const n={};for(const i of t||[]){const a=i.customer_id,o=i.custom_fields.key;n[a]||(n[a]={}),n[a][o]=i.value}return n}async function Oo(){const{data:e,error:t}=await he.auth.getUser();if(t||!e.user)throw new Error("Not authenticated");return e.user.id}async function Ad(){const e=await Oo(),{data:t,error:r}=await he.from("customers").select("id,user_id,first_name,last_name,phone,email,zip_code,created_at,extra").eq("user_id",e).order("created_at",{ascending:!1});if(r)throw r;const n=(t??[]).map(a=>a.id),i=await BC(n);return(t??[]).map(a=>({id:a.id,user_id:a.user_id,firstName:a.first_name,lastName:a.last_name,phone:a.phone??void 0,email:a.email??void 0,zipCode:a.zip_code??void 0,signupDate:a.created_at,...i[a.id]??{},...a.extra??{}}))}async function X$(e){const t=await Oo(),{data:r,error:n}=await he.from("customers").select("id,user_id,first_name,last_name,phone,email,zip_code,created_at,extra").eq("user_id",t).eq("id",e).maybeSingle();if(n)throw n;if(!r)return null;const i=await BC([r.id]);return{id:r.id,user_id:r.user_id,firstName:r.first_name,lastName:r.last_name,phone:r.phone??void 0,email:r.email??void 0,zipCode:r.zip_code??void 0,signupDate:r.created_at,...i[r.id]??{},...r.extra??{}}}function Wy(e,t){const r={id:e.id,user_id:e.user_id,first_name:e.firstName??"",last_name:e.lastName??""};e.phone!==void 0&&(r.phone=zt(e.phone)||null),e.email!==void 0&&(r.email=Od(e.email)||null),e.zipCode!==void 0&&(r.zip_code=e.zipCode??null),r.created_at=e.signupDate??new Date().toISOString();const n={},i={},a=J$(e);for(const[o,c]of Object.entries(a))t.has(o)?n[o]=c:i[o]=c;return{base:r,custom:n,extra:i}}async function Q$(e){const t=await Oo(),r=await bn(),n=new Set(r.map(u=>u.key)),{base:i,custom:a,extra:o}=Wy({...e,user_id:e.user_id??t},n);i.extra=o;const{error:c}=await he.from("customers").insert(i);if(c)throw c;await Ul(i.id,a)}async function FC(e,t){const r=await Oo(),n=await bn(),i=new Set(n.map(f=>f.key)),{base:a,custom:o,extra:c}=Wy(t,i),u={};if(a.first_name!==void 0&&(u.first_name=a.first_name),a.last_name!==void 0&&(u.last_name=a.last_name),a.phone!==void 0&&(u.phone=a.phone),a.email!==void 0&&(u.email=a.email),a.zip_code!==void 0&&(u.zip_code=a.zip_code),t.signupDate!==void 0&&(u.created_at=a.created_at),Object.keys(c).length>0){const{data:f,error:m}=await he.from("customers").select("extra").eq("id",e).eq("user_id",r).single();if(m)throw m;u.extra={...f?.extra??{},...c}}const{error:d}=await he.from("customers").update(u).eq("id",e).eq("user_id",r);if(d)throw d;await Ul(e,o)}async function zC(e){const t=await Oo(),{error:r}=await he.from("customers").delete().eq("id",e).eq("user_id",t);if(r)throw r}async function y_(e,t={email:!0,phone:!1},r="keep",n){const i=await Oo(),a=await bn(),o=new Set(a.map(f=>f.key)),c={created:0,updated:0,skipped:0,failures:[]};e.length;const u=r==="skip"?"keep":r==="update"?"overwrite":r,d=500;for(let f=0;f<e.length;f+=d){const m=e.slice(f,f+d);for(const g of m){const{base:x,custom:w,extra:b}=Wy({...g,user_id:g.user_id??i},o);x.extra=b;const S=x.phone,j=x.email,C=[];t.phone&&S&&C.push(`phone.eq.${S}`),t.email&&j&&C.push(`email.eq.${j}`);let E=null;if(C.length>0){const{data:P}=await he.from("customers").select("id").eq("user_id",i).or(C.join(",")).limit(1).maybeSingle();E=P}if(E)if(u==="overwrite"){const{error:P}=await he.from("customers").update(x).eq("id",E.id).eq("user_id",i);if(P)throw P;await Ul(E.id,w),c.updated+=1}else if(u==="fill"){const{data:P}=await he.from("customers").select("first_name,last_name,phone,email,zip_code,extra").eq("id",E.id).single(),N={};if(!P.first_name&&x.first_name&&(N.first_name=x.first_name),!P.last_name&&x.last_name&&(N.last_name=x.last_name),!P.phone&&x.phone&&(N.phone=x.phone),!P.email&&x.email&&(N.email=x.email),!P.zip_code&&x.zip_code&&(N.zip_code=x.zip_code),Object.keys(b).length&&(N.extra={...P.extra??{},...b}),Object.keys(N).length){const{error:A}=await he.from("customers").update(N).eq("id",E.id).eq("user_id",i);if(A)throw A}await Ul(E.id,w),c.updated+=1}else c.skipped+=1,c.failures.push({customer:g,reason:"duplicate"});else{const{error:P}=await he.from("customers").insert(x);if(P)throw P;await Ul(x.id,w),c.created+=1}}}return c}function J$(e){const{id:t,user_id:r,firstName:n,lastName:i,phone:a,email:o,zipCode:c,signupDate:u,extra:d,...f}=e;return{...d??{},...f}}function Z$(){const{user:e,refresh:t}=Ut(),[r,n]=y.useState([]),[i,a]=y.useState(!0),[o,c]=y.useState(""),[u,d]=y.useState("signupDate"),[f,m]=y.useState(!1),[g,x]=y.useState(!1),[w,b]=y.useState(null),[S,j]=y.useState([]),[C,E]=y.useState({firstName:"",lastName:"",phone:"",zipCode:""}),[P,N]=y.useState(null),[A,T]=y.useState(!0),[D,F]=y.useState(!0),z=e?.credits??0,L=(e?.role??"user")==="admin";y.useEffect(()=>{let ee=!0;return(async()=>{try{const le=bn(),Q=await Promise.resolve(le);if(!ee||!Q)return;const pe=Q.filter(G=>!G.archived&&G.visibleOn?.dashboard).sort((G,ae)=>G.order-ae.order);j(pe)}catch(le){console.error("getFields failed:",le),j([])}})(),()=>{ee=!1}},[e?.id]),y.useEffect(()=>{let ee=!0;return(async()=>{if(!e?.id){T(!1);return}T(!0);const{data:le,error:Q}=await he.rpc("ensure_user_slug",{p_user_id:e.id});ee&&(Q?(console.error("ensure_user_slug error:",Q),N(null)):N(le?.slug??null),T(!1))})(),()=>{ee=!1}},[e?.id]),y.useEffect(()=>{let ee=!0;return(async()=>{if(!e?.id){n([]),a(!1);return}a(!0);try{const le=await Ad();ee&&n(le)}catch(le){console.error(le)}finally{ee&&a(!1)}})(),()=>{ee=!1}},[e?.id]);const H=y.useMemo(()=>{const ee=o.trim().toLowerCase(),le=r.filter(Q=>{if(!ee||(Q.firstName?.toLowerCase?.().includes(ee)??!1)||(Q.lastName?.toLowerCase?.().includes(ee)??!1)||(Q.phone?.toLowerCase?.().includes(ee)??!1)||(Q.zipCode?.toLowerCase?.().includes(ee)??!1)||(Q.signupDate?.toLowerCase?.().includes(ee)??!1))return!0;for(const G of S){const ae=Q[G.key];if(typeof ae=="string"&&ae.toLowerCase().includes(ee)||typeof ae=="number"&&String(ae).includes(ee))return!0}return!1});return le.sort((Q,pe)=>{if(u==="signupDate"){const Ee=new Date(Q.signupDate).getTime(),re=new Date(pe.signupDate).getTime();return f?Ee-re:re-Ee}const G=Q[u],ae=pe[u];return f?String(G??"").localeCompare(String(ae??"")):String(ae??"").localeCompare(String(G??""))}),le.slice(0,10)},[r,o,u,f,S]),ne=[{key:"firstName",label:"First Name",type:"text",required:!0},{key:"lastName",label:"Last Name",type:"text",required:!0},{key:"phone",label:"Phone",type:"phone",required:!0},{key:"zipCode",label:"Zip Code",type:"text",required:!1}],ce=y.useMemo(()=>[...ne,...S.map(ee=>({key:ee.key,label:ee.label,type:ee.type,required:!!ee.required,options:ee.options}))],[S]),fe=(ee,le)=>{E(Q=>({...Q,[ee]:le}))},K=async()=>{const ee=await Ad();n(ee)},q=async()=>{for(const le of ce)if(le.required&&!C[le.key]){alert(`Field "${le.label}" is required.`);return}const ee={id:Ni(),user_id:e.id,firstName:String(C.firstName??""),lastName:String(C.lastName??""),phone:zt(C.phone)||void 0,zipCode:String(C.zipCode??""),signupDate:new Date().toISOString(),...S.reduce((le,Q)=>(le[Q.key]=C[Q.key]??null,le),{})};try{await Q$(ee),await K(),E({firstName:"",lastName:"",phone:"",zipCode:"",...S.reduce((le,Q)=>(le[Q.key]="",le),{})})}catch(le){console.error(le),alert(le?.message||"Failed to add customer.")}},Y=async ee=>{try{await zC(ee),await K()}catch(le){console.error(le),alert(le?.message||"Failed to remove customer.")}},Z=ee=>{b(ee),x(!0)},te=()=>{b(null),x(!1)},M=async()=>{const ee=prompt("Add how many credits?"),le=Number(ee);if(!ee||isNaN(le)||le<=0)return;const Q=await or.adminAddToCurrentUser(le);Q.ok?(alert(`Added ${le} credits.`),await t()):alert(Q.message||"Failed to add credits.")},B="http://localhost:5173".replace(/\/$/,"")||window.location.origin,de=P?`${B}/intake/${P}`:"",_e=async()=>{try{await navigator.clipboard.writeText(de),alert("Link copied to clipboard!")}catch{alert("Failed to copy.")}};return p.jsxs(St,{faintFlag:!0,children:[p.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-semibold mb-1",children:"Dashboard"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Quick stats, credits, your QR intake link, and your latest customers."})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"px-3 py-2 bg-white shadow border rounded text-sm",children:["Credits: ",p.jsx("span",{className:"font-semibold",children:z})]}),L&&p.jsx("button",{onClick:M,className:"px-3 py-2 text-sm rounded-md border bg-blue-600 text-white hover:bg-blue-700",children:"Admin: Add Credits"})]})]}),p.jsxs("section",{className:"p-4 bg-white rounded-md shadow border",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h2",{className:"text-lg font-medium",children:"Your Intake QR Code"}),p.jsx("button",{onClick:()=>F(ee=>!ee),className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",children:D?"Hide":"Show"})]}),A?p.jsx("p",{className:"text-sm text-gray-500",children:"Generating your link…"}):P?D&&p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[p.jsxs("div",{className:"flex flex-col items-center gap-2",children:[p.jsx(Su,{value:de,size:192}),p.jsx("div",{className:"text-xs text-gray-500 break-all max-w-[18rem] text-center",children:de}),p.jsx("button",{onClick:_e,className:"px-3 py-1 text-sm rounded border hover:bg-gray-50",children:"Copy Link"})]}),p.jsxs("div",{className:"text-sm text-gray-600 max-w-md",children:[p.jsx("p",{className:"mb-2",children:"Share this QR code or link to let leads submit directly into your CRM."}),p.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[p.jsx("li",{children:"Scan with any phone to open your intake form."}),p.jsxs("li",{children:["URL uses your unique slug: ",p.jsx("code",{children:P})]})]})]})]}):p.jsx("p",{className:"text-sm text-red-600",children:"Could not create a public slug for your account. Please try logging out and back in, or contact support."})]}),p.jsxs("section",{className:"p-4 bg-white rounded-md shadow border",children:[p.jsx("h2",{className:"text-lg font-medium mb-4",children:"Add Contact"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[ce.map(ee=>p.jsx(e3,{field:ee,value:C[ee.key]??"",onChange:le=>fe(ee.key,le)},ee.key)),p.jsx("div",{className:"md:col-span-3",children:p.jsx("button",{onClick:q,className:"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700 text-sm",children:"Add"})})]})]}),p.jsxs("section",{className:"p-4 bg-white rounded-md shadow border",children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-4",children:[p.jsx("h2",{className:"text-lg font-medium",children:"Recent Customers"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"text",className:"border rounded px-3 py-2 text-sm",placeholder:"Search…",value:o,onChange:ee=>c(ee.target.value)}),p.jsx("label",{className:"text-sm",children:"Sort by:"}),p.jsxs("select",{value:u,onChange:ee=>d(ee.target.value),className:"border rounded px-2 py-1 text-sm",children:[p.jsx("option",{value:"signupDate",children:"Signup Date"}),p.jsx("option",{value:"firstName",children:"First Name"}),p.jsx("option",{value:"lastName",children:"Last Name"}),p.jsx("option",{value:"zipCode",children:"Zip Code"})]}),p.jsx("button",{onClick:()=>m(ee=>!ee),className:"px-2 py-1 text-xs border rounded hover:bg-gray-50",children:f?"▲":"▼"})]})]}),i?p.jsx("p",{className:"text-sm text-gray-500",children:"Loading customers…"}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b text-left",children:[p.jsx("th",{className:"py-2",children:"First Name"}),p.jsx("th",{className:"py-2",children:"Last Name"}),p.jsx("th",{className:"py-2",children:"Phone"}),p.jsx("th",{className:"py-2",children:"Zip Code"}),p.jsx("th",{className:"py-2",children:"Signup"}),p.jsx("th",{className:"py-2 text-right",children:"Actions"})]})}),p.jsx("tbody",{children:H.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:"No customers found."})}):H.map(ee=>p.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[p.jsx("td",{className:"py-2",children:ee.firstName}),p.jsx("td",{className:"py-2",children:ee.lastName}),p.jsx("td",{className:"py-2",children:Wn(ee.phone)}),p.jsx("td",{className:"py-2",children:ee.zipCode}),p.jsx("td",{className:"py-2",children:new Date(ee.signupDate).toLocaleDateString()}),p.jsxs("td",{className:"py-2 text-right",children:[p.jsx("button",{onClick:()=>Z(ee),className:"text-blue-600 hover:underline",children:"SMS"}),p.jsx("button",{onClick:()=>Y(ee.id),className:"ml-2 text-red-600 hover:underline",children:"Remove"})]})]},ee.id))})]})})]})]}),g&&w&&p.jsx(V$,{customer:w,onClose:te})]})}function e3({field:e,value:t,onChange:r}){switch(e.type){case"boolean":return p.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[p.jsx("input",{type:"checkbox",checked:!!t,onChange:n=>r(n.target.checked)}),e.label," ",e.required?"*":""]});case"select":case"multiselect":return p.jsxs("div",{className:"flex flex-col",children:[p.jsxs("label",{className:"text-sm font-medium mb-1",children:[e.label," ",e.required?"*":""]}),p.jsx("select",{multiple:e.type==="multiselect",value:e.type==="multiselect"?Array.isArray(t)?t.map(String):[]:String(t??""),onChange:n=>{if(e.type==="multiselect"){const i=Array.from(n.target.selectedOptions).map(a=>a.value);r(i)}else r(n.target.value)},className:"border rounded px-2 py-1",children:(e.options??[]).map(n=>p.jsx("option",{value:n,children:n},n))})]});default:return p.jsxs("div",{className:"flex flex-col",children:[p.jsxs("label",{className:"text-sm font-medium mb-1",children:[e.label," ",e.required?"*":""]}),p.jsx("input",{type:e.type==="number"?"number":e.type==="phone"?"tel":"text",value:e.type==="phone"?Wn(String(t??"")):String(t??""),onChange:n=>r(e.type==="phone"?zt(n.target.value):n.target.value),className:"border rounded px-2 py-1"})]})}}function t3({isOpen:e,onClose:t,customers:r}){const{user:n}=Ut(),i=y.useMemo(()=>Uy(n?.username??n?.email??null),[n]),[a,o]=y.useState(""),[c,u]=y.useState(!0),[d,f]=y.useState(0),[m,g]=y.useState(!1),x=y.useMemo(()=>i.estimateCredits(a,r.length),[i,a,r.length]);y.useEffect(()=>{let b=!0;return(async()=>{const S=await or.canAfford(x);b&&u(S);const j=await or.getBalance();b&&f(j)})(),()=>{b=!1}},[x]);const w=async()=>{if(!a.trim()){alert("Please enter a message.");return}if(r.length===0){alert("No recipients selected.");return}if(!c){alert(`Not enough credits. You need ${x} but have ${d}.`);return}const b=Array.from(new Set(r.map(S=>zt(S.phone)).filter(Boolean)));if(b.length===0){alert("No valid phone numbers.");return}await i.sendBulk(b,a),t()};return e?p.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",children:p.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("h2",{className:"text-lg font-semibold",children:["Send SMS to ",r.length," recipient",r.length!==1?"s":""]}),p.jsx("button",{onClick:t,className:"text-sm text-gray-500 hover:underline",children:"Cancel"})]}),p.jsxs("div",{className:"mb-3 text-xs text-gray-600",children:["Credits required: ",p.jsx("strong",{children:x})," | Available: ",p.jsx("strong",{children:d})]}),p.jsx("textarea",{className:"w-full border rounded-md p-2 h-32 resize-none text-sm",placeholder:"Write your message...",value:a,onChange:b=>o(b.target.value)}),r.length>0&&p.jsxs("div",{className:"mt-3 mb-2 text-xs text-gray-500",children:[p.jsx("div",{children:"Preview recipients:"}),p.jsx("ul",{className:"list-disc ml-5",children:(m?r:r.slice(0,5)).map(b=>p.jsxs("li",{children:[(b.firstName||"")+" "+(b.lastName||"").trim()||"Unknown"," (",Wn(b.phone),")"]},b.id))}),r.length>5&&!m&&p.jsx("button",{onClick:()=>g(!0),className:"text-blue-600 underline",children:"Show all"})]}),p.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[p.jsx("button",{onClick:t,className:"px-4 py-2 text-sm rounded-md border hover:bg-gray-50",children:"Close"}),p.jsx("button",{onClick:w,disabled:!a.trim()||!c||r.length===0,className:`px-4 py-2 text-sm rounded-md text-white ${!a.trim()||!c||r.length===0?"bg-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:"Send"})]})]})}):null}function r3({preview:e,onCancel:t,onConfirm:r,busy:n,setBusy:i,canConfirm:a=!0}){const[o,c]=y.useState(e.columns),[u,d]=y.useState(!0),[f,m]=y.useState(!1),[g,x]=y.useState("skip"),w=async()=>{if(!n){i(!0);try{const{data:b}=await he.auth.getUser();if(!b.user){alert("You must be logged in.");return}await r(b.user.id,o,{email:u,phone:f},g)}finally{i(!1)}}};return p.jsx("div",{className:"fixed inset-0 z-50 bg-black/30 flex items-center justify-center p-4 overflow-y-auto max-h-screen",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl p-6 space-y-4 max-h-[calc(100vh-2rem)] overflow-y-auto",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Import Customers"}),p.jsx("p",{className:"text-sm text-gray-700",children:"Choose how to handle each column below. You can create a new field or link the column to an existing one. Columns left unlinked will be skipped."}),p.jsx("div",{className:"space-y-2 text-sm",children:e.headers.map(b=>p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 items-center",children:[p.jsx("span",{className:"truncate font-medium",children:b}),p.jsxs("label",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"checkbox",checked:o[b].addNew,disabled:!!o[b].linkTo,onChange:S=>c({...o,[b]:{...o[b],addNew:S.target.checked}})}),p.jsx("span",{children:"Create new field"})]}),p.jsxs("select",{value:o[b].linkTo??"",onChange:S=>{const j=S.target.value||null;c({...o,[b]:{addNew:j?!1:o[b].addNew,linkTo:j}})},className:"border rounded px-2 py-1 w-full",children:[p.jsx("option",{value:"",children:"Link to existing field"}),e.fieldOptions.map(S=>p.jsx("option",{value:S.key,children:S.label},S.key))]})]},b))}),p.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap gap-4 text-sm",children:[p.jsxs("label",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"checkbox",checked:u,onChange:b=>d(b.target.checked)}),"Match duplicates by Email"]}),p.jsxs("label",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"checkbox",checked:f,onChange:b=>m(b.target.checked)}),"Match duplicates by Phone"]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"font-medium",children:"On duplicate"}),p.jsxs("select",{value:g,onChange:b=>x(b.target.value),className:"border rounded px-2 py-1",children:[p.jsx("option",{value:"skip",children:"Skip"}),p.jsx("option",{value:"update",children:"Update"})]})]})]}),p.jsx("div",{className:"max-h-60 overflow-auto border rounded",children:p.jsxs("table",{className:"min-w-full text-xs",children:[p.jsx("thead",{children:p.jsx("tr",{children:e.headers.map(b=>p.jsx("th",{className:"px-2 py-1 border-b text-left",children:b},b))})}),p.jsx("tbody",{children:e.rows.slice(0,10).map((b,S)=>p.jsx("tr",{className:"border-b",children:b.map((j,C)=>p.jsx("td",{className:"px-2 py-1",children:j},C))},S))})]})}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Previewing first 10 of ",e.rows.length," rows."]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx("button",{onClick:t,className:"px-3 py-2 text-sm border rounded hover:bg-gray-50",children:"Cancel"}),a&&p.jsx("button",{onClick:w,disabled:n,className:"px-3 py-2 text-sm bg-blue-700 text-white rounded hover:bg-blue-800 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:n?"Working...":"Confirm Import"})]})]})})}function n3({preview:e,onCancel:t,onConfirm:r,busy:n,setBusy:i,canConfirm:a=!0}){const[o,c]=y.useState(e.addFlags),[u,d]=y.useState(e.keyToField),[f,m]=y.useState(!0),[g,x]=y.useState(!1),[w,b]=y.useState("skip"),S=async()=>{if(!n){i(!0);try{const{data:j}=await he.auth.getUser();if(!j.user){alert("You must be logged in.");return}await r(j.user.id,{addFlags:o,keyToField:u},{email:f,phone:g},w)}finally{i(!1)}}};return p.jsx("div",{className:"fixed inset-0 z-50 bg-black/30 flex items-center justify-center p-4 overflow-y-auto max-h-screen",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl p-6 space-y-4 max-h-[calc(100vh-2rem)] overflow-y-auto",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"JSON Import Preview"}),e.unknownKeys.length>0&&p.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-800 text-sm p-3 rounded space-y-2",children:[p.jsx("p",{children:"Unknown fields detected. Check any you wish to add as custom fields or map to existing ones."}),e.unknownKeys.map(j=>p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("label",{className:"flex items-center gap-2 flex-1",children:[p.jsx("input",{type:"checkbox",checked:o[j],onChange:C=>c({...o,[j]:C.target.checked})}),j]}),p.jsxs("select",{value:u[j]??"",onChange:C=>d({...u,[j]:C.target.value||null}),className:"border rounded px-2 py-1",children:[p.jsx("option",{value:"",children:"Do not import"}),e.fieldOptions.map(C=>p.jsx("option",{value:C.key,children:C.label},C.key))]})]},j))]}),p.jsx("div",{className:"max-h-60 overflow-auto border rounded text-xs",children:p.jsx("pre",{className:"p-2 whitespace-pre-wrap",children:JSON.stringify(e.customers.slice(0,5),null,2)})}),p.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap gap-4 text-sm",children:[p.jsxs("label",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"checkbox",checked:f,onChange:j=>m(j.target.checked)}),"Match duplicates by Email"]}),p.jsxs("label",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"checkbox",checked:g,onChange:j=>x(j.target.checked)}),"Match duplicates by Phone"]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"font-medium",children:"On duplicate"}),p.jsxs("select",{value:w,onChange:j=>b(j.target.value),className:"border rounded px-2 py-1",children:[p.jsx("option",{value:"skip",children:"Skip"}),p.jsx("option",{value:"update",children:"Update"})]})]})]}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Previewing first ",Math.min(5,e.customers.length)," of ",e.customers.length," entries."]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx("button",{onClick:t,className:"px-3 py-2 text-sm border rounded hover:bg-gray-50",children:"Cancel"}),a&&p.jsx("button",{onClick:S,disabled:n,className:"px-3 py-2 text-sm bg-blue-700 text-white rounded hover:bg-blue-800 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:n?"Working...":"Confirm Import"})]})]})})}function i3({isOpen:e,onClose:t,customers:r,customFields:n,onSave:i}){const[a,o]=y.useState({}),[c,u]=y.useState({}),[d,f]=y.useState(!1);if(!e)return null;const m=[{key:"zipCode",label:"Zip Code",type:"text"},...n],g=(j,C)=>{o(E=>({...E,[j]:C}))},x=(j,C)=>{u(E=>({...E,[j]:C}))},w=async()=>{const j={};Object.keys(c).forEach(C=>{c[C]&&(j[C]=a[C])}),f(!0);try{await i(j)}finally{f(!1)}},b=j=>{const E={className:"border rounded px-2 py-1 w-full text-sm",disabled:!c[j.key]};switch(j.type){case"boolean":return p.jsxs("select",{...E,value:a[j.key]===void 0?"":a[j.key]?"true":"false",onChange:P=>g(j.key,P.target.value==="true"),children:[p.jsx("option",{value:"",disabled:!0,children:"Select..."}),p.jsx("option",{value:"true",children:"Yes"}),p.jsx("option",{value:"false",children:"No"})]});case"select":return p.jsxs("select",{...E,value:a[j.key]??"",onChange:P=>g(j.key,P.target.value),children:[p.jsx("option",{value:""}),j.options?.map(P=>p.jsx("option",{value:P,children:P},P))]});case"multiselect":return p.jsx("select",{...E,multiple:!0,value:a[j.key]??[],onChange:P=>g(j.key,Array.from(P.currentTarget.selectedOptions).map(N=>N.value)),children:j.options?.map(P=>p.jsx("option",{value:P,children:P},P))});default:{let P="text";return j.type==="number"?P="number":j.type==="date"?P="date":j.type==="email"?P="email":j.type==="phone"&&(P="tel"),p.jsx("input",{...E,type:P,value:P==="tel"?Wn(a[j.key]??""):a[j.key]??"",onChange:N=>g(j.key,P==="tel"?zt(N.target.value):N.target.value)})}}},S=Object.values(c).some(Boolean)&&!d;return p.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg p-6 max-h-full overflow-y-auto",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("h2",{className:"text-lg font-semibold",children:["Edit ",r.length," selected customer",r.length!==1?"s":""]}),p.jsx("button",{onClick:t,className:"text-sm text-gray-500 hover:underline",children:"Cancel"})]}),p.jsx("div",{className:"space-y-4",children:m.map(j=>p.jsxs("div",{children:[p.jsxs("label",{className:"flex items-center gap-2 text-sm mb-1",children:[p.jsx("input",{type:"checkbox",checked:c[j.key]??!1,onChange:C=>x(j.key,C.target.checked)}),j.label]}),b(j)]},j.key))}),p.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 mt-6",children:[p.jsx("button",{onClick:t,className:"px-4 py-2 text-sm rounded-md border hover:bg-gray-50",disabled:d,children:"Close"}),p.jsx("button",{onClick:w,disabled:!S,className:`px-4 py-2 text-sm rounded-md text-white ${S?"bg-blue-600 hover:bg-blue-700":"bg-gray-300 cursor-not-allowed"}`,children:"Save"})]})]})})}function fo(e){return e.trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"_").toLowerCase()}function a3(e){return Fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function s3(e){return Fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(e)}function UC(e){return Fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"5 9 2 12 5 15"},child:[]},{tag:"polyline",attr:{points:"9 5 12 2 15 5"},child:[]},{tag:"polyline",attr:{points:"15 19 12 22 9 19"},child:[]},{tag:"polyline",attr:{points:"19 9 22 12 19 15"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"22"},child:[]}]})(e)}function o3(e){return Fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function jv(e){return Fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(e)}function l3(e){return Fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(e)}function u3(e){return Fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function qC(e){return Fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function c3(e,t=","){const r=e.split(/\r?\n/).filter(Boolean);if(r.length===0)return{headers:[],rows:[]};const n=o=>{const c=[];let u="",d=!1;for(let f=0;f<o.length;f+=1){const m=o[f];m==='"'?d&&o[f+1]==='"'?(u+='"',f+=1):d=!d:m===t&&!d?(c.push(u),u=""):u+=m}return c.push(u),c.map(f=>f.trim())},i=n(r[0]),a=r.slice(1).map(n).filter(o=>o.some(c=>c));return{headers:i,rows:a}}function d3(){const{user:e,ready:t}=Ut(),r=Ct(),[n,i]=y.useState([]),[a,o]=y.useState(!0),[c,u]=y.useState(""),[d,f]=y.useState("signupDate"),[m,g]=y.useState(!1),[x,w]=y.useState([]),[b,S]=y.useState(!1),[j,C]=y.useState(!1),[E,P]=y.useState([]),[N,A]=y.useState(!1),[T,D]=y.useState(!1),F=y.useRef(null);y.useEffect(()=>{t&&(e||r("/login"))},[t,e,r]),y.useEffect(()=>{let J=!1;return(async()=>{const me=await bn();J||w(me.filter(Me=>!Me.archived&&Me.visibleOn.customers).sort((Me,Re)=>Me.order-Re.order))})(),()=>{J=!0}},[e?.id]);const z=y.useCallback(async()=>{if(!e?.id){i([]),o(!1);return}o(!0);try{i(await Ad())}finally{o(!1)}},[e?.id]);y.useEffect(()=>{z()},[z]);const L=y.useMemo(()=>[{key:"firstName",label:"First Name"},{key:"lastName",label:"Last Name"},{key:"phone",label:"Phone"},{key:"zipCode",label:"Zip Code"},{key:"email",label:"Email"},{key:"signupDate",label:"Signup Date"}],[]),H=y.useMemo(()=>[...L,...x.map(J=>({key:J.key,label:J.label}))],[L,x]),[ne,ce]=y.useState(()=>{const J=localStorage.getItem(`customer-cols-${e?.id??"anon"}`);return J?JSON.parse(J):L.map(me=>me.key)});y.useEffect(()=>{localStorage.setItem(`customer-cols-${e?.id??"anon"}`,JSON.stringify(ne))},[ne,e?.id]);const fe=y.useMemo(()=>{const J=new Map(H.map(me=>[me.key,me]));return ne.map(me=>J.get(me)).filter(Boolean)},[ne,H]),K=J=>{ce(me=>me.includes(J)?me.filter(Me=>Me!==J):me.length>=6?me:[...me,J])},q=(J,me)=>{ce(Me=>{const Re=[...Me],[He]=Re.splice(J,1);return Re.splice(me,0,He),Re})},Y=J=>{d===J?g(me=>!me):(f(J),g(!0))},Z=y.useMemo(()=>{const J=c.trim().toLowerCase(),me=Re=>!J||Re.firstName?.toLowerCase().includes(J)||Re.lastName?.toLowerCase().includes(J)||Re.phone?.toLowerCase().includes(J)||Re.zipCode?.toLowerCase().includes(J)||Re.email?.toLowerCase().includes(J)||Re.signupDate?.toLowerCase().includes(J)?!0:x.some(Ze=>{const Ke=Re[Ze.key];return typeof Ke=="string"&&Ke.toLowerCase().includes(J)||typeof Ke=="number"&&String(Ke).includes(J)});return n.filter(me).sort((Re,He)=>{const Ze=Re[d],Ke=He[d];return Ze==null||Ke==null?Ze==null?m?-1:1:m?1:-1:typeof Ze=="number"&&typeof Ke=="number"?m?Ze-Ke:Ke-Ze:m?String(Ze).localeCompare(String(Ke)):String(Ke).localeCompare(String(Ze))})},[n,c,d,m,x]),[te,M]=y.useState(()=>{const J=localStorage.getItem(`customer-page-size-${e?.id??"anon"}`);return J?Number(J):10}),[B,de]=y.useState(1);y.useEffect(()=>{localStorage.setItem(`customer-page-size-${e?.id??"anon"}`,String(te))},[te,e?.id]),y.useEffect(()=>de(1),[Z.length,te]);const _e=Math.max(1,Math.ceil(Z.length/te)),ee=y.useMemo(()=>Z.slice((B-1)*te,B*te),[Z,B,te]),le=()=>{const J=n.map(He=>{const Ze={};return Object.entries(He).forEach(([Ke,mt])=>{Ze[Ke]=mm(mt)}),Ze}),me=new Blob([JSON.stringify({customers:J,exportedAt:new Date().toISOString(),customFields:x},null,2)],{type:"application/json"}),Me=URL.createObjectURL(me);Object.assign(document.createElement("a"),{href:Me,download:"customers_export.json"}).click(),URL.revokeObjectURL(Me)},Q=()=>{const J=fe.map(Ke=>Ke.label),me=n.map(Ke=>fe.map(mt=>`"${mm(Ke[mt.key]).replace(/"/g,'""')}"`).join(",")),Me=[J.join(","),...me].join(`
`),Re=new Blob([Me],{type:"text/csv"}),He=URL.createObjectURL(Re);Object.assign(document.createElement("a"),{href:He,download:"customers_export.csv"}).click(),URL.revokeObjectURL(He)},[pe,G]=y.useState(null),[ae,Ee]=y.useState(!1),re=y.useRef(null),[qe,Ie]=y.useState(null),[ut,Le]=y.useState(!1),Mt=y.useRef(null),Gn=async()=>{A(!0);try{const{data:J}=await he.auth.getUser();if(!J.user){alert("You must be logged in.");return}re.current?.click()}finally{A(!1)}},pi=async()=>{A(!0);try{const{data:J}=await he.auth.getUser();if(!J.user){alert("You must be logged in.");return}Mt.current?.click()}finally{A(!1)}},fr=async J=>{A(!0);try{const{data:me}=await he.auth.getUser();if(!me.user){alert("You must be logged in.");return}const Me=J.target.files?.[0];if(!Me)return;const Re=Me.name.toLowerCase().endsWith(".tsv")?"	":",",{headers:He,rows:Ze}=c3(await Me.text(),Re);if(He.length===0){Ae.error("CSV appears empty.");return}const Ke=[{key:"firstName",label:"First Name"},{key:"lastName",label:"Last Name"},{key:"phone",label:"Phone"},{key:"zipCode",label:"Zip Code"},{key:"email",label:"Email"},{key:"signupDate",label:"Signup Date"},...x.map(jt=>({key:jt.key,label:jt.label}))],mt=jt=>fo(jt).replace(/[-_]/g,""),tt={};Ke.forEach(jt=>{tt[mt(jt.label)]=jt.key});const hr={};He.forEach(jt=>{const Ve=tt[mt(jt)]??null;hr[jt]={addNew:!Ve,linkTo:Ve}}),G({headers:He,rows:Ze,columns:hr,fieldOptions:Ke}),Ee(!0)}finally{J.target.value="",A(!1)}},qr=async(J,me,Me,Re)=>{if(pe)try{let He=x.length;const Ze={};for(const $e of pe.headers){const Ce=me[$e];if(Ce){if(Ce.linkTo){Ze[$e]=Ce.linkTo;continue}if(Ce.addNew){const Pe=fo($e);Ze[$e]=Pe;const rt={id:Ni(),user_id:J,key:Pe,label:$e,type:"text",order:He++,options:[],required:!1,visibleOn:{dashboard:!0,customers:!0,campaigns:!0},archived:!1};await he.from("custom_fields").insert(rt)}}}const Ke=[],mt=[];pe.rows.forEach(($e,Ce)=>{const Pe={id:Ni(),user_id:J,signupDate:new Date().toISOString()};pe.headers.forEach((gt,Pr)=>{const nt=Ze[gt];nt&&(Pe[nt]=$e[Pr])}),!Pe.firstName&&!Pe.lastName&&(Pe.firstName=`Imported #${Ce+1}`);const rt=zt(Pe.phone),ot=Od(Pe.email);if(Pe.phone&&!rt||Pe.email&&!ot){mt.push({row:$e,reason:"invalid"});return}Pe.phone=rt||null,Pe.email=ot||null,Ke.push(Pe)});const tt=await y_(Ke,Me,Re),hr=await bn();w(hr.filter($e=>!$e.archived&&$e.visibleOn.customers).sort(($e,Ce)=>$e.order-Ce.order)),await z(),Ee(!1),G(null);const jt=mt.length;Ae.success(`Created ${tt.created}, Updated ${tt.updated}, Skipped ${tt.skipped}, Invalid ${jt}.`);const Ve=[...mt,...tt.failures.map($e=>({row:pe.headers.map(Ce=>String($e.customer[Ce]??"")),reason:$e.reason}))];if(Ve.length>0){const $e=[[...pe.headers,"reason"].join(","),...Ve.map(ot=>[...ot.row,ot.reason].join(","))].join(`
`),Ce=new Blob([$e],{type:"text/csv"}),Pe=URL.createObjectURL(Ce);Object.assign(document.createElement("a"),{href:Pe,download:"import_failures.csv"}).click(),URL.revokeObjectURL(Pe)}}catch(He){console.error(He),Ae.error(`Import failed: ${He?.message??He}`)}},Xn=async J=>{A(!0);try{const{data:me}=await he.auth.getUser();if(!me.user){alert("You must be logged in.");return}const Me=J.target.files?.[0];if(!Me)return;const Re=JSON.parse(await Me.text());if(!Array.isArray(Re.customers))throw new Error("Missing .customers array");const He=["firstName","lastName","phone","zipCode","signupDate","email",...x.map(tt=>tt.key)],Ze=new Set;Re.customers.forEach(tt=>Object.keys(tt).forEach(hr=>{He.includes(hr)||Ze.add(hr)}));const Ke=[{key:"firstName",label:"First Name"},{key:"lastName",label:"Last Name"},{key:"phone",label:"Phone"},{key:"zipCode",label:"Zip Code"},{key:"email",label:"Email"},{key:"signupDate",label:"Signup Date"},...x.map(tt=>({key:tt.key,label:tt.label}))],mt=Array.from(Ze);Ie({customers:Re.customers,unknownKeys:mt,addFlags:Object.fromEntries(mt.map(tt=>[tt,!0])),keyToField:Object.fromEntries(mt.map(tt=>[tt,null])),fieldOptions:Ke}),Le(!0)}catch(me){console.error(me),Ae.error("Import failed.")}finally{J.target.value="",A(!1)}},Na=async(J,me,Me,Re)=>{if(qe)try{const He={};let Ze=x.length;for(const Ce of qe.unknownKeys){const Pe=me.keyToField[Ce];if(Pe){He[Ce]=Pe;continue}if(me.addFlags[Ce]){const rt=fo(Ce);He[Ce]=rt;const ot={id:Ni(),user_id:J,key:rt,label:Ce,type:"text",order:Ze++,options:[],required:!1,visibleOn:{dashboard:!0,customers:!0,campaigns:!0},archived:!1};await he.from("custom_fields").insert(ot)}}const Ke=[],mt=[];qe.customers.forEach(Ce=>{const Pe={id:Ce.id??Ni(),user_id:J,signupDate:Ce.signupDate??new Date().toISOString()};Object.entries(Ce).forEach(([gt,Pr])=>{if(!(gt==="id"||gt==="signupDate"))if(qe.unknownKeys.includes(gt)){const nt=He[gt];nt&&(Pe[nt]=Pr)}else Pe[gt]=Pr}),!Pe.firstName&&!Pe.lastName&&(Pe.firstName="Imported");const rt=zt(Pe.phone),ot=Od(Pe.email);if(Pe.phone&&!rt||Pe.email&&!ot){mt.push({row:Ce,reason:"invalid"});return}Pe.phone=rt||null,Pe.email=ot||null,Ke.push(Pe)});const tt=await y_(Ke,Me,Re),hr=await bn();w(hr.filter(Ce=>!Ce.archived&&Ce.visibleOn.customers).sort((Ce,Pe)=>Ce.order-Pe.order)),await z(),Le(!1),Ie(null);const jt=mt.length;Ae.success(`Created ${tt.created}, Updated ${tt.updated}, Skipped ${tt.skipped}, Invalid ${jt}.`);const Ve=Object.keys(qe.customers[0]||{}),$e=[...mt.map(Ce=>({row:Ve.map(Pe=>String(Ce.row[Pe]??"")),reason:Ce.reason})),...tt.failures.map(Ce=>({row:Ve.map(Pe=>String(Ce.customer[Pe]??"")),reason:Ce.reason}))];if($e.length>0){const Ce=[[...Ve,"reason"].join(","),...$e.map(gt=>[...gt.row,gt.reason].join(","))].join(`
`),Pe=new Blob([Ce],{type:"text/csv"}),rt=URL.createObjectURL(Pe);Object.assign(document.createElement("a"),{href:rt,download:"import_failures.csv"}).click(),URL.revokeObjectURL(rt)}}catch(He){console.error(He),Ae.error("Import failed.")}},Vi=ee.length>0&&ee.every(J=>E.includes(J.id)),Ss=()=>{const J=ee.map(me=>me.id);P(me=>Vi?me.filter(Me=>!J.includes(Me)):Array.from(new Set([...me,...J])))},js=J=>P(me=>me.includes(J)?me.filter(Me=>Me!==J):[...me,J]),Wr=y.useMemo(()=>n.filter(J=>E.includes(J.id)),[n,E]),Kr=()=>C(!0),Qn=y.useCallback(async()=>{if(E.length!==0&&window.confirm(`Delete ${E.length} selected customer${E.length===1?"":"s"}?`)){A(!0);try{await Promise.all(E.map(J=>zC(J))),Ae.success("Deleted selected customers."),P([]),await z()}catch(J){console.error(J),Ae.error("Failed to delete customers.")}finally{A(!1)}}},[E,z]),Jn=async J=>{A(!0);try{await Promise.all(E.map(me=>FC(me,J))),Ae.success("Customers updated."),C(!1),P([]),await z()}catch(me){console.error(me),Ae.error("Failed to update customers.")}finally{A(!1)}};return p.jsxs(St,{faintFlag:!0,children:[p.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-semibold mb-1",children:"Customers"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Full list with dynamic columns and bulk SMS."})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center flex-wrap gap-2",children:[p.jsx("button",{onClick:pi,className:"btn",disabled:N,children:"Import JSON"}),p.jsx("input",{ref:Mt,type:"file",accept:"application/json",onChange:Xn,hidden:!0}),p.jsx("button",{onClick:Gn,className:"btn",disabled:N,children:"Import CSV"}),p.jsx("input",{ref:re,type:"file",accept:".csv,text/csv",onChange:fr,hidden:!0}),p.jsx("button",{onClick:le,className:"btn",children:"Export JSON"}),p.jsx("button",{onClick:Q,className:"btn",children:"Export CSV"}),E.length>0&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:Kr,className:"px-3 py-2 text-sm rounded bg-blue-600 text-white hover:bg-blue-700",children:"Edit Selected"}),p.jsx("button",{onClick:Qn,className:"px-3 py-2 text-sm rounded bg-red-600 text-white hover:bg-red-700",children:"Delete Selected"}),p.jsxs("button",{onClick:()=>S(!0),className:"px-3 py-2 text-sm rounded bg-blue-600 text-white hover:bg-blue-700",children:["Bulk SMS (",E.length,")"]})]})]})]}),p.jsxs("div",{className:"p-4 bg-white rounded-md shadow border space-y-3",children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[p.jsx("input",{type:"text",value:c,onChange:J=>u(J.target.value),placeholder:"Search customers…",className:"border rounded px-3 py-2 text-sm flex-1"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:()=>D(!0),className:"px-2 py-1 text-xs border rounded hover:bg-gray-50",children:"Columns"}),p.jsxs("div",{className:"hidden sm:flex items-center text-xs text-gray-500 gap-1",children:[p.jsx(l3,{className:"w-4 h-4"}),"NEVER MISS FILTERING — COMING SOON!"]})]})]}),p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("label",{className:"text-sm",htmlFor:"pageSizeSelect",children:"Rows per page:"}),p.jsx("select",{id:"pageSizeSelect",value:te,onChange:J=>M(Number(J.target.value)),className:"border rounded px-2 py-1 text-sm",children:[10,25,50,100].map(J=>p.jsx("option",{value:J,children:J},J))})]}),p.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[p.jsx("button",{className:"px-2 py-1 text-xs border rounded disabled:opacity-50",onClick:()=>de(J=>Math.max(1,J-1)),disabled:B===1,children:"Prev"}),Array.from({length:_e},(J,me)=>me+1).map(J=>p.jsx("button",{onClick:()=>de(J),className:`px-2 py-1 text-xs border rounded ${J===B?"bg-gray-200":"hover:bg-gray-50"}`,children:J},J)),p.jsx("button",{className:"px-2 py-1 text-xs border rounded disabled:opacity-50",onClick:()=>de(J=>Math.min(_e,J+1)),disabled:B===_e,children:"Next"})]})]})]}),p.jsxs("div",{className:"p-4 bg-white rounded-md shadow border",children:[a?p.jsx("p",{className:"text-sm text-gray-500",children:"Loading customers…"}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b text-left",children:[p.jsx("th",{className:"py-2 w-10",children:p.jsx("input",{type:"checkbox",checked:Vi,onChange:Ss})}),fe.map(J=>p.jsxs("th",{className:"py-2 cursor-pointer select-none",onClick:()=>Y(J.key),children:[J.label,d===J.key&&(m?" ▲":" ▼")]},J.key))]})}),p.jsx("tbody",{children:ee.length===0?p.jsx("tr",{children:p.jsx("td",{className:"py-6 text-center text-gray-400",colSpan:fe.length+1,children:"No results found."})}):ee.map(J=>p.jsxs("tr",{className:"border-b hover:bg-gray-50 active:bg-gray-100 cursor-pointer",onClick:()=>r(`/customers/${J.id}`),role:"button",tabIndex:0,onKeyDown:me=>{me.key==="Enter"&&r(`/customers/${J.id}`)},children:[p.jsx("td",{className:"py-2 align-middle",children:p.jsx("input",{type:"checkbox",checked:E.includes(J.id),onChange:()=>js(J.id),onClick:me=>me.stopPropagation()})}),fe.map(me=>p.jsx("td",{className:"py-2 align-middle",children:mm(J[me.key])},me.key))]},J.id))})]})}),p.jsx("p",{className:"text-xs text-gray-400 mt-3 text-center",children:"Import / export options are only visible on this page."})]})]}),T&&p.jsx("div",{className:"fixed inset-0 bg-black/30 z-50 flex",onClick:()=>D(!1),children:p.jsxs("div",{className:"bg-white w-72 max-w-full p-4 overflow-y-auto ml-auto",onClick:J=>J.stopPropagation(),children:[p.jsx("h3",{className:"font-semibold mb-2",children:"Columns"}),p.jsx("ul",{className:"mb-3",children:ne.map((J,me)=>{const Me=H.find(Re=>Re.key===J);return Me?p.jsxs("li",{className:"flex items-center gap-2 mb-1",draggable:!0,onDragStart:()=>F.current=me,onDragOver:Re=>Re.preventDefault(),onDrop:()=>{F.current!==null&&(q(F.current,me),F.current=null)},children:[p.jsx("span",{className:"cursor-move",tabIndex:0,onKeyDown:Re=>{Re.key==="ArrowUp"&&me>0&&q(me,me-1),Re.key==="ArrowDown"&&me<ne.length-1&&q(me,me+1)},children:p.jsx(UC,{})}),Me.label]},J):null})}),p.jsx("div",{className:"space-y-1 max-h-60 overflow-y-auto pr-2",children:H.map(J=>{const me=ne.includes(J.key),Me=!me&&ne.length>=6;return p.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[p.jsx("input",{type:"checkbox",checked:me,disabled:Me,onChange:()=>K(J.key)}),p.jsx("span",{children:J.label})]},J.key)})})]})}),p.jsx(t3,{isOpen:b,onClose:()=>S(!1),customers:Wr}),p.jsx(i3,{isOpen:j,onClose:()=>C(!1),customers:Wr,customFields:x,onSave:Jn}),ae&&pe&&p.jsx(r3,{preview:pe,onCancel:()=>{Ee(!1),G(null)},onConfirm:qr,busy:N,setBusy:A,canConfirm:!0}),ut&&qe&&p.jsx(n3,{preview:qe,onCancel:()=>{Le(!1),Ie(null)},onConfirm:Na,busy:N,setBusy:A,canConfirm:!0})]})}function mm(e){return e==null?"—":typeof e=="boolean"?e?"Yes":"No":typeof e=="number"?new Intl.NumberFormat().format(e):typeof e=="string"&&/^\+?\d{10,15}$/.test(e)?Wn(e):String(e)}function f3(){const{id:e}=vu(),t=Ct(),{user:r,ready:n}=Ut(),[i,a]=y.useState(null),[o,c]=y.useState([]),[u,d]=y.useState({}),[f,m]=y.useState(!1),[g,x]=y.useState(!1),[w,b]=y.useState({label:"",type:"text",options:""});y.useEffect(()=>{n&&(r||t("/login"))},[n,r,t]),y.useEffect(()=>{e&&(async()=>{const[P,N]=await Promise.all([X$(e),bn()]);P&&(a(P),d(P)),c(N.filter(A=>!A.archived&&A.visibleOn.customers).sort((A,T)=>A.order-T.order))})()},[e]);const S=(P,N)=>{d(A=>({...A,[P]:N}))},j=P=>{const N="border rounded px-3 py-2 w-full";switch(P.type){case"boolean":return p.jsxs("select",{className:N,value:u[P.key]===void 0?"":u[P.key]?"true":"false",onChange:A=>S(P.key,A.target.value==="true"),children:[p.jsx("option",{value:"",disabled:!0,children:"Select..."}),p.jsx("option",{value:"true",children:"Yes"}),p.jsx("option",{value:"false",children:"No"})]});case"select":return p.jsxs("select",{className:N,value:u[P.key]??"",onChange:A=>S(P.key,A.target.value),children:[p.jsx("option",{value:""}),P.options?.map(A=>p.jsx("option",{value:A,children:A},A))]});case"multiselect":return p.jsx("select",{className:N,multiple:!0,value:u[P.key]??[],onChange:A=>S(P.key,Array.from(A.currentTarget.selectedOptions).map(T=>T.value)),children:P.options?.map(A=>p.jsx("option",{value:A,children:A},A))});default:{let A="text";return P.type==="number"?A="number":P.type==="date"?A="date":P.type==="email"?A="email":P.type==="phone"&&(A="tel"),p.jsx("input",{type:A,className:N,value:A==="tel"?Wn(u[P.key]??""):u[P.key]??"",onChange:T=>S(P.key,A==="tel"?zt(T.target.value):T.target.value)})}}},C=async()=>{if(i){m(!0);try{const P={...u};delete P.id,delete P.user_id,await FC(i.id,P),t("/customers")}finally{m(!1)}}},E=async()=>{const P=fo(w.label);await G$({id:Ni(),key:P,label:w.label,type:w.type,options:w.type==="select"||w.type==="multiselect"?w.options.split(",").map(A=>A.trim()).filter(Boolean):void 0,required:!1,order:o.length+1,visibleOn:{dashboard:!1,customers:!0,campaigns:!1},archived:!1});const N=await bn();c(N.filter(A=>!A.archived&&A.visibleOn.customers).sort((A,T)=>A.order-T.order)),d(A=>({...A,[P]:""})),b({label:"",type:"text",options:""}),x(!1)};return p.jsx(St,{children:p.jsxs("div",{className:"max-w-screen-md mx-auto px-4 space-y-6",children:[p.jsx("h1",{className:"text-xl font-semibold",children:"Customer Detail"}),i?p.jsxs("form",{className:"space-y-4",onSubmit:P=>{P.preventDefault(),C()},children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"First Name"}),p.jsx("input",{className:"border rounded px-3 py-2 w-full",value:u.firstName??"",onChange:P=>S("firstName",P.target.value)})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Last Name"}),p.jsx("input",{className:"border rounded px-3 py-2 w-full",value:u.lastName??"",onChange:P=>S("lastName",P.target.value)})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),p.jsx("input",{className:"border rounded px-3 py-2 w-full",type:"tel",value:Wn(u.phone??""),onChange:P=>S("phone",zt(P.target.value))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Zip Code"}),p.jsx("input",{className:"border rounded px-3 py-2 w-full",value:u.zipCode??"",onChange:P=>S("zipCode",P.target.value)})]}),o.map(P=>p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:P.label}),j(P)]},P.id)),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 pt-4",children:[p.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:"Save"}),p.jsx("button",{type:"button",onClick:()=>t("/customers"),className:"px-4 py-2 rounded-md border hover:bg-gray-50",children:"Cancel"})]})]}):p.jsx("p",{children:"Loading..."}),p.jsx("div",{children:g?p.jsxs("div",{className:"border rounded-md p-4 space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Label"}),p.jsx("input",{className:"border rounded px-3 py-2 w-full",value:w.label,onChange:P=>b(N=>({...N,label:P.target.value}))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Type"}),p.jsxs("select",{className:"border rounded px-3 py-2 w-full",value:w.type,onChange:P=>b(N=>({...N,type:P.target.value})),children:[p.jsx("option",{value:"text",children:"Text"}),p.jsx("option",{value:"number",children:"Number"}),p.jsx("option",{value:"date",children:"Date"}),p.jsx("option",{value:"email",children:"Email"}),p.jsx("option",{value:"phone",children:"Phone"}),p.jsx("option",{value:"boolean",children:"Yes/No"}),p.jsx("option",{value:"select",children:"Select"}),p.jsx("option",{value:"multiselect",children:"Multi-select"})]})]}),(w.type==="select"||w.type==="multiselect")&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Options (comma-separated)"}),p.jsx("input",{className:"border rounded px-3 py-2 w-full",value:w.options,onChange:P=>b(N=>({...N,options:P.target.value}))})]}),p.jsxs("div",{className:"flex gap-2 pt-2",children:[p.jsx("button",{type:"button",onClick:E,className:"px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700",children:"Save Field"}),p.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 rounded-md border hover:bg-gray-50",children:"Cancel"})]})]}):p.jsx("button",{type:"button",onClick:()=>x(!0),className:"px-4 py-2 rounded-md bg-green-600 text-white hover:bg-green-700",children:"Add Field"})})]})})}function h3(){return p.jsx(St,{faintFlag:!0,children:p.jsxs("div",{className:"max-w-5xl mx-auto py-8 px-4 space-y-8",children:[p.jsx("h1",{className:"text-2xl font-semibold",children:"Campaigns"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs(ct,{to:"/campaigns/intake",className:"border rounded-lg p-6 bg-white shadow hover:bg-gray-50 flex flex-col justify-between",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-medium mb-2",children:"Intake Campaigns"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Collect leads via custom forms and QR codes."})]}),p.jsx("span",{className:"mt-4 text-blue-600 font-semibold",children:"Manage"})]}),p.jsxs("div",{className:"border rounded-lg p-6 bg-gray-50 shadow flex flex-col justify-between opacity-70",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-medium mb-2",children:"SMS Campaigns"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Coming soon."})]}),p.jsx("span",{className:"mt-4 text-gray-400 font-semibold",children:"Scheduled Messaging"})]})]})]})})}async function Ky(){const{data:e,error:t}=await he.auth.getUser();if(t||!e.user)throw new Error("Not authenticated");return e.user.id}function p3(e){return{id:e.id,title:e.title??e.name,name:e.name,slug:e.slug,formTemplateId:e.form_template_id??void 0,formSnapshotJson:e.form_snapshot_json??void 0,type:e.type,message:e.message,recipients:e.recipients??[],status:e.status,createdAt:e.created_at,updatedAt:e.updated_at??void 0,startAt:e.start_at??void 0,endAt:e.end_at??void 0}}async function m3(e,t,r){if(!e)return;let n=he.from("campaigns").select("id").eq("owner_id",t).eq("slug",e);const{data:i,error:a}=await n;if(a)throw a;if(i&&i.length>0)throw new Error("Slug already in use")}async function g3(e,t){if(!t)return null;const{data:r,error:n}=await he.from("campaign_forms").select("schema_json").eq("id",t).eq("owner_id",e).single();if(n)throw n;return r?.schema_json??null}async function Td(){const e=await Ky(),{data:t,error:r}=await he.from("campaigns").select("id, owner_id, title, name, slug, type, message, recipients, status, created_at, updated_at, start_at, end_at, form_template_id, form_snapshot_json").eq("owner_id",e).order("created_at",{ascending:!1});if(r)throw r;return(t??[]).map(p3)}async function v3(e){const t=await Ky();await m3(e.slug,t);const r=await g3(t,e.formTemplateId),n={id:e.id,owner_id:t,title:e.title??e.name,name:e.name,slug:e.slug,type:e.type??"sms",message:e.message,recipients:e.recipients??[],status:e.status,created_at:e.createdAt??new Date().toISOString(),updated_at:e.updatedAt??new Date().toISOString(),start_at:e.startAt??null,end_at:e.endAt??null,form_template_id:e.formTemplateId??null,form_snapshot_json:r},{error:i}=await he.from("campaigns").insert(n);if(i)throw i}async function y3(e){const t=await Ky(),{error:r}=await he.from("campaigns").delete().eq("id",e).eq("owner_id",t);if(r)throw r}function x3(){const[e,t]=y.useState([]),[r,n]=y.useState(!0),[i,a]=y.useState(0),[o,c]=y.useState(!1);y.useEffect(()=>{let d=!0;return(async()=>{try{n(!0);const[f,m]=await Promise.all([Td(),or.getBalance()]);if(!d)return;t(f),a(m)}catch(f){console.error(f)}finally{d&&n(!1)}})(),()=>{d=!1}},[]);const u=async d=>{c(!0);try{const{data:f}=await he.auth.getUser();if(!f.user){alert("You must be logged in.");return}if(!confirm("Delete this campaign? This cannot be undone."))return;await y3(d),t(await Td())}catch(f){console.error(f),alert("Failed to delete campaign.")}finally{c(!1)}};return p.jsx(St,{faintFlag:!0,children:p.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-semibold mb-1",children:"SMS Campaigns"}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Create and manage scheduled SMS campaigns. Current credits:"," ",p.jsx("span",{className:"font-semibold",children:i})]})]}),p.jsx(ct,{to:"/campaigns/sms/new",className:"px-4 py-2 rounded bg-blue-600 text-white text-sm hover:bg-blue-700",children:"+ New Campaign"})]}),p.jsx("section",{className:"p-4 bg-white rounded-md shadow border",children:r?p.jsx("div",{className:"text-center text-gray-500 py-6",children:"Loading campaigns…"}):e.length===0?p.jsxs("div",{className:"text-center text-gray-500 py-6",children:["No campaigns yet."," ",p.jsx(ct,{to:"/campaigns/sms/new",className:"text-blue-600 hover:underline",children:"Create one"}),"."]}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b text-left",children:[p.jsx("th",{className:"py-2",children:"Name"}),p.jsx("th",{className:"py-2",children:"Recipients"}),p.jsx("th",{className:"py-2",children:"Status"}),p.jsx("th",{className:"py-2",children:"Created"}),p.jsx("th",{className:"py-2",children:"Start"}),p.jsx("th",{className:"py-2 text-right",children:"Actions"})]})}),p.jsx("tbody",{children:e.map(d=>p.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[p.jsx("td",{className:"py-2",children:d.name||"Untitled"}),p.jsx("td",{className:"py-2",children:d.recipients?.length??0}),p.jsx("td",{className:"py-2 capitalize",children:d.status}),p.jsxs("td",{className:"py-2",children:[new Date(d.createdAt).toLocaleDateString()," ",new Date(d.createdAt).toLocaleTimeString()]}),p.jsx("td",{className:"py-2",children:d.startAt?new Date(d.startAt).toLocaleString():"—"}),p.jsx("td",{className:"py-2 text-right",children:p.jsx("button",{onClick:()=>u(d.id),className:"text-red-600 hover:underline disabled:opacity-50",disabled:o,children:"Delete"})})]},d.id))})]})})}),p.jsx("p",{className:"text-xs text-gray-500 text-center",children:"SMS campaigns are stored in Supabase (or locally if stubbed). Future versions will support drafts, analytics, and Twilio scheduling."})]})})}async function WC(){const{data:e,error:t}=await he.auth.getUser();if(t||!e.user)throw new Error("Not authenticated");return e.user.id}async function b3(){const e=await WC(),{data:t,error:r}=await he.from("intake_campaigns").select("id, title, slug, form_id, start_date, end_date, status, gate_field, prefill_gate, success_message, require_consent").eq("owner_id",e).order("created_at",{ascending:!1});if(r)throw r;return t||[]}async function w3(e){const t=await WC(),{data:r,error:n}=await he.from("intake_campaigns").insert({owner_id:t,status:"draft",...e}).select().single();if(n)throw n;return r}function _3(){const[e,t]=y.useState([]),[r,n]=y.useState(!0);y.useEffect(()=>{b3().then(t).catch(o=>console.error("Failed to load intake campaigns",o)).finally(()=>n(!1))},[]);const i=o=>{const c=`${window.location.origin}/intake/${o}`;navigator.clipboard.writeText(c)},a=o=>{const c=document.getElementById(`qr-${o}`);if(!c)return;const u=document.createElement("a");u.href=c.toDataURL("image/png"),u.download=`${o}.png`,u.click()};return p.jsx(St,{faintFlag:!0,children:p.jsxs("div",{className:"max-w-6xl mx-auto p-4 space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h1",{className:"text-2xl font-semibold",children:"Intake Campaigns"}),p.jsx(ct,{to:"/campaigns/intake/new",className:"px-4 py-2 rounded bg-blue-600 text-white text-sm hover:bg-blue-700",children:"+ New Intake Campaign"})]}),p.jsx("section",{className:"bg-white shadow rounded p-4",children:r?p.jsx("div",{className:"text-center text-gray-500 py-6",children:"Loading…"}):e.length===0?p.jsxs("div",{className:"text-center text-gray-500 py-6 space-y-4",children:[p.jsx("p",{children:"No intake campaigns yet."}),p.jsx(ct,{to:"/campaigns/intake/new",className:"text-blue-600 underline",children:"Create your first campaign"})]}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b text-left",children:[p.jsx("th",{className:"py-2",children:"Title"}),p.jsx("th",{className:"py-2",children:"Start"}),p.jsx("th",{className:"py-2",children:"End"}),p.jsx("th",{className:"py-2",children:"Status"}),p.jsx("th",{className:"py-2 text-right",children:"Actions"})]})}),p.jsx("tbody",{children:e.map(o=>p.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[p.jsx("td",{className:"py-2",children:o.title}),p.jsx("td",{className:"py-2",children:o.start_date?new Date(o.start_date).toLocaleDateString():"—"}),p.jsx("td",{className:"py-2",children:o.end_date?new Date(o.end_date).toLocaleDateString():"—"}),p.jsx("td",{className:"py-2 capitalize",children:o.status}),p.jsxs("td",{className:"py-2 text-right space-x-2",children:[p.jsx("button",{onClick:()=>a(o.slug),className:"text-blue-600 hover:underline",children:"QR"}),p.jsx("button",{onClick:()=>i(o.slug),className:"text-blue-600 hover:underline",children:"Copy Link"}),p.jsx(ct,{to:"#",className:"text-blue-600 hover:underline",children:"Submissions"}),p.jsx(ct,{to:`/campaigns/intake/new?id=${o.id}`,className:"text-blue-600 hover:underline",children:"Edit"}),p.jsx("div",{className:"hidden",children:p.jsx(Su,{id:`qr-${o.slug}`,value:`${window.location.origin}/intake/${o.slug}`})})]})]},o.id))})]})})})]})})}async function Hy(){const{data:e,error:t}=await he.auth.getUser();if(t||!e.user)throw new Error("Not authenticated");return e.user.id}async function Vy(){const e=await Hy(),{data:t,error:r}=await he.from("forms").select("id, title, description, created_at").eq("owner_id",e).order("created_at",{ascending:!1});if(r)throw r;return t??[]}async function S3(e){const t=await Hy(),{data:r,error:n}=await he.from("forms").select("*").eq("id",e).eq("owner_id",t).single();if(n)throw n;const i=r?.schema_json?.blocks||[],a=r?.schema_json?.style||{};return{...r,schema_json:{blocks:i,style:a}}}async function j3(e){const t=await Hy(),{id:r,title:n,description:i,schema_json:a}=e,o=a?.blocks||[],c=a?.style||{};if(r){const{data:u,error:d}=await he.from("forms").update({title:n,description:i??null,schema_json:{blocks:o,style:c}}).eq("id",r).eq("owner_id",t).select().single();if(d)throw d;return u}else{const{data:u,error:d}=await he.from("forms").insert({owner_id:t,title:n,description:i??null,schema_json:{blocks:o,style:c}}).select().single();if(d)throw d;return u}}function k3(){const[e,t]=y.useState([]),[r,n]=y.useState(""),[i,a]=y.useState(""),[o,c]=y.useState(""),[u,d]=y.useState(""),[f,m]=y.useState(""),[g,x]=y.useState("phone"),[w,b]=y.useState(!1),[S,j]=y.useState(""),[C,E]=y.useState(!1),P=Ct(),[N]=jf();y.useEffect(()=>{Vy().then(t).catch(console.error)},[]),y.useEffect(()=>{const D=N.get("id");D&&n(D)},[N]);const A=o?`${window.location.origin}/intake/${o}`:"",T=async D=>{D.preventDefault();try{await w3({title:i,slug:o,form_id:r,start_date:u||null,end_date:f||null,gate_field:g,prefill_gate:w,success_message:S||null,require_consent:C}),P("/campaigns/intake")}catch(F){console.error(F),alert("Failed to create campaign")}};return p.jsx(St,{faintFlag:!0,children:p.jsxs("form",{onSubmit:T,className:"max-w-2xl mx-auto p-4 space-y-6",children:[p.jsx("h1",{className:"text-2xl font-semibold",children:"New Intake Campaign"}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"font-medium",children:"Title"}),p.jsx("input",{className:"border rounded w-full p-2",value:i,onChange:D=>a(D.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"font-medium",children:"Slug"}),p.jsx("input",{className:"border rounded w-full p-2",value:o,onChange:D=>c(D.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"font-medium",children:"Form Template"}),p.jsxs("select",{className:"border rounded w-full p-2",value:r,onChange:D=>n(D.target.value),required:!0,children:[p.jsx("option",{value:"",children:"Select a form"}),e.map(D=>p.jsx("option",{value:D.id,children:D.slug||D.id},D.id))]}),p.jsx("div",{className:"text-right",children:p.jsx("a",{href:`/forms/new?returnTo=${encodeURIComponent("/campaigns/intake/new")}`,className:"text-sm text-blue-600 hover:underline",children:"Create new form"})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"font-medium",children:"Start Date"}),p.jsx("input",{type:"date",className:"border rounded w-full p-2",value:u,onChange:D=>d(D.target.value)})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"font-medium",children:"End Date"}),p.jsx("input",{type:"date",className:"border rounded w-full p-2",value:f,onChange:D=>m(D.target.value)})]})]}),A&&p.jsxs("div",{className:"text-center space-y-2",children:[p.jsxs("p",{className:"text-sm",children:["Campaign URL: ",A]}),p.jsx("div",{className:"flex justify-center",children:p.jsx(Su,{value:A,size:180})})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"font-medium",children:"Gate Field"}),p.jsxs("select",{className:"border rounded w-full p-2",value:g,onChange:D=>x(D.target.value),children:[p.jsx("option",{value:"phone",children:"Phone"}),p.jsx("option",{value:"email",children:"Email"})]})]}),p.jsxs("label",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"checkbox",checked:w,onChange:D=>b(D.target.checked)}),p.jsx("span",{children:"Prefill form with gate value"})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"font-medium",children:"Success Message"}),p.jsx("input",{className:"border rounded w-full p-2",value:S,onChange:D=>j(D.target.value),placeholder:"Thanks for checking in!"})]}),p.jsxs("label",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"checkbox",checked:C,onChange:D=>E(D.target.checked)}),p.jsx("span",{children:"Require consent checkbox"})]}),p.jsx("div",{className:"text-right",children:p.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Save Campaign"})})]})]})})}const x_={text:["equals","contains"],email:["equals","contains"],phone:["equals","contains"],number:["equals","greaterThan","lessThan"],date:["equals","greaterThan","lessThan"],boolean:["isTrue","isFalse"],select:["equals","contains"],multiselect:["contains"]};function E3({fields:e,segment:t,onChange:r}){const n=()=>{const o=e[0],u=(o?x_[o.type]??["equals"]:["equals"])[0]??"equals",d={id:crypto.randomUUID(),fieldKey:o?.key??"",operator:u,value:""};r({...t,rules:[...t.rules,d]})},i=(o,c)=>{r({...t,rules:t.rules.map(u=>u.id===o?{...u,...c}:u)})},a=o=>{r({...t,rules:t.rules.filter(c=>c.id!==o)})};return p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h3",{className:"text-sm font-medium",children:"Filters (Segment)"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("select",{value:t.match,onChange:o=>r({...t,match:o.target.value}),className:"border rounded px-2 py-1 text-xs",children:[p.jsx("option",{value:"all",children:"Match all"}),p.jsx("option",{value:"any",children:"Match any"})]}),p.jsx("button",{onClick:n,className:"px-2 py-1 text-xs border rounded hover:bg-gray-50",children:"+ Add rule"})]})]}),t.rules.length===0?p.jsx("p",{className:"text-xs text-gray-500",children:"No rules. Add one above."}):p.jsx("div",{className:"space-y-2",children:t.rules.map(o=>{const c=e.find(d=>d.key===o.fieldKey),u=c?x_[c.type]??["equals"]:["equals"];return p.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-2 border rounded",children:[p.jsx("select",{value:o.fieldKey,onChange:d=>i(o.id,{fieldKey:d.target.value}),className:"border rounded px-2 py-1 text-sm",children:e.map(d=>p.jsx("option",{value:d.key,children:d.label},d.id))}),p.jsx("select",{value:o.operator,onChange:d=>i(o.id,{operator:d.target.value}),className:"border rounded px-2 py-1 text-sm",children:u.map(d=>p.jsx("option",{value:d,children:C3(d)},d))}),P3(o.operator)&&p.jsx("input",{type:"text",value:o.value??"",onChange:d=>i(o.id,{value:d.target.value}),className:"border rounded px-2 py-1 text-sm",placeholder:"value…"}),p.jsx("button",{onClick:()=>a(o.id),className:"ml-auto text-xs text-red-600 hover:underline",children:"Remove"})]},o.id)})})]})}function C3(e){switch(e){case"equals":return"equals";case"contains":return"contains";case"greaterThan":return"greater than";case"lessThan":return"less than";case"isTrue":return"is true";case"isFalse":return"is false";default:return e}}function P3(e){return!["isTrue","isFalse"].includes(e)}function N3(){const{user:e}=Ut(),[t,r]=y.useState([]),[n,i]=y.useState([]),[a,o]=y.useState([]),[c,u]=y.useState(""),[d,f]=y.useState(""),[m,g]=y.useState([]),[x,w]=y.useState(""),[b,S]=y.useState(""),[j,C]=y.useState([]),[E,P]=y.useState(""),[N]=jf(),[A,T]=y.useState(!1),[D,F]=y.useState(!0),[z,L]=y.useState(0),[H,ne]=y.useState(0),[ce,fe]=y.useState(!0),[K,q]=y.useState({rules:[],match:"all"}),Y=y.useMemo(()=>Uy(e?.username??e?.email??null),[e]);y.useEffect(()=>{let Q=!0;return(async()=>{try{F(!0);const pe=new Date,ae=(await Td()).map(Le=>Le.status==="scheduled"&&Le.startAt&&new Date(Le.startAt)<=pe?{...Le,status:"sent"}:Le);r(ae);const Ee=await Ad();i(Ee);const qe=(await Promise.resolve(bn())).filter(Le=>!Le.archived&&Le.visibleOn.campaigns).sort((Le,Mt)=>Le.order-Mt.order);o(qe);const Ie=await Vy();C(Ie);const ut=await or.getBalance();L(ut)}catch(pe){console.error(pe)}finally{Q&&F(!1)}})(),()=>{Q=!1}},[e?.id]),y.useEffect(()=>{const Q=N.get("id");Q&&P(Q)},[N]);const Z=y.useMemo(()=>K.rules.length===0?n:n.filter(Q=>O3(Q,K)),[n,K,a]),te=y.useMemo(()=>Z.filter(Q=>m.includes(Q.id)).map(Q=>zt(Q.phone)).filter(Boolean),[Z,m]),M=Math.max(1,Math.ceil(d.length/160));y.useEffect(()=>{let Q=!0;const pe=Y.estimateCredits(d,te.length);return ne(pe),(async()=>{try{const G=await or.canAfford(pe);Q&&fe(G);const ae=await or.getBalance();Q&&L(ae)}catch(G){console.error(G)}})(),()=>{Q=!1}},[Y,d,te.length]);const B=Q=>{g(pe=>pe.includes(Q)?pe.filter(G=>G!==Q):[...pe,Q])},de=async()=>{if(!c.trim()){alert("Campaign name is required.");return}if(!d.trim()){alert("Message is required.");return}if(te.length===0){alert("Select at least one recipient.");return}const Q=await or.getBalance();if(Q<H){alert(`Not enough credits. Need ${H}, have ${Q}.`);return}T(!0);try{const pe=x?"scheduled":"draft",G={id:Ni(),name:c,message:d,recipients:te,status:pe,createdAt:new Date().toISOString(),startAt:x||void 0,slug:b||void 0,formTemplateId:E||void 0};pe==="scheduled"&&G.startAt&&await Y.scheduleBulk(te,d,G.startAt);const ae=await or.deduct(H);if(!ae.ok){alert(ae.message??"Failed to deduct credits.");return}await v3(G);const Ee=await Td();r(Ee);const re=await or.getBalance();L(re),u(""),f(""),g([]),w(""),S(""),P(""),q({rules:[],match:"all"}),alert("Campaign saved.")}catch(pe){console.error(pe),alert("Failed to save campaign.")}finally{T(!1)}},_e=async()=>{if(!d.trim()){alert("Enter a message first.");return}const Q=prompt("Enter a phone number to test-send to:");if(!Q)return;const pe=zt(Q);if(!pe){alert("Invalid phone number.");return}const G=Y.estimateCredits(d,1);if(!await or.canAfford(G)){const Ee=await or.getBalance();alert(`Not enough credits for test send. Need ${G}, have ${Ee}.`);return}await Y.sendTest(pe,d)},ee=()=>{const Q=Z.map(G=>G.id),pe=Q.every(G=>m.includes(G));g(pe?G=>G.filter(ae=>!Q.includes(ae)):G=>Array.from(new Set([...G,...Q])))},le=Z.length>0&&Z.every(Q=>m.includes(Q.id));return p.jsx(St,{faintFlag:!0,children:p.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-semibold mb-1",children:"New Campaign"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Create and schedule an SMS campaign. Credits estimated per recipient."})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:_e,className:"px-3 py-2 text-sm border rounded hover:bg-gray-50",children:"Test Send"}),p.jsxs("button",{onClick:de,disabled:A,className:`px-3 py-2 text-sm border rounded ${A?"bg-gray-300":"hover:bg-gray-50"}`,children:[p.jsx(jv,{className:"inline-block mr-1"}),A?"Saving...":"Save Campaign"]})]})]}),p.jsxs("section",{className:"p-4 bg-white rounded-md shadow border space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Campaign Name *"}),p.jsx("input",{type:"text",value:c,onChange:Q=>u(Q.target.value),className:"border rounded w-full px-2 py-1",placeholder:"Spring Promo Blast"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Campaign Slug"}),p.jsx("input",{type:"text",value:b,onChange:Q=>S(Q.target.value),className:"border rounded w-full px-2 py-1",placeholder:"spring-promo"}),p.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Forms will be available at /intake/",b||"your-slug"]}),b&&p.jsx("div",{className:"mt-2 flex justify-center",children:p.jsx(Su,{value:`${window.location.origin}/intake/${b}`,size:120})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Form Template"}),p.jsxs("select",{className:"border rounded w-full px-2 py-1",value:E,onChange:Q=>P(Q.target.value),children:[p.jsx("option",{value:"",children:"None"}),j.map(Q=>p.jsx("option",{value:Q.id,children:Q.title||Q.id},Q.id))]}),p.jsx("div",{className:"text-right",children:p.jsx("a",{href:`/forms/new?returnTo=${encodeURIComponent("/campaigns/sms/new")}`,className:"text-sm text-blue-600 hover:underline",children:"Create new form"})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Message *"}),p.jsx("textarea",{value:d,onChange:Q=>f(Q.target.value),className:"border rounded w-full px-2 py-1 h-28",placeholder:"Write your message..."}),p.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[d.length," chars, ~",M," SMS segment",M!==1?"s":"","."]})]}),p.jsx("div",{children:p.jsx(E3,{fields:a,segment:K,onChange:q})}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Recipients (",m.length," of ",Z.length," filtered)"]}),p.jsx("button",{onClick:ee,className:"px-2 py-1 text-xs border rounded hover:bg-gray-50",children:le?"Unselect All":"Select All"})]}),p.jsx("div",{className:"max-h-48 overflow-y-auto border rounded p-3 space-y-1 text-sm",children:D?p.jsx("div",{className:"text-gray-400",children:"Loading customers…"}):Z.length===0?p.jsx("div",{className:"text-gray-400",children:"No customers match the current filters."}):Z.map(Q=>p.jsxs("label",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"checkbox",checked:m.includes(Q.id),onChange:()=>B(Q.id)}),p.jsxs("span",{children:[Q.firstName," ",Q.lastName," – ",Wn(Q.phone)]})]},Q.id))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Schedule (optional)"}),p.jsx("input",{type:"datetime-local",value:x,onChange:Q=>w(Q.target.value),className:"border rounded px-2 py-1"}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"If empty, this campaign is saved as a draft (no immediate send in this demo)."})]}),p.jsxs("div",{className:"text-sm text-gray-700",children:["Estimated Credits (total):"," ",p.jsx("span",{className:`font-semibold ${ce?"":"text-red-600"}`,children:H})," ","| Available: ",p.jsx("span",{className:"font-semibold",children:z})]})]}),p.jsxs("section",{className:"p-4 bg-white rounded-md shadow border",children:[p.jsx("h2",{className:"text-lg font-medium mb-3",children:"Your Campaigns"}),t.length===0?p.jsx("p",{className:"text-sm text-gray-500",children:"No campaigns yet."}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b text-left",children:[p.jsx("th",{className:"py-2",children:"Name"}),p.jsx("th",{className:"py-2",children:"Status"}),p.jsx("th",{className:"py-2",children:"Recipients"}),p.jsx("th",{className:"py-2",children:"Schedule"}),p.jsx("th",{className:"py-2",children:"Created"})]})}),p.jsx("tbody",{children:t.map(Q=>p.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[p.jsx("td",{className:"py-2",children:Q.name}),p.jsx("td",{className:"py-2 capitalize",children:Q.status}),p.jsx("td",{className:"py-2",children:Q.recipients.length}),p.jsx("td",{className:"py-2",children:Q.startAt?new Date(Q.startAt).toLocaleString():"—"}),p.jsxs("td",{className:"py-2",children:[new Date(Q.createdAt).toLocaleDateString()," ",new Date(Q.createdAt).toLocaleTimeString()]})]},Q.id))})]})})]})]})})}function O3(e,t,r){return t.match==="any"?t.rules.some(n=>b_(e,n)):t.rules.every(n=>b_(e,n))}function b_(e,t,r){const n=e[t.fieldKey];switch(t.operator){case"equals":return String(n??"").toLowerCase()===String(t.value??"").toLowerCase();case"contains":return String(n??"").toLowerCase().includes(String(t.value??"").toLowerCase());case"greaterThan":return Number(n)>Number(t.value);case"lessThan":return Number(n)<Number(t.value);case"isTrue":return!!n;case"isFalse":return!n;default:return!1}}function A3(){const e=new Date,t=[];for(let r=6;r>=0;r--){const n=new Date(e);n.setDate(e.getDate()-r),t.push({date:n.toLocaleDateString("en-US",{month:"short",day:"numeric"}),creditsUsed:Math.floor(Math.random()*50)+10})}return t}function T3(){const e=new Date,t=[];let r=100;for(let n=6;n>=0;n--){const i=new Date(e);i.setDate(e.getDate()-n),r+=Math.floor(Math.random()*5),t.push({date:i.toLocaleDateString("en-US",{month:"short",day:"numeric"}),totalCustomers:r})}return t}function I3(){return[{name:"Spring Promo",sent:120,scheduled:30},{name:"Event Blast",sent:80,scheduled:10},{name:"Holiday Offer",sent:50,scheduled:20}]}var gm={},vm={},w_;function D3(){return w_||(w_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t}(vm)),vm}var ym={},__;function KC(){return __||(__=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t}(ym)),ym}var xm={},S_;function HC(){return S_||(S_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t}(xm)),xm}var bm={},j_;function Yy(){return j_||(j_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let a=0,o="",c="",u=!1;for(r.charCodeAt(0)===46&&(n.push(""),a++);a<i;){const d=r[a];c?d==="\\"&&a+1<i?(a++,o+=r[a]):d===c?c="":o+=d:u?d==='"'||d==="'"?c=d:d==="]"?(u=!1,n.push(o),o=""):o+=d:d==="["?(u=!0,o&&(n.push(o),o="")):d==="."?o&&(n.push(o),o=""):o+=d,a++}return o&&n.push(o),n}e.toPath=t}(bm)),bm}var k_;function Gy(){return k_||(k_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D3(),r=KC(),n=HC(),i=Yy();function a(c,u,d){if(c==null)return d;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return d;const f=c[u];return f===void 0?r.isDeepKey(u)?a(c,i.toPath(u),d):d:f}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const f=c[u];return f===void 0?d:f}default:{if(Array.isArray(u))return o(c,u,d);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return d;const f=c[u];return f===void 0?d:f}}}function o(c,u,d){if(u.length===0)return d;let f=c;for(let m=0;m<u.length;m++){if(f==null||t.isUnsafeProperty(u[m]))return d;f=f[u[m]]}return f===void 0?d:f}e.get=a}(gm)),gm}var wm,E_;function R3(){return E_||(E_=1,wm=Gy().get),wm}var M3=R3();const us=kn(M3);var _m={exports:{}},lt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function L3(){if(C_)return lt;C_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function w(b){if(typeof b=="object"&&b!==null){var S=b.$$typeof;switch(S){case e:switch(b=b.type,b){case r:case i:case n:case u:case d:case g:return b;default:switch(b=b&&b.$$typeof,b){case o:case c:case m:case f:return b;case a:return b;default:return S}}case t:return S}}}return lt.ContextConsumer=a,lt.ContextProvider=o,lt.Element=e,lt.ForwardRef=c,lt.Fragment=r,lt.Lazy=m,lt.Memo=f,lt.Portal=t,lt.Profiler=i,lt.StrictMode=n,lt.Suspense=u,lt.SuspenseList=d,lt.isContextConsumer=function(b){return w(b)===a},lt.isContextProvider=function(b){return w(b)===o},lt.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===e},lt.isForwardRef=function(b){return w(b)===c},lt.isFragment=function(b){return w(b)===r},lt.isLazy=function(b){return w(b)===m},lt.isMemo=function(b){return w(b)===f},lt.isPortal=function(b){return w(b)===t},lt.isProfiler=function(b){return w(b)===i},lt.isStrictMode=function(b){return w(b)===n},lt.isSuspense=function(b){return w(b)===u},lt.isSuspenseList=function(b){return w(b)===d},lt.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===u||b===d||typeof b=="object"&&b!==null&&(b.$$typeof===m||b.$$typeof===f||b.$$typeof===o||b.$$typeof===a||b.$$typeof===c||b.$$typeof===x||b.getModuleId!==void 0)},lt.typeOf=w,lt}var P_;function $3(){return P_||(P_=1,_m.exports=L3()),_m.exports}var B3=$3(),Lr=e=>e===0?0:e>0?1:-1,Br=e=>typeof e=="number"&&e!=+e,Qa=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ve=e=>(typeof e=="number"||e instanceof Number)&&!Br(e),oi=e=>ve(e)||typeof e=="string",F3=0,cs=e=>{var t=++F3;return"".concat(e||"").concat(t)},Kn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ve(t)&&typeof t!="string")return n;var a;if(Qa(t)){if(r==null)return n;var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return Br(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},VC=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},Fn=(e,t)=>ve(e)&&ve(t)?r=>e+r*(t-e):()=>t;function no(e,t,r){return ve(e)&&ve(t)?e+r*(t-e):t}function YC(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):us(n,t))===r)}var st=e=>e===null||typeof e>"u",ju=e=>st(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),z3=["viewBox","children"],U3=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],N_=["points","pathLength"],Sm={svg:z3,polygon:N_,polyline:N_},Xy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Qy=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(y.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Xy.includes(i)&&(n[i]=a=>r[i](r,a))}),n},q3=(e,t,r)=>n=>(e(t,r,n),null),Nf=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];Xy.includes(i)&&typeof a=="function"&&(n||(n={}),n[i]=q3(a,t,r))}),n},O_=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",A_=null,jm=null,GC=e=>{if(e===A_&&Array.isArray(jm))return jm;var t=[];return y.Children.forEach(e,r=>{st(r)||(B3.isFragment(r)?t=t.concat(GC(r.props.children)):t.push(r))}),jm=t,A_=e,t};function Jy(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>O_(i)):n=[O_(t)],GC(e).forEach(i=>{var a=us(i,"type.displayName")||us(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}var Of=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,W3=(e,t,r,n)=>{var i,a=(i=n&&Sm?.[n])!==null&&i!==void 0?i:[];return t.startsWith("data-")||typeof e!="function"&&(n&&a.includes(t)||U3.includes(t))||r&&Xy.includes(t)},We=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(y.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var o;W3((o=n)===null||o===void 0?void 0:o[a],a,t,r)&&(i[a]=n[a])}),i},K3=["children","width","height","viewBox","className","style","title","desc"];function kv(){return kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kv.apply(null,arguments)}function H3(e,t){if(e==null)return{};var r,n,i=V3(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function V3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Zy=y.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:c,title:u,desc:d}=e,f=H3(e,K3),m=a||{width:n,height:i,x:0,y:0},g=Fe("recharts-surface",o);return y.createElement("svg",kv({},We(f,!0,"svg"),{className:g,width:n,height:i,style:c,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),y.createElement("title",null,u),y.createElement("desc",null,d),r)}),Y3=["children","className"];function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ev.apply(null,arguments)}function G3(e,t){if(e==null)return{};var r,n,i=X3(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function X3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Jt=y.forwardRef((e,t)=>{var{children:r,className:n}=e,i=G3(e,Y3),a=Fe("recharts-layer",n);return y.createElement("g",Ev({className:a},We(i,!0),{ref:t}),r)}),XC=y.createContext(null),Q3=()=>y.useContext(XC);function pt(e){return function(){return e}}const QC=Math.cos,Id=Math.sin,Yn=Math.sqrt,Dd=Math.PI,Af=2*Dd,Cv=Math.PI,Pv=2*Cv,Ha=1e-6,J3=Pv-Ha;function JC(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Z3(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return JC;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class e4{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?JC:Z3(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,c=this._y1,u=n-t,d=i-r,f=o-t,m=c-r,g=f*f+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>Ha)if(!(Math.abs(m*u-d*f)>Ha)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-o,w=i-c,b=u*u+d*d,S=x*x+w*w,j=Math.sqrt(b),C=Math.sqrt(g),E=a*Math.tan((Cv-Math.acos((b+g-S)/(2*j*C)))/2),P=E/C,N=E/j;Math.abs(P-1)>Ha&&this._append`L${t+P*f},${r+P*m}`,this._append`A${a},${a},0,0,${+(m*x>f*w)},${this._x1=t+N*u},${this._y1=r+N*d}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(i),u=n*Math.sin(i),d=t+c,f=r+u,m=1^o,g=o?i-a:a-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>Ha||Math.abs(this._y1-f)>Ha)&&this._append`L${d},${f}`,n&&(g<0&&(g=g%Pv+Pv),g>J3?this._append`A${n},${n},0,1,${m},${t-c},${r-u}A${n},${n},0,1,${m},${this._x1=d},${this._y1=f}`:g>Ha&&this._append`A${n},${n},0,${+(g>=Cv)},${m},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function e0(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new e4(t)}function t0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ZC(e){this._context=e}ZC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Tf(e){return new ZC(e)}function eP(e){return e[0]}function tP(e){return e[1]}function rP(e,t){var r=pt(!0),n=null,i=Tf,a=null,o=e0(c);e=typeof e=="function"?e:e===void 0?eP:pt(e),t=typeof t=="function"?t:t===void 0?tP:pt(t);function c(u){var d,f=(u=t0(u)).length,m,g=!1,x;for(n==null&&(a=i(x=o())),d=0;d<=f;++d)!(d<f&&r(m=u[d],d,u))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+e(m,d,u),+t(m,d,u));if(x)return a=null,x+""||null}return c.x=function(u){return arguments.length?(e=typeof u=="function"?u:pt(+u),c):e},c.y=function(u){return arguments.length?(t=typeof u=="function"?u:pt(+u),c):t},c.defined=function(u){return arguments.length?(r=typeof u=="function"?u:pt(!!u),c):r},c.curve=function(u){return arguments.length?(i=u,n!=null&&(a=i(n)),c):i},c.context=function(u){return arguments.length?(u==null?n=a=null:a=i(n=u),c):n},c}function nd(e,t,r){var n=null,i=pt(!0),a=null,o=Tf,c=null,u=e0(d);e=typeof e=="function"?e:e===void 0?eP:pt(+e),t=typeof t=="function"?t:pt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?tP:pt(+r);function d(m){var g,x,w,b=(m=t0(m)).length,S,j=!1,C,E=new Array(b),P=new Array(b);for(a==null&&(c=o(C=u())),g=0;g<=b;++g){if(!(g<b&&i(S=m[g],g,m))===j)if(j=!j)x=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),w=g-1;w>=x;--w)c.point(E[w],P[w]);c.lineEnd(),c.areaEnd()}j&&(E[g]=+e(S,g,m),P[g]=+t(S,g,m),c.point(n?+n(S,g,m):E[g],r?+r(S,g,m):P[g]))}if(C)return c=null,C+""||null}function f(){return rP().defined(i).curve(o).context(a)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:pt(+m),n=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:pt(+m),d):e},d.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:pt(+m),d):n},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:pt(+m),r=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:pt(+m),d):t},d.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:pt(+m),d):r},d.lineX0=d.lineY0=function(){return f().x(e).y(t)},d.lineY1=function(){return f().x(e).y(r)},d.lineX1=function(){return f().x(n).y(t)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:pt(!!m),d):i},d.curve=function(m){return arguments.length?(o=m,a!=null&&(c=o(a)),d):o},d.context=function(m){return arguments.length?(m==null?a=c=null:c=o(a=m),d):a},d}class nP{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function t4(e){return new nP(e,!0)}function r4(e){return new nP(e,!1)}const r0={draw(e,t){const r=Yn(t/Dd);e.moveTo(r,0),e.arc(0,0,r,0,Af)}},n4={draw(e,t){const r=Yn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},iP=Yn(1/3),i4=iP*2,a4={draw(e,t){const r=Yn(t/i4),n=r*iP;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},s4={draw(e,t){const r=Yn(t),n=-r/2;e.rect(n,n,r,r)}},o4=.8908130915292852,aP=Id(Dd/10)/Id(7*Dd/10),l4=Id(Af/10)*aP,u4=-QC(Af/10)*aP,c4={draw(e,t){const r=Yn(t*o4),n=l4*r,i=u4*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=Af*a/5,c=QC(o),u=Id(o);e.lineTo(u*r,-c*r),e.lineTo(c*n-u*i,u*n+c*i)}e.closePath()}},km=Yn(3),d4={draw(e,t){const r=-Yn(t/(km*3));e.moveTo(0,r*2),e.lineTo(-km*r,-r),e.lineTo(km*r,-r),e.closePath()}},hn=-.5,pn=Yn(3)/2,Nv=1/Yn(12),f4=(Nv/2+1)*3,h4={draw(e,t){const r=Yn(t/f4),n=r/2,i=r*Nv,a=n,o=r*Nv+r,c=-a,u=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(c,u),e.lineTo(hn*n-pn*i,pn*n+hn*i),e.lineTo(hn*a-pn*o,pn*a+hn*o),e.lineTo(hn*c-pn*u,pn*c+hn*u),e.lineTo(hn*n+pn*i,hn*i-pn*n),e.lineTo(hn*a+pn*o,hn*o-pn*a),e.lineTo(hn*c+pn*u,hn*u-pn*c),e.closePath()}};function p4(e,t){let r=null,n=e0(i);e=typeof e=="function"?e:pt(e||r0),t=typeof t=="function"?t:pt(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:pt(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:pt(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Rd(){}function Md(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function sP(e){this._context=e}sP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Md(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Md(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function m4(e){return new sP(e)}function oP(e){this._context=e}oP.prototype={areaStart:Rd,areaEnd:Rd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Md(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function g4(e){return new oP(e)}function lP(e){this._context=e}lP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Md(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function v4(e){return new lP(e)}function uP(e){this._context=e}uP.prototype={areaStart:Rd,areaEnd:Rd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function y4(e){return new uP(e)}function T_(e){return e<0?-1:1}function I_(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),c=(a*i+o*n)/(n+i);return(T_(a)+T_(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(c))||0}function D_(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Em(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,c=(a-n)/3;e._context.bezierCurveTo(n+c,i+c*t,a-c,o-c*r,a,o)}function Ld(e){this._context=e}Ld.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Em(this,this._t0,D_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Em(this,D_(this,r=I_(this,e,t)),r);break;default:Em(this,this._t0,r=I_(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function cP(e){this._context=new dP(e)}(cP.prototype=Object.create(Ld.prototype)).point=function(e,t){Ld.prototype.point.call(this,t,e)};function dP(e){this._context=e}dP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function x4(e){return new Ld(e)}function b4(e){return new cP(e)}function fP(e){this._context=e}fP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=R_(e),i=R_(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function R_(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function w4(e){return new fP(e)}function If(e,t){this._context=e,this._t=t}If.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function _4(e){return new If(e,.5)}function S4(e){return new If(e,0)}function j4(e){return new If(e,1)}function vo(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,c=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<c;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Ov(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function k4(e,t){return e[t]}function E4(e){const t=[];return t.key=e,t}function C4(){var e=pt([]),t=Ov,r=vo,n=k4;function i(a){var o=Array.from(e.apply(this,arguments),E4),c,u=o.length,d=-1,f;for(const m of a)for(c=0,++d;c<u;++c)(o[c][d]=[0,+n(m,o[c].key,d,a)]).data=m;for(c=0,f=t0(t(o));c<u;++c)o[f[c]].index=c;return r(o,f),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:pt(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:pt(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?Ov:typeof a=="function"?a:pt(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??vo,i):r},i}function P4(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}vo(e,t)}}function N4(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,c=0;o<i;++o)c+=e[o][r][1]||0;n[r][1]+=n[r][0]=-c/2}vo(e,t)}}function O4(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var c=0,u=0,d=0;c<o;++c){for(var f=e[t[c]],m=f[n][1]||0,g=f[n-1][1]||0,x=(m-g)/2,w=0;w<c;++w){var b=e[t[w]],S=b[n][1]||0,j=b[n-1][1]||0;x+=S-j}u+=m,d+=x*m}i[n-1][1]+=i[n-1][0]=r,u&&(r-=d/u)}i[n-1][1]+=i[n-1][0]=r,vo(e,t)}}var A4=["type","size","sizeType"];function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Av.apply(null,arguments)}function M_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function L_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M_(Object(r),!0).forEach(function(n){T4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T4(e,t,r){return(t=I4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I4(e){var t=D4(e,"string");return typeof t=="symbol"?t:t+""}function D4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R4(e,t){if(e==null)return{};var r,n,i=M4(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function M4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hP={symbolCircle:r0,symbolCross:n4,symbolDiamond:a4,symbolSquare:s4,symbolStar:c4,symbolTriangle:d4,symbolWye:h4},L4=Math.PI/180,$4=e=>{var t="symbol".concat(ju(e));return hP[t]||r0},B4=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*L4;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},F4=(e,t)=>{hP["symbol".concat(ju(e))]=t},n0=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=R4(e,A4),a=L_(L_({},i),{},{type:t,size:r,sizeType:n}),o=()=>{var m=$4(t),g=p4().type(m).size(B4(r,n,t));return g()},{className:c,cx:u,cy:d}=a,f=We(a,!0);return u===+u&&d===+d&&r===+r?y.createElement("path",Av({},f,{className:Fe("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};n0.registerSymbol=F4;function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tv.apply(null,arguments)}function $_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function z4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$_(Object(r),!0).forEach(function(n){i0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i0(e,t,r){return(t=U4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U4(e){var t=q4(e,"string");return typeof t=="symbol"?t:t+""}function q4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mn=32;class a0 extends y.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,i=mn/2,a=mn/6,o=mn/3,c=t.inactive?n:t.color,u=r??t.type;if(u==="none")return null;if(u==="plainline")return y.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:mn,y2:i,className:"recharts-legend-icon"});if(u==="line")return y.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(mn,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(u==="rect")return y.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(mn/8,"h").concat(mn,"v").concat(mn*3/4,"h").concat(-mn,"z"),className:"recharts-legend-icon"});if(y.isValidElement(t.legendIcon)){var d=z4({},t);return delete d.legendIcon,y.cloneElement(t.legendIcon,d)}return y.createElement(n0,{fill:c,cx:i,cy:i,size:mn,sizeType:"diameter",type:u})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:o}=this.props,c={x:0,y:0,width:mn,height:mn},u={display:n==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((f,m)=>{var g=f.formatter||i,x=Fe({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:f.inactive});if(f.type==="none")return null;var w=f.inactive?a:f.color,b=g?g(f.value,f,m):f.value;return y.createElement("li",Tv({className:x,style:u,key:"legend-item-".concat(m)},Nf(this.props,f,m)),y.createElement(Zy,{width:r,height:r,viewBox:c,style:d,"aria-label":"".concat(b," legend icon")},this.renderIcon(f,o)),y.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},b))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return y.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}i0(a0,"displayName","Legend");i0(a0,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Cm={},Pm={},B_;function W4(){return B_||(B_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],c=n(o);i.has(c)||i.set(c,o)}return Array.from(i.values())}e.uniqBy=t}(Pm)),Pm}var Nm={},F_;function pP(){return F_||(F_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t}(Nm)),Nm}var Om={},Am={},Tm={},z_;function K4(){return z_||(z_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t}(Tm)),Tm}var U_;function s0(){return U_||(U_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K4();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r}(Am)),Am}var Im={},q_;function H4(){return q_||(q_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t}(Im)),Im}var W_;function V4(){return W_||(W_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s0(),r=H4();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n}(Om)),Om}var Dm={},Rm={},K_;function Y4(){return K_||(K_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gy();function r(n){return function(i){return t.get(i,n)}}e.property=r}(Rm)),Rm}var Mm={},Lm={},$m={},Bm={},H_;function mP(){return H_||(H_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t}(Bm)),Bm}var Fm={},V_;function gP(){return V_||(V_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t}(Fm)),Fm}var zm={},Y_;function o0(){return Y_||(Y_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t}(zm)),zm}var G_;function G4(){return G_||(G_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l0(),r=mP(),n=gP(),i=o0();function a(m,g,x){return typeof x!="function"?t.isMatch(m,g):o(m,g,function w(b,S,j,C,E,P){const N=x(b,S,j,C,E,P);return N!==void 0?!!N:o(b,S,w,P)},new Map)}function o(m,g,x,w){if(g===m)return!0;switch(typeof g){case"object":return c(m,g,x,w);case"function":return Object.keys(g).length>0?o(m,{...g},x,w):i.eq(m,g);default:return r.isObject(m)?typeof g=="string"?g==="":!0:i.eq(m,g)}}function c(m,g,x,w){if(g==null)return!0;if(Array.isArray(g))return d(m,g,x,w);if(g instanceof Map)return u(m,g,x,w);if(g instanceof Set)return f(m,g,x,w);const b=Object.keys(g);if(m==null)return b.length===0;if(b.length===0)return!0;if(w&&w.has(g))return w.get(g)===m;w&&w.set(g,m);try{for(let S=0;S<b.length;S++){const j=b[S];if(!n.isPrimitive(m)&&!(j in m)||g[j]===void 0&&m[j]!==void 0||g[j]===null&&m[j]!==null||!x(m[j],g[j],j,m,g,w))return!1}return!0}finally{w&&w.delete(g)}}function u(m,g,x,w){if(g.size===0)return!0;if(!(m instanceof Map))return!1;for(const[b,S]of g.entries()){const j=m.get(b);if(x(j,S,b,m,g,w)===!1)return!1}return!0}function d(m,g,x,w){if(g.length===0)return!0;if(!Array.isArray(m))return!1;const b=new Set;for(let S=0;S<g.length;S++){const j=g[S];let C=!1;for(let E=0;E<m.length;E++){if(b.has(E))continue;const P=m[E];let N=!1;if(x(P,j,S,m,g,w)&&(N=!0),N){b.add(E),C=!0;break}}if(!C)return!1}return!0}function f(m,g,x,w){return g.size===0?!0:m instanceof Set?d([...m],[...g],x,w):!1}e.isMatchWith=a,e.isSetMatch=f}($m)),$m}var X_;function l0(){return X_||(X_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G4();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r}(Lm)),Lm}var Um={},qm={},Wm={},Q_;function vP(){return Q_||(Q_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t}(Wm)),Wm}var Km={},J_;function u0(){return J_||(J_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t}(Km)),Km}var Hm={},Z_;function c0(){return Z_||(Z_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",c="[object Date]",u="[object Map]",d="[object Set]",f="[object Array]",m="[object Function]",g="[object ArrayBuffer]",x="[object Object]",w="[object Error]",b="[object DataView]",S="[object Uint8Array]",j="[object Uint8ClampedArray]",C="[object Uint16Array]",E="[object Uint32Array]",P="[object BigUint64Array]",N="[object Int8Array]",A="[object Int16Array]",T="[object Int32Array]",D="[object BigInt64Array]",F="[object Float32Array]",z="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=g,e.arrayTag=f,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=P,e.booleanTag=i,e.dataViewTag=b,e.dateTag=c,e.errorTag=w,e.float32ArrayTag=F,e.float64ArrayTag=z,e.functionTag=m,e.int16ArrayTag=A,e.int32ArrayTag=T,e.int8ArrayTag=N,e.mapTag=u,e.numberTag=n,e.objectTag=x,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=C,e.uint32ArrayTag=E,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=j}(Hm)),Hm}var Vm={},eS;function X4(){return eS||(eS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t}(Vm)),Vm}var tS;function yP(){return tS||(tS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vP(),r=u0(),n=c0(),i=gP(),a=X4();function o(f,m){return c(f,void 0,f,new Map,m)}function c(f,m,g,x=new Map,w=void 0){const b=w?.(f,m,g,x);if(b!=null)return b;if(i.isPrimitive(f))return f;if(x.has(f))return x.get(f);if(Array.isArray(f)){const S=new Array(f.length);x.set(f,S);for(let j=0;j<f.length;j++)S[j]=c(f[j],j,g,x,w);return Object.hasOwn(f,"index")&&(S.index=f.index),Object.hasOwn(f,"input")&&(S.input=f.input),S}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const S=new RegExp(f.source,f.flags);return S.lastIndex=f.lastIndex,S}if(f instanceof Map){const S=new Map;x.set(f,S);for(const[j,C]of f)S.set(j,c(C,j,g,x,w));return S}if(f instanceof Set){const S=new Set;x.set(f,S);for(const j of f)S.add(c(j,void 0,g,x,w));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(a.isTypedArray(f)){const S=new(Object.getPrototypeOf(f)).constructor(f.length);x.set(f,S);for(let j=0;j<f.length;j++)S[j]=c(f[j],j,g,x,w);return S}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const S=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return x.set(f,S),u(S,f,g,x,w),S}if(typeof File<"u"&&f instanceof File){const S=new File([f],f.name,{type:f.type});return x.set(f,S),u(S,f,g,x,w),S}if(f instanceof Blob){const S=new Blob([f],{type:f.type});return x.set(f,S),u(S,f,g,x,w),S}if(f instanceof Error){const S=new f.constructor;return x.set(f,S),S.message=f.message,S.name=f.name,S.stack=f.stack,S.cause=f.cause,u(S,f,g,x,w),S}if(typeof f=="object"&&d(f)){const S=Object.create(Object.getPrototypeOf(f));return x.set(f,S),u(S,f,g,x,w),S}return f}function u(f,m,g=f,x,w){const b=[...Object.keys(m),...t.getSymbols(m)];for(let S=0;S<b.length;S++){const j=b[S],C=Object.getOwnPropertyDescriptor(f,j);(C==null||C.writable)&&(f[j]=c(m[j],j,g,x,w))}}function d(f){switch(r.getTag(f)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=c,e.copyProperties=u}(qm)),qm}var rS;function Q4(){return rS||(rS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yP();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r}(Um)),Um}var nS;function J4(){return nS||(nS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l0(),r=Q4();function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n}(Mm)),Mm}var Ym={},Gm={},Xm={},iS;function Z4(){return iS||(iS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yP(),r=c0();function n(i,a){return t.cloneDeepWith(i,(o,c,u,d)=>{const f=a?.(o,c,u,d);if(f!=null)return f;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new i.constructor(i?.valueOf());return t.copyProperties(m,i),m}case r.argumentsTag:{const m={};return t.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}e.cloneDeepWith=n}(Xm)),Xm}var aS;function eB(){return aS||(aS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z4();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r}(Gm)),Gm}var Qm={},Jm={},sS;function xP(){return sS||(sS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r}(Jm)),Jm}var Zm={},oS;function tB(){return oS||(oS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u0();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r}(Zm)),Zm}var lS;function rB(){return lS||(lS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KC(),r=xP(),n=tB(),i=Yy();function a(o,c){let u;if(Array.isArray(c)?u=c:typeof c=="string"&&t.isDeepKey(c)&&o?.[c]==null?u=i.toPath(c):u=[c],u.length===0)return!1;let d=o;for(let f=0;f<u.length;f++){const m=u[f];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||n.isArguments(d))&&r.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}e.has=a}(Qm)),Qm}var uS;function nB(){return uS||(uS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l0(),r=HC(),n=eB(),i=Gy(),a=rB();function o(c,u){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=r.toKey(c);break}}return u=n.cloneDeep(u),function(d){const f=i.get(d,c);return f===void 0?a.has(d,c):u===void 0?f===void 0:t.isMatch(f,u)}}e.matchesProperty=o}(Ym)),Ym}var cS;function iB(){return cS||(cS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pP(),r=Y4(),n=J4(),i=nB();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=a}(Dm)),Dm}var dS;function aB(){return dS||(dS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W4(),r=pP(),n=V4(),i=iB();function a(o,c=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(c)):[]}e.uniqBy=a}(Cm)),Cm}var eg,fS;function sB(){return fS||(fS=1,eg=aB().uniqBy),eg}var oB=sB();const hS=kn(oB);function bP(e,t,r){return t===!0?hS(e,r):typeof t=="function"?hS(e,t):e}var tg={exports:{}},rg={},ng={exports:{}},ig={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pS;function lB(){if(pS)return ig;pS=1;var e=ko();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function c(m,g){var x=g(),w=n({inst:{value:x,getSnapshot:g}}),b=w[0].inst,S=w[1];return a(function(){b.value=x,b.getSnapshot=g,u(b)&&S({inst:b})},[m,x,g]),i(function(){return u(b)&&S({inst:b}),m(function(){u(b)&&S({inst:b})})},[m]),o(x),x}function u(m){var g=m.getSnapshot;m=m.value;try{var x=g();return!r(m,x)}catch{return!0}}function d(m,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return ig.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,ig}var mS;function uB(){return mS||(mS=1,ng.exports=lB()),ng.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gS;function cB(){if(gS)return rg;gS=1;var e=ko(),t=uB();function r(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,c=e.useMemo,u=e.useDebugValue;return rg.useSyncExternalStoreWithSelector=function(d,f,m,g,x){var w=a(null);if(w.current===null){var b={hasValue:!1,value:null};w.current=b}else b=w.current;w=c(function(){function j(A){if(!C){if(C=!0,E=A,A=g(A),x!==void 0&&b.hasValue){var T=b.value;if(x(T,A))return P=T}return P=A}if(T=P,n(E,A))return T;var D=g(A);return x!==void 0&&x(T,D)?(E=A,T):(E=A,P=D)}var C=!1,E,P,N=m===void 0?null:m;return[function(){return j(f())},N===null?void 0:function(){return j(N())}]},[f,m,g,x]);var S=i(d,w[0],w[1]);return o(function(){b.hasValue=!0,b.value=S},[S]),u(S),S},rg}var vS;function dB(){return vS||(vS=1,tg.exports=cB()),tg.exports}var fB=dB(),d0=y.createContext(null),hB=e=>e,Tt=()=>{var e=y.useContext(d0);return e?e.store.dispatch:hB},_d=()=>{},pB=()=>_d,mB=(e,t)=>e===t;function ke(e){var t=y.useContext(d0);return fB.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:pB,t?t.store.getState:_d,t?t.store.getState:_d,t?e:_d,mB)}function gB(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function vB(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function yB(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var yS=e=>Array.isArray(e)?e:[e];function xB(e){const t=Array.isArray(e[0])?e[0]:e;return yB(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function bB(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var wB=class{constructor(e){this.value=e}deref(){return this.value}},_B=typeof WeakRef<"u"?WeakRef:wB,SB=0,xS=1;function id(){return{s:SB,v:void 0,o:null,p:null}}function wP(e,t={}){let r=id();const{resultEqualityCheck:n}=t;let i,a=0;function o(){let c=r;const{length:u}=arguments;for(let m=0,g=u;m<g;m++){const x=arguments[m];if(typeof x=="function"||typeof x=="object"&&x!==null){let w=c.o;w===null&&(c.o=w=new WeakMap);const b=w.get(x);b===void 0?(c=id(),w.set(x,c)):c=b}else{let w=c.p;w===null&&(c.p=w=new Map);const b=w.get(x);b===void 0?(c=id(),w.set(x,c)):c=b}}const d=c;let f;if(c.s===xS)f=c.v;else if(f=e.apply(null,arguments),a++,n){const m=i?.deref?.()??i;m!=null&&n(m,f)&&(f=m,a!==0&&a--),i=typeof f=="object"&&f!==null||typeof f=="function"?new _B(f):f}return d.s=xS,d.v=f,f}return o.clearCache=()=>{r=id(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function jB(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,o=0,c,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),gB(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...r,...u},{memoize:m,memoizeOptions:g=[],argsMemoize:x=wP,argsMemoizeOptions:w=[]}=f,b=yS(g),S=yS(w),j=xB(i),C=m(function(){return a++,d.apply(null,arguments)},...b),E=x(function(){o++;const N=bB(j,arguments);return c=C.apply(null,N),c},...S);return Object.assign(E,{resultFunc:d,memoizedResultFunc:C,dependencies:j,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:m,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var X=jB(wP),kB=Object.assign((e,t=X)=>{vB(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((o,c,u)=>(o[r[u]]=c,o),{}))},{withTypes:()=>kB}),ag={},sg={},og={},bS;function EB(){return bS||(bS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=t(n),c=t(i);if(o===c&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?c-o:o-c}return 0};e.compareValues=r}(og)),og}var lg={},ug={},wS;function _P(){return wS||(wS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t}(ug)),ug}var _S;function CB(){return _S||(_S=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_P(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i}(lg)),lg}var SS;function PB(){return SS||(SS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EB(),r=CB(),n=Yy();function i(a,o,c,u){if(a==null)return[];c=u?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(x=>String(x));const d=(x,w)=>{let b=x;for(let S=0;S<w.length&&b!=null;++S)b=b[w[S]];return b},f=(x,w)=>w==null||x==null?w:typeof x=="object"&&"key"in x?Object.hasOwn(w,x.key)?w[x.key]:d(w,x.path):typeof x=="function"?x(w):Array.isArray(x)?d(w,x):typeof w=="object"?w[x]:w,m=o.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||r.isKey(x)?x:{key:x,path:n.toPath(x)}));return a.map(x=>({original:x,criteria:m.map(w=>f(w,x))})).slice().sort((x,w)=>{for(let b=0;b<m.length;b++){const S=t.compareValues(x.criteria[b],w.criteria[b],c[b]);if(S!==0)return S}return 0}).map(x=>x.original)}e.orderBy=i}(sg)),sg}var cg={},jS;function NB(){return jS||(jS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),o=(c,u)=>{for(let d=0;d<c.length;d++){const f=c[d];Array.isArray(f)&&u<a?o(f,u+1):i.push(f)}};return o(r,0),i}e.flatten=t}(cg)),cg}var dg={},kS;function SP(){return kS||(kS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xP(),r=s0(),n=mP(),i=o0();function a(o,c,u){return n.isObject(u)&&(typeof c=="number"&&r.isArrayLike(u)&&t.isIndex(c)&&c<u.length||typeof c=="string"&&c in u)?i.eq(u[c],o):!1}e.isIterateeCall=a}(dg)),dg}var ES;function OB(){return ES||(ES=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PB(),r=NB(),n=SP();function i(a,...o){const c=o.length;return c>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:c>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,r.flatten(o),["asc"])}e.sortBy=i}(ag)),ag}var fg,CS;function AB(){return CS||(CS=1,fg=OB().sortBy),fg}var TB=AB();const Df=kn(TB);var jP=e=>e.legend.settings,IB=e=>e.legend.size,DB=e=>e.legend.payload,RB=X([DB,jP],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Df(n,r):n});function MB(){return ke(RB)}var ad=1;function kP(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=y.useState({height:0,left:0,top:0,width:0}),n=y.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>ad||Math.abs(o.left-t.left)>ad||Math.abs(o.top-t.top)>ad||Math.abs(o.width-t.width)>ad)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function sr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var LB=typeof Symbol=="function"&&Symbol.observable||"@@observable",PS=LB,hg=()=>Math.random().toString(36).substring(7).split("").join("."),$B={INIT:`@@redux/INIT${hg()}`,REPLACE:`@@redux/REPLACE${hg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${hg()}`},$d=$B;function f0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function EP(e,t,r){if(typeof e!="function")throw new Error(sr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(sr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(sr(1));return r(EP)(e,t)}let n=e,i=t,a=new Map,o=a,c=0,u=!1;function d(){o===a&&(o=new Map,a.forEach((S,j)=>{o.set(j,S)}))}function f(){if(u)throw new Error(sr(3));return i}function m(S){if(typeof S!="function")throw new Error(sr(4));if(u)throw new Error(sr(5));let j=!0;d();const C=c++;return o.set(C,S),function(){if(j){if(u)throw new Error(sr(6));j=!1,d(),o.delete(C),a=null}}}function g(S){if(!f0(S))throw new Error(sr(7));if(typeof S.type>"u")throw new Error(sr(8));if(typeof S.type!="string")throw new Error(sr(17));if(u)throw new Error(sr(9));try{u=!0,i=n(i,S)}finally{u=!1}return(a=o).forEach(C=>{C()}),S}function x(S){if(typeof S!="function")throw new Error(sr(10));n=S,g({type:$d.REPLACE})}function w(){const S=m;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(sr(11));function C(){const P=j;P.next&&P.next(f())}return C(),{unsubscribe:S(C)}},[PS](){return this}}}return g({type:$d.INIT}),{dispatch:g,subscribe:m,getState:f,replaceReducer:x,[PS]:w}}function BB(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:$d.INIT})>"u")throw new Error(sr(12));if(typeof r(void 0,{type:$d.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(sr(13))})}function CP(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{BB(r)}catch(a){i=a}return function(o={},c){if(i)throw i;let u=!1;const d={};for(let f=0;f<n.length;f++){const m=n[f],g=r[m],x=o[m],w=g(x,c);if(typeof w>"u")throw c&&c.type,new Error(sr(14));d[m]=w,u=u||w!==x}return u=u||n.length!==Object.keys(o).length,u?d:o}}function Bd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function FB(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(sr(15))};const o={getState:i.getState,dispatch:(u,...d)=>a(u,...d)},c=e.map(u=>u(o));return a=Bd(...c)(i.dispatch),{...i,dispatch:a}}}function PP(e){return f0(e)&&"type"in e&&typeof e.type=="string"}var NP=Symbol.for("immer-nothing"),NS=Symbol.for("immer-draftable"),nn=Symbol.for("immer-state");function Un(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var yo=Object.getPrototypeOf;function ds(e){return!!e&&!!e[nn]}function $i(e){return e?OP(e)||Array.isArray(e)||!!e[NS]||!!e.constructor?.[NS]||Mf(e)||Lf(e):!1}var zB=Object.prototype.constructor.toString();function OP(e){if(!e||typeof e!="object")return!1;const t=yo(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===zB}function Fd(e,t){Rf(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Rf(e){const t=e[nn];return t?t.type_:Array.isArray(e)?1:Mf(e)?2:Lf(e)?3:0}function Iv(e,t){return Rf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function AP(e,t,r){const n=Rf(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function UB(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Mf(e){return e instanceof Map}function Lf(e){return e instanceof Set}function Va(e){return e.copy_||e.base_}function Dv(e,t){if(Mf(e))return new Map(e);if(Lf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=OP(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[nn];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],c=n[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[o]})}return Object.create(yo(e),n)}else{const n=yo(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function h0(e,t=!1){return $f(e)||ds(e)||!$i(e)||(Rf(e)>1&&(e.set=e.add=e.clear=e.delete=qB),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>h0(n,!0))),e}function qB(){Un(2)}function $f(e){return Object.isFrozen(e)}var WB={};function fs(e){const t=WB[e];return t||Un(0,e),t}var tu;function TP(){return tu}function KB(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function OS(e,t){t&&(fs("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Rv(e){Mv(e),e.drafts_.forEach(HB),e.drafts_=null}function Mv(e){e===tu&&(tu=e.parent_)}function AS(e){return tu=KB(tu,e)}function HB(e){const t=e[nn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function TS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[nn].modified_&&(Rv(t),Un(4)),$i(e)&&(e=zd(t,e),t.parent_||Ud(t,e)),t.patches_&&fs("Patches").generateReplacementPatches_(r[nn].base_,e,t.patches_,t.inversePatches_)):e=zd(t,r,[]),Rv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==NP?e:void 0}function zd(e,t,r){if($f(t))return t;const n=t[nn];if(!n)return Fd(t,(i,a)=>IS(e,n,t,i,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Ud(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,o=!1;n.type_===3&&(a=new Set(i),i.clear(),o=!0),Fd(a,(c,u)=>IS(e,n,i,c,u,r,o)),Ud(e,i,!1),r&&e.patches_&&fs("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function IS(e,t,r,n,i,a,o){if(ds(i)){const c=a&&t&&t.type_!==3&&!Iv(t.assigned_,n)?a.concat(n):void 0,u=zd(e,i,c);if(AP(r,n,u),ds(u))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if($i(i)&&!$f(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;zd(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Ud(e,i)}}function Ud(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&h0(t,r)}function VB(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:TP(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=p0;r&&(i=[n],a=ru);const{revoke:o,proxy:c}=Proxy.revocable(i,a);return n.draft_=c,n.revoke_=o,c}var p0={get(e,t){if(t===nn)return e;const r=Va(e);if(!Iv(r,t))return YB(e,r,t);const n=r[t];return e.finalized_||!$i(n)?n:n===pg(e.base_,t)?(mg(e),e.copy_[t]=$v(n,e)):n},has(e,t){return t in Va(e)},ownKeys(e){return Reflect.ownKeys(Va(e))},set(e,t,r){const n=IP(Va(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=pg(Va(e),t),a=i?.[nn];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(UB(r,i)&&(r!==void 0||Iv(e.base_,t)))return!0;mg(e),Lv(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return pg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,mg(e),Lv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Va(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Un(11)},getPrototypeOf(e){return yo(e.base_)},setPrototypeOf(){Un(12)}},ru={};Fd(p0,(e,t)=>{ru[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ru.deleteProperty=function(e,t){return ru.set.call(this,e,t,void 0)};ru.set=function(e,t,r){return p0.set.call(this,e[0],t,r,e[0])};function pg(e,t){const r=e[nn];return(r?Va(r):e)[t]}function YB(e,t,r){const n=IP(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function IP(e,t){if(!(t in e))return;let r=yo(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=yo(r)}}function Lv(e){e.modified_||(e.modified_=!0,e.parent_&&Lv(e.parent_))}function mg(e){e.copy_||(e.copy_=Dv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var GB=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const o=this;return function(u=a,...d){return o.produce(u,f=>r.call(this,f,...d))}}typeof r!="function"&&Un(6),n!==void 0&&typeof n!="function"&&Un(7);let i;if($i(t)){const a=AS(this),o=$v(t,void 0);let c=!0;try{i=r(o),c=!1}finally{c?Rv(a):Mv(a)}return OS(a,n),TS(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===NP&&(i=void 0),this.autoFreeze_&&h0(i,!0),n){const a=[],o=[];fs("Patches").generateReplacementPatches_(t,i,a,o),n(a,o)}return i}else Un(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...c)=>this.produceWithPatches(o,u=>t(u,...c));let n,i;return[this.produce(t,r,(o,c)=>{n=o,i=c}),n,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){$i(e)||Un(8),ds(e)&&(e=Ii(e));const t=AS(this),r=$v(e,void 0);return r[nn].isManual_=!0,Mv(t),r}finishDraft(e,t){const r=e&&e[nn];(!r||!r.isManual_)&&Un(9);const{scope_:n}=r;return OS(n,t),TS(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=fs("Patches").applyPatches_;return ds(e)?n(e,t):this.produce(e,i=>n(i,t))}};function $v(e,t){const r=Mf(e)?fs("MapSet").proxyMap_(e,t):Lf(e)?fs("MapSet").proxySet_(e,t):VB(e,t);return(t?t.scope_:TP()).drafts_.push(r),r}function Ii(e){return ds(e)||Un(10,e),DP(e)}function DP(e){if(!$i(e)||$f(e))return e;const t=e[nn];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Dv(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Dv(e,!0);return Fd(r,(n,i)=>{AP(r,n,DP(i))}),t&&(t.finalized_=!1),r}var an=new GB,RP=an.produce;an.produceWithPatches.bind(an);an.setAutoFreeze.bind(an);an.setUseStrictShallowCopy.bind(an);an.applyPatches.bind(an);an.createDraft.bind(an);an.finishDraft.bind(an);function MP(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var XB=MP(),QB=MP,JB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Bd:Bd.apply(null,arguments)};function _n(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(rn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>PP(n)&&n.type===e,r}var LP=class Ll extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ll.prototype)}static get[Symbol.species](){return Ll}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ll(...t[0].concat(this)):new Ll(...t.concat(this))}};function DS(e){return $i(e)?RP(e,()=>{}):e}function sd(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function ZB(e){return typeof e=="boolean"}var e6=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new LP;return r&&(ZB(r)?o.push(XB):o.push(QB(r.extraArgument))),o},t6="RTK_autoBatch",RS=e=>t=>{setTimeout(t,e)},r6=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,o=!1;const c=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:RS(10):e.type==="callback"?e.queueNotification:RS(e.timeout),d=()=>{o=!1,a&&(a=!1,c.forEach(f=>f()))};return Object.assign({},n,{subscribe(f){const m=()=>i&&f(),g=n.subscribe(m);return c.add(f),()=>{g(),c.delete(f)}},dispatch(f){try{return i=!f?.meta?.[t6],a=!i,a&&(o||(o=!0,u(d))),n.dispatch(f)}finally{i=!0}}})},n6=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new LP(e);return n&&i.push(r6(typeof n=="object"?n:void 0)),i};function i6(e){const t=e6(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(f0(r))c=CP(r);else throw new Error(rn(1));let u;typeof n=="function"?u=n(t):u=t();let d=Bd;i&&(d=JB({trace:!1,...typeof i=="object"&&i}));const f=FB(...u),m=n6(f);let g=typeof o=="function"?o(m):m();const x=d(...g);return EP(c,a,x)}function $P(e){const t={},r=[];let n;const i={addCase(a,o){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(rn(28));if(c in t)throw new Error(rn(29));return t[c]=o,i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function a6(e){return typeof e=="function"}function s6(e,t){let[r,n,i]=$P(t),a;if(a6(e))a=()=>DS(e());else{const c=DS(e);a=()=>c}function o(c=a(),u){let d=[r[u.type],...n.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[i]),d.reduce((f,m)=>{if(m)if(ds(f)){const x=m(f,u);return x===void 0?f:x}else{if($i(f))return RP(f,g=>m(g,u));{const g=m(f,u);if(g===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return f},c)}return o.getInitialState=a,o}var o6="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",l6=(e=21)=>{let t="",r=e;for(;r--;)t+=o6[Math.random()*64|0];return t},u6=Symbol.for("rtk-slice-createasyncthunk");function c6(e,t){return`${e}/${t}`}function d6({creators:e}={}){const t=e?.asyncThunk?.[u6];return function(n){const{name:i,reducerPath:a=i}=n;if(!i)throw new Error(rn(11));const o=(typeof n.reducers=="function"?n.reducers(h6()):n.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(E,P){const N=typeof E=="string"?E:E.type;if(!N)throw new Error(rn(12));if(N in u.sliceCaseReducersByType)throw new Error(rn(13));return u.sliceCaseReducersByType[N]=P,d},addMatcher(E,P){return u.sliceMatchers.push({matcher:E,reducer:P}),d},exposeAction(E,P){return u.actionCreators[E]=P,d},exposeCaseReducer(E,P){return u.sliceCaseReducersByName[E]=P,d}};c.forEach(E=>{const P=o[E],N={reducerName:E,type:c6(i,E),createNotation:typeof n.reducers=="function"};m6(P)?v6(N,P,d,t):p6(N,P,d)});function f(){const[E={},P=[],N=void 0]=typeof n.extraReducers=="function"?$P(n.extraReducers):[n.extraReducers],A={...E,...u.sliceCaseReducersByType};return s6(n.initialState,T=>{for(let D in A)T.addCase(D,A[D]);for(let D of u.sliceMatchers)T.addMatcher(D.matcher,D.reducer);for(let D of P)T.addMatcher(D.matcher,D.reducer);N&&T.addDefaultCase(N)})}const m=E=>E,g=new Map,x=new WeakMap;let w;function b(E,P){return w||(w=f()),w(E,P)}function S(){return w||(w=f()),w.getInitialState()}function j(E,P=!1){function N(T){let D=T[E];return typeof D>"u"&&P&&(D=sd(x,N,S)),D}function A(T=m){const D=sd(g,P,()=>new WeakMap);return sd(D,T,()=>{const F={};for(const[z,L]of Object.entries(n.selectors??{}))F[z]=f6(L,T,()=>sd(x,T,S),P);return F})}return{reducerPath:E,getSelectors:A,get selectors(){return A(N)},selectSlice:N}}const C={name:i,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:S,...j(a),injectInto(E,{reducerPath:P,...N}={}){const A=P??a;return E.inject({reducerPath:A,reducer:b},N),{...C,...j(A,!0)}}};return C}}function f6(e,t,r,n){function i(a,...o){let c=t(a);return typeof c>"u"&&n&&(c=r()),e(c,...o)}return i.unwrapped=e,i}var Cn=d6();function h6(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function p6({type:e,reducerName:t,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!g6(n))throw new Error(rn(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?_n(e,o):_n(e))}function m6(e){return e._reducerDefinitionType==="asyncThunk"}function g6(e){return e._reducerDefinitionType==="reducerWithPrepare"}function v6({type:e,reducerName:t},r,n,i){if(!i)throw new Error(rn(18));const{payloadCreator:a,fulfilled:o,pending:c,rejected:u,settled:d,options:f}=r,m=i(e,a,f);n.exposeAction(t,m),o&&n.addCase(m.fulfilled,o),c&&n.addCase(m.pending,c),u&&n.addCase(m.rejected,u),d&&n.addMatcher(m.settled,d),n.exposeCaseReducer(t,{fulfilled:o||od,pending:c||od,rejected:u||od,settled:d||od})}function od(){}var y6="task",BP="listener",FP="completed",m0="cancelled",x6=`task-${m0}`,b6=`task-${FP}`,Bv=`${BP}-${m0}`,w6=`${BP}-${FP}`,Bf=class{constructor(e){this.code=e,this.message=`${y6} ${m0} (reason: ${e})`}name="TaskAbortError";message},g0=(e,t)=>{if(typeof e!="function")throw new TypeError(rn(32))},qd=()=>{},zP=(e,t=qd)=>(e.catch(t),e),UP=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ns=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},is=e=>{if(e.aborted){const{reason:t}=e;throw new Bf(t)}};function qP(e,t){let r=qd;return new Promise((n,i)=>{const a=()=>i(new Bf(e.reason));if(e.aborted){a();return}r=UP(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=qd})}var _6=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Bf?"cancelled":"rejected",error:r}}finally{t?.()}},Wd=e=>t=>zP(qP(e,t).then(r=>(is(e),r))),WP=e=>{const t=Wd(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:ho}=Object,MS={},Ff="listenerMiddleware",S6=(e,t)=>{const r=n=>UP(e,()=>ns(n,e.reason));return(n,i)=>{g0(n);const a=new AbortController;r(a);const o=_6(async()=>{is(e),is(a.signal);const c=await n({pause:Wd(a.signal),delay:WP(a.signal),signal:a.signal});return is(a.signal),c},()=>ns(a,b6));return i?.autoJoin&&t.push(o.catch(qd)),{result:Wd(e)(o),cancel(){ns(a,x6)}}}},j6=(e,t)=>{const r=async(n,i)=>{is(t);let a=()=>{};const c=[new Promise((u,d)=>{let f=e({predicate:n,effect:(m,g)=>{g.unsubscribe(),u([m,g.getState(),g.getOriginalState()])}});a=()=>{f(),d()}})];i!=null&&c.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await qP(t,Promise.race(c));return is(t),u}finally{a()}};return(n,i)=>zP(r(n,i))},KP=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=_n(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(rn(21));return g0(a),{predicate:i,type:t,effect:a}},HP=ho(e=>{const{type:t,predicate:r,effect:n}=KP(e);return{id:l6(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(rn(22))}}},{withTypes:()=>HP}),LS=(e,t)=>{const{type:r,effect:n,predicate:i}=KP(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},Fv=e=>{e.pending.forEach(t=>{ns(t,Bv)})},k6=e=>()=>{e.forEach(Fv),e.clear()},$S=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},VP=ho(_n(`${Ff}/add`),{withTypes:()=>VP}),E6=_n(`${Ff}/removeAll`),YP=ho(_n(`${Ff}/remove`),{withTypes:()=>YP}),C6=(...e)=>{console.error(`${Ff}/error`,...e)},ku=(e={})=>{const t=new Map,{extra:r,onError:n=C6}=e;g0(n);const i=f=>(f.unsubscribe=()=>t.delete(f.id),t.set(f.id,f),m=>{f.unsubscribe(),m?.cancelActive&&Fv(f)}),a=f=>{const m=LS(t,f)??HP(f);return i(m)};ho(a,{withTypes:()=>a});const o=f=>{const m=LS(t,f);return m&&(m.unsubscribe(),f.cancelActive&&Fv(m)),!!m};ho(o,{withTypes:()=>o});const c=async(f,m,g,x)=>{const w=new AbortController,b=j6(a,w.signal),S=[];try{f.pending.add(w),await Promise.resolve(f.effect(m,ho({},g,{getOriginalState:x,condition:(j,C)=>b(j,C).then(Boolean),take:b,delay:WP(w.signal),pause:Wd(w.signal),extra:r,signal:w.signal,fork:S6(w.signal,S),unsubscribe:f.unsubscribe,subscribe:()=>{t.set(f.id,f)},cancelActiveListeners:()=>{f.pending.forEach((j,C,E)=>{j!==w&&(ns(j,Bv),E.delete(j))})},cancel:()=>{ns(w,Bv),f.pending.delete(w)},throwIfCancelled:()=>{is(w.signal)}})))}catch(j){j instanceof Bf||$S(n,j,{raisedBy:"effect"})}finally{await Promise.all(S),ns(w,w6),f.pending.delete(w)}},u=k6(t);return{middleware:f=>m=>g=>{if(!PP(g))return m(g);if(VP.match(g))return a(g.payload);if(E6.match(g)){u();return}if(YP.match(g))return o(g.payload);let x=f.getState();const w=()=>{if(x===MS)throw new Error(rn(23));return x};let b;try{if(b=m(g),t.size>0){const S=f.getState(),j=Array.from(t.values());for(const C of j){let E=!1;try{E=C.predicate(g,S,x)}catch(P){E=!1,$S(n,P,{raisedBy:"predicate"})}E&&c(C,g,f,w)}}}finally{x=MS}return b},startListening:a,stopListening:o,clearListeners:u}};function rn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var P6={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},GP=Cn({name:"chartLayout",initialState:P6,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:N6,setLayout:O6,setChartSize:A6,setScale:T6}=GP.actions,I6=GP.reducer;function BS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function FS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BS(Object(r),!0).forEach(function(n){D6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D6(e,t,r){return(t=R6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R6(e){var t=M6(e,"string");return typeof t=="symbol"?t:t+""}function M6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kd=Math.PI/180,L6=e=>e*180/Math.PI,ur=(e,t,r,n)=>({x:e+Math.cos(-Kd*n)*r,y:t+Math.sin(-Kd*n)*r}),$6=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},B6=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},F6=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,o=B6({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var c=(r-i)/o,u=Math.acos(c);return n>a&&(u=2*Math.PI-u),{radius:o,angle:L6(u),angleInRadian:u}},z6=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},U6=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return e+o*360},q6=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:a}=F6({x:r,y:n},t),{innerRadius:o,outerRadius:c}=t;if(i<o||i>c||i===0)return null;var{startAngle:u,endAngle:d}=z6(t),f=a,m;if(u<=d){for(;f>d;)f-=360;for(;f<u;)f+=360;m=f>=u&&f<=d}else{for(;f>u;)f-=360;for(;f<d;)f+=360;m=f>=d&&f<=u}return m?FS(FS({},t),{},{radius:i,angle:U6(f,t)}):null};function zS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zS(Object(r),!0).forEach(function(n){W6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W6(e,t,r){return(t=K6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K6(e){var t=H6(e,"string");return typeof t=="symbol"?t:t+""}function H6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qt(e,t,r){return st(e)||st(t)?r:oi(t)?us(e,t,r):typeof t=="function"?t(e):r}var V6=(e,t,r,n,i)=>{var a,o=-1,c=(a=t?.length)!==null&&a!==void 0?a:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<c;u++){var d=u>0?r[u-1].coordinate:r[c-1].coordinate,f=r[u].coordinate,m=u>=c-1?r[0].coordinate:r[u+1].coordinate,g=void 0;if(Lr(f-d)!==Lr(m-f)){var x=[];if(Lr(m-f)===Lr(i[1]-i[0])){g=m;var w=f+i[1]-i[0];x[0]=Math.min(w,(w+d)/2),x[1]=Math.max(w,(w+d)/2)}else{g=d;var b=m+i[1]-i[0];x[0]=Math.min(f,(b+f)/2),x[1]=Math.max(f,(b+f)/2)}var S=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(e>S[0]&&e<=S[1]||e>=x[0]&&e<=x[1]){({index:o}=r[u]);break}}else{var j=Math.min(d,m),C=Math.max(d,m);if(e>(j+f)/2&&e<=(C+f)/2){({index:o}=r[u]);break}}}else if(t){for(var E=0;E<c;E++)if(E===0&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E>0&&E<c-1&&e>(t[E].coordinate+t[E-1].coordinate)/2&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E===c-1&&e>(t[E].coordinate+t[E-1].coordinate)/2){({index:o}=t[E]);break}}return o},Y6=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:c}=t;if((c==="vertical"||c==="horizontal"&&o==="middle")&&a!=="center"&&ve(e[a]))return yn(yn({},e),{},{[a]:e[a]+(n||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&o!=="middle"&&ve(e[o]))return yn(yn({},e),{},{[o]:e[o]+(i||0)})}return e},fi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",XP=(e,t,r,n)=>{if(n)return e.map(c=>c.coordinate);var i,a,o=e.map(c=>(c.coordinate===t&&(i=!0),c.coordinate===r&&(a=!0),c.coordinate));return i||o.push(t),a||o.push(r),o},QP=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:c,isCategorical:u,categoricalDomain:d,tickCount:f,ticks:m,niceTicks:g,axisType:x}=e;if(!o)return null;var w=c==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,b=i==="category"&&o.bandwidth?o.bandwidth()/w:0;if(b=x==="angleAxis"&&a&&a.length>=2?Lr(a[0]-a[1])*2*b:b,m||g){var S=(m||g||[]).map((j,C)=>{var E=n?n.indexOf(j):j;return{coordinate:o(E)+b,value:j,offset:b,index:C}});return S.filter(j=>!Br(j.coordinate))}return u&&d?d.map((j,C)=>({coordinate:o(j)+b,value:j,index:C,offset:b})):o.ticks&&f!=null?o.ticks(f).map((j,C)=>({coordinate:o(j)+b,value:j,offset:b,index:C})):o.domain().map((j,C)=>({coordinate:o(j)+b,value:n?n[j]:j,index:C,offset:b}))},US=1e-4,G6=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-US,a=Math.max(n[0],n[1])+US,o=e(t[0]),c=e(t[r-1]);(o<i||o>a||c<i||c>a)&&e.domain([t[0],t[r-1]])}},X6=(e,t)=>{if(!t||t.length!==2||!ve(t[0])||!ve(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ve(e[0])||e[0]<r)&&(i[0]=r),(!ve(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},Q6=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,o=0;o<t;++o){var c=Br(e[o][r][1])?e[o][r][0]:e[o][r][1];c>=0?(e[o][r][0]=i,e[o][r][1]=i+c,i=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+c,a=e[o][r][1])}},J6=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var o=Br(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=i,e[a][r][1]=i+o,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},Z6={sign:Q6,expand:P4,none:vo,silhouette:N4,wiggle:O4,positive:J6},eF=(e,t,r)=>{var n=Z6[r],i=C4().keys(t).value((a,o)=>+Qt(a,o,0)).order(Ov).offset(n);return i(e)};function v0(e){return e==null?void 0:String(e)}function Hd(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!st(i[t.dataKey])){var c=YC(r,"value",i[t.dataKey]);if(c)return c.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var u=Qt(i,st(o)?t.dataKey:o);return st(u)?null:t.scale(u)}var qS=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var c=Qt(a,t.dataKey,t.scale.domain()[o]);return st(c)?null:t.scale(c)-i/2+n},tF=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},rF=e=>{var t=e.flat(2).filter(ve);return[Math.min(...t),Math.max(...t)]},nF=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],iF=(e,t,r)=>{if(e!=null)return nF(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:o}=a,c=o.reduce((u,d)=>{var f=rF(d.slice(t,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]))},WS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,KS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hs=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Df(t,f=>f.coordinate),a=1/0,o=1,c=i.length;o<c;o++){var u=i[o],d=i[o-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function HS(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return yn(yn({},t),{},{dataKey:r,payload:n,value:i,name:a})}function Ao(e,t){if(e)return String(e);if(typeof t=="string")return t}function aF(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return n?q6({x:e,y:t},n):null}var sF=(e,t,r,n)=>{var i=t.find(d=>d&&d.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:o}=n;return yn(yn(yn({},n),ur(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var c=i.coordinate,{angle:u}=n;return yn(yn(yn({},n),ur(n.cx,n.cy,c,u)),{},{angle:u,radius:c})}return{x:0,y:0}},oF=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Ui=e=>e.layout.width,qi=e=>e.layout.height,lF=e=>e.layout.scale,JP=e=>e.layout.margin,y0=X(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),x0=X(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),uF="data-recharts-item-index",cF="data-recharts-item-data-key",zf=60;function VS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VS(Object(r),!0).forEach(function(n){dF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dF(e,t,r){return(t=fF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fF(e){var t=hF(e,"string");return typeof t=="symbol"?t:t+""}function hF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pF=e=>e.brush.height,Zt=X([Ui,qi,JP,pF,y0,x0,jP,IB],(e,t,r,n,i,a,o,c)=>{var u=a.reduce((w,b)=>{var{orientation:S}=b;if(!b.mirror&&!b.hide){var j=typeof b.width=="number"?b.width:zf;return pa(pa({},w),{},{[S]:w[S]+j})}return w},{left:r.left||0,right:r.right||0}),d=i.reduce((w,b)=>{var{orientation:S}=b;return!b.mirror&&!b.hide?pa(pa({},w),{},{[S]:us(w,"".concat(S))+b.height}):w},{top:r.top||0,bottom:r.bottom||0}),f=pa(pa({},d),u),m=f.bottom;f.bottom+=n,f=Y6(f,o,c);var g=e-f.left-f.right,x=t-f.top-f.bottom;return pa(pa({brushBottom:m},f),{},{width:Math.max(g,0),height:Math.max(x,0)})}),mF=X(Zt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),ZP=X(Ui,qi,(e,t)=>({x:0,y:0,width:e,height:t})),gF=y.createContext(null),Sr=()=>y.useContext(gF)!=null,Uf=e=>e.brush,qf=X([Uf,Zt,JP],(e,t,r)=>({height:e.height,x:ve(e.x)?e.x:t.left,y:ve(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:ve(e.width)?e.width:t.width})),b0=()=>{var e,t=Sr(),r=ke(mF),n=ke(qf),i=(e=ke(Uf))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},vF={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},eN=()=>{var e;return(e=ke(Zt))!==null&&e!==void 0?e:vF},w0=()=>ke(Ui),_0=()=>ke(qi),yF={top:0,right:0,bottom:0,left:0},xF=()=>{var e;return(e=ke(t=>t.layout.margin))!==null&&e!==void 0?e:yF},Je=e=>e.layout.layoutType,Eu=()=>ke(Je),bF={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},tN=Cn({name:"legend",initialState:bF,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Ii(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:YS,setLegendSettings:wF,addLegendPayload:_F,removeLegendPayload:SF}=tN.actions,jF=tN.reducer,kF=["contextPayload"];function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zv.apply(null,arguments)}function GS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GS(Object(r),!0).forEach(function(n){S0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S0(e,t,r){return(t=EF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EF(e){var t=CF(e,"string");return typeof t=="symbol"?t:t+""}function CF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PF(e,t){if(e==null)return{};var r,n,i=NF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function NF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function OF(e){return e.value}function AF(e){var{contextPayload:t}=e,r=PF(e,kF),n=bP(t,e.payloadUniqBy,OF),i=xo(xo({},r),{},{payload:n});return y.isValidElement(e.content)?y.cloneElement(e.content,i):typeof e.content=="function"?y.createElement(e.content,i):y.createElement(a0,i)}function TF(e,t,r,n,i,a){var{layout:o,align:c,verticalAlign:u}=t,d,f;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(c==="center"&&o==="vertical"?d={left:((n||0)-a.width)/2}:d=c==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?f={top:((i||0)-a.height)/2}:f=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),xo(xo({},d),f)}function IF(e){var t=Tt();return y.useEffect(()=>{t(wF(e))},[t,e]),null}function DF(e){var t=Tt();return y.useEffect(()=>(t(YS(e)),()=>{t(YS({width:0,height:0}))}),[t,e]),null}function RF(e){var t=MB(),r=Q3(),n=xF(),{width:i,height:a,wrapperStyle:o,portal:c}=e,[u,d]=kP([t]),f=w0(),m=_0(),g=f-(n.left||0)-(n.right||0),x=Wf.getWidthOrHeight(e.layout,a,i,g),w=c?o:xo(xo({position:"absolute",width:x?.width||i||"auto",height:x?.height||a||"auto"},TF(o,e,n,f,m,u)),o),b=c??r;if(b==null)return null;var S=y.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:d},y.createElement(IF,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),y.createElement(DF,{width:u.width,height:u.height}),y.createElement(AF,zv({},e,x,{margin:n,chartWidth:f,chartHeight:m,contextPayload:t})));return Xa.createPortal(S,b)}class Wf extends y.PureComponent{static getWidthOrHeight(t,r,n,i){return t==="vertical"&&ve(r)?{height:r}:t==="horizontal"?{width:n||i}:null}render(){return y.createElement(RF,this.props)}}S0(Wf,"displayName","Legend");S0(Wf,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Uv(){return Uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uv.apply(null,arguments)}function XS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XS(Object(r),!0).forEach(function(n){MF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MF(e,t,r){return(t=LF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LF(e){var t=$F(e,"string");return typeof t=="symbol"?t:t+""}function $F(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BF(e){return Array.isArray(e)&&oi(e[0])&&oi(e[1])?e.join(" ~ "):e}var FF=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:c,wrapperClassName:u,labelClassName:d,label:f,labelFormatter:m,accessibilityLayer:g=!1}=e,x=()=>{if(a&&a.length){var N={padding:0,margin:0},A=(c?Df(a,c):a).map((T,D)=>{if(T.type==="none")return null;var F=T.formatter||o||BF,{value:z,name:L}=T,H=z,ne=L;if(F){var ce=F(z,L,T,D,a);if(Array.isArray(ce))[H,ne]=ce;else if(ce!=null)H=ce;else return null}var fe=gg({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},n);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:fe},oi(ne)?y.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,oi(ne)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},H),y.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:N},A)}return null},w=gg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=gg({margin:0},i),S=!st(f),j=S?f:"",C=Fe("recharts-default-tooltip",u),E=Fe("recharts-tooltip-label",d);S&&m&&a!==void 0&&a!==null&&(j=m(f,a));var P=g?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",Uv({className:C,style:w},P),y.createElement("p",{className:E,style:b},y.isValidElement(j)?j:"".concat(j)),x())},El="recharts-tooltip-wrapper",zF={visibility:"hidden"};function UF(e){var{coordinate:t,translateX:r,translateY:n}=e;return Fe(El,{["".concat(El,"-right")]:ve(r)&&t&&ve(t.x)&&r>=t.x,["".concat(El,"-left")]:ve(r)&&t&&ve(t.x)&&r<t.x,["".concat(El,"-bottom")]:ve(n)&&t&&ve(t.y)&&n>=t.y,["".concat(El,"-top")]:ve(n)&&t&&ve(t.y)&&n<t.y})}function QS(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:c,viewBox:u,viewBoxDimension:d}=e;if(a&&ve(a[n]))return a[n];var f=r[n]-c-(i>0?i:0),m=r[n]+i;if(t[n])return o[n]?f:m;var g=u[n];if(g==null)return 0;if(o[n]){var x=f,w=g;return x<w?Math.max(m,g):Math.max(f,g)}if(d==null)return 0;var b=m+c,S=g+d;return b>S?Math.max(f,g):Math.max(m,g)}function qF(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function WF(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:c,viewBox:u}=e,d,f,m;return o.height>0&&o.width>0&&r?(f=QS({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),m=QS({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),d=qF({translateX:f,translateY:m,useTranslate3d:c})):d=zF,{cssProperties:d,cssClasses:UF({translateX:f,translateY:m,coordinate:r})}}function JS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ld(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JS(Object(r),!0).forEach(function(n){qv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qv(e,t,r){return(t=KF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KF(e){var t=HF(e,"string");return typeof t=="symbol"?t:t+""}function HF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class VF extends y.PureComponent{constructor(){super(...arguments),qv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),qv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:c,isAnimationActive:u,offset:d,position:f,reverseDirection:m,useTranslate3d:g,viewBox:x,wrapperStyle:w,lastBoundingBox:b,innerRef:S,hasPortalFromProps:j}=this.props,{cssClasses:C,cssProperties:E}=WF({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:d,position:f,reverseDirection:m,tooltipBox:{height:b.height,width:b.width},useTranslate3d:g,viewBox:x}),P=j?{}:ld(ld({transition:u&&t?"transform ".concat(n,"ms ").concat(i):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),N=ld(ld({},P),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},w);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:N,ref:S},a)}}var YF=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),vs={isSsr:YF()},rN=()=>ke(e=>e.rootProps.accessibilityLayer);function cr(e){return Number.isFinite(e)}function Vd(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wv.apply(null,arguments)}function ZS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ej(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZS(Object(r),!0).forEach(function(n){GF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GF(e,t,r){return(t=XF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XF(e){var t=QF(e,"string");return typeof t=="symbol"?t:t+""}function QF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tj={curveBasisClosed:g4,curveBasisOpen:v4,curveBasis:m4,curveBumpX:t4,curveBumpY:r4,curveLinearClosed:y4,curveLinear:Tf,curveMonotoneX:x4,curveMonotoneY:b4,curveNatural:w4,curveStep:_4,curveStepAfter:j4,curveStepBefore:S4},ud=e=>cr(e.x)&&cr(e.y),Cl=e=>e.x,Pl=e=>e.y,JF=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(ju(e));return(r==="curveMonotone"||r==="curveBump")&&t?tj["".concat(r).concat(t==="vertical"?"Y":"X")]:tj[r]||Tf},ZF=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,o=JF(t,i),c=a?r.filter(ud):r,u;if(Array.isArray(n)){var d=a?n.filter(m=>ud(m)):n,f=c.map((m,g)=>ej(ej({},m),{},{base:d[g]}));return i==="vertical"?u=nd().y(Pl).x1(Cl).x0(m=>m.base.x):u=nd().x(Cl).y1(Pl).y0(m=>m.base.y),u.defined(ud).curve(o),u(f)}return i==="vertical"&&ve(n)?u=nd().y(Pl).x1(Cl).x0(n):ve(n)?u=nd().x(Cl).y1(Pl).y0(n):u=rP().x(Cl).y(Pl),u.defined(ud).curve(o),u(c)},ql=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?ZF(e):n;return y.createElement("path",Wv({},We(e,!1),Qy(e),{className:Fe("recharts-curve",t),d:a===null?void 0:a,ref:i}))},e5=["x","y","top","left","width","height","className"];function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kv.apply(null,arguments)}function rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function t5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rj(Object(r),!0).forEach(function(n){r5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r5(e,t,r){return(t=n5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n5(e){var t=i5(e,"string");return typeof t=="symbol"?t:t+""}function i5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a5(e,t){if(e==null)return{};var r,n,i=s5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function s5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var o5=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),l5=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:c}=e,u=a5(e,e5),d=t5({x:t,y:r,top:n,left:i,width:a,height:o},u);return!ve(t)||!ve(r)||!ve(a)||!ve(o)||!ve(n)||!ve(i)?null:y.createElement("path",Kv({},We(d,!0),{className:Fe("recharts-cross",c),d:o5(t,r,a,o,n,i)}))};function u5(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function c5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nj(Object(r),!0).forEach(function(n){d5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d5(e,t,r){return(t=f5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f5(e){var t=h5(e,"string");return typeof t=="symbol"?t:t+""}function h5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hi(e,t){var r=c5({},e),n=t,i=Object.keys(t),a=i.reduce((o,c)=>(o[c]===void 0&&n[c]!==void 0&&(o[c]=n[c]),o),r);return a}var vg={},yg={},xg={},ij;function p5(){return ij||(ij=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t}(xg)),xg}var aj;function m5(){return aj||(aj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p5(),r=vP(),n=u0(),i=c0(),a=o0();function o(d,f,m){return c(d,f,void 0,void 0,void 0,void 0,m)}function c(d,f,m,g,x,w,b){const S=b(d,f,m,g,x,w);if(S!==void 0)return S;if(typeof d==typeof f)switch(typeof d){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return d===f;case"number":return d===f||Object.is(d,f);case"function":return d===f;case"object":return u(d,f,w,b)}return u(d,f,w,b)}function u(d,f,m,g){if(Object.is(d,f))return!0;let x=n.getTag(d),w=n.getTag(f);if(x===i.argumentsTag&&(x=i.objectTag),w===i.argumentsTag&&(w=i.objectTag),x!==w)return!1;switch(x){case i.stringTag:return d.toString()===f.toString();case i.numberTag:{const j=d.valueOf(),C=f.valueOf();return a.eq(j,C)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(d.valueOf(),f.valueOf());case i.regexpTag:return d.source===f.source&&d.flags===f.flags;case i.functionTag:return d===f}m=m??new Map;const b=m.get(d),S=m.get(f);if(b!=null&&S!=null)return b===f;m.set(d,f),m.set(f,d);try{switch(x){case i.mapTag:{if(d.size!==f.size)return!1;for(const[j,C]of d.entries())if(!f.has(j)||!c(C,f.get(j),j,d,f,m,g))return!1;return!0}case i.setTag:{if(d.size!==f.size)return!1;const j=Array.from(d.values()),C=Array.from(f.values());for(let E=0;E<j.length;E++){const P=j[E],N=C.findIndex(A=>c(P,A,void 0,d,f,m,g));if(N===-1)return!1;C.splice(N,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(d)!==Buffer.isBuffer(f)||d.length!==f.length)return!1;for(let j=0;j<d.length;j++)if(!c(d[j],f[j],j,d,f,m,g))return!1;return!0}case i.arrayBufferTag:return d.byteLength!==f.byteLength?!1:u(new Uint8Array(d),new Uint8Array(f),m,g);case i.dataViewTag:return d.byteLength!==f.byteLength||d.byteOffset!==f.byteOffset?!1:u(new Uint8Array(d),new Uint8Array(f),m,g);case i.errorTag:return d.name===f.name&&d.message===f.message;case i.objectTag:{if(!(u(d.constructor,f.constructor,m,g)||t.isPlainObject(d)&&t.isPlainObject(f)))return!1;const C=[...Object.keys(d),...r.getSymbols(d)],E=[...Object.keys(f),...r.getSymbols(f)];if(C.length!==E.length)return!1;for(let P=0;P<C.length;P++){const N=C[P],A=d[N];if(!Object.hasOwn(f,N))return!1;const T=f[N];if(!c(A,T,N,d,f,m,g))return!1}return!0}default:return!1}}finally{m.delete(d),m.delete(f)}}e.isEqualWith=o}(yg)),yg}var bg={},sj;function g5(){return sj||(sj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(bg)),bg}var oj;function v5(){return oj||(oj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m5(),r=g5();function n(i,a){return t.isEqualWith(i,a,r.noop)}e.isEqual=n}(vg)),vg}var wg,lj;function y5(){return lj||(lj=1,wg=v5().isEqual),wg}var x5=y5();const b5=kn(x5);function w5(e){var t={},r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var c=o,[u,...d]=c;if(typeof u=="number"){i=e.setTimeout(a.bind(null,d),u);return}a(u),i=e.setTimeout(a.bind(null,d));return}typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}var Yd=1e-4,nN=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],iN=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),uj=(e,t)=>r=>{var n=nN(e,t);return iN(n,r)},_5=(e,t)=>r=>{var n=nN(e,t),i=[...n.map((a,o)=>a*o).slice(1),0];return iN(i,r)},cj=function(){for(var t,r,n,i,a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];if(o.length===1)switch(o[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var u=o[0].split("(");u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4&&([t,n,r,i]=u[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else o.length===4&&([t,n,r,i]=o);var d=uj(t,r),f=uj(n,i),m=_5(t,r),g=w=>w>1?1:w<0?0:w,x=w=>{for(var b=w>1?1:w,S=b,j=0;j<8;++j){var C=d(S)-b,E=m(S);if(Math.abs(C-b)<Yd||E<Yd)return f(S);S=g(S-C/E)}return f(S)};return x.isStepper=!1,x},S5=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(o,c,u)=>{var d=-(o-c)*r,f=u*n,m=u+(d-f)*i/1e3,g=u*i/1e3+o;return Math.abs(g-c)<Yd&&Math.abs(m)<Yd?[c,0]:[g,m]};return a.isStepper=!0,a.dt=i,a},j5=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return cj(e);case"spring":return S5();default:if(e.split("(")[0]==="cubic-bezier")return cj(e)}return typeof e=="function"?e:null};function dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dj(Object(r),!0).forEach(function(n){k5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k5(e,t,r){return(t=E5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E5(e){var t=C5(e,"string");return typeof t=="symbol"?t:t+""}function C5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P5=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),N5=(e,t,r)=>e.map(n=>"".concat(P5(n)," ").concat(t,"ms ").concat(r)).join(","),O5=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),nu=(e,t)=>Object.keys(t).reduce((r,n)=>fj(fj({},r),{},{[n]:e(n,t[n])}),{});function hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hj(Object(r),!0).forEach(function(n){A5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A5(e,t,r){return(t=T5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T5(e){var t=I5(e,"string");return typeof t=="symbol"?t:t+""}function I5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gd=(e,t,r)=>e+(t-e)*r,Hv=e=>{var{from:t,to:r}=e;return t!==r},aN=(e,t,r)=>{var n=nu((i,a)=>{if(Hv(a)){var[o,c]=e(a.from,a.to,a.velocity);return lr(lr({},a),{},{from:o,velocity:c})}return a},t);return r<1?nu((i,a)=>Hv(a)?lr(lr({},a),{},{velocity:Gd(a.velocity,n[i].velocity,r),from:Gd(a.from,n[i].from,r)}):a,t):aN(e,n,r-1)};function D5(e,t,r,n,i,a){var o,c=n.reduce((g,x)=>lr(lr({},g),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),u=()=>nu((g,x)=>x.from,c),d=()=>!Object.values(c).filter(Hv).length,f=null,m=g=>{o||(o=g);var x=g-o,w=x/r.dt;c=aN(r,c,w),i(lr(lr(lr({},e),t),u())),o=g,d()||(f=a.setTimeout(m))};return()=>(f=a.setTimeout(m),()=>{f()})}function R5(e,t,r,n,i,a,o){var c=null,u=i.reduce((m,g)=>lr(lr({},m),{},{[g]:[e[g],t[g]]}),{}),d,f=m=>{d||(d=m);var g=(m-d)/n,x=nu((b,S)=>Gd(...S,r(g)),u);if(a(lr(lr(lr({},e),t),x)),g<1)c=o.setTimeout(f);else{var w=nu((b,S)=>Gd(...S,r(1)),u);a(lr(lr(lr({},e),t),w))}};return()=>(c=o.setTimeout(f),()=>{c()})}const M5=(e,t,r,n,i,a)=>{var o=O5(e,t);return r.isStepper===!0?D5(e,t,r,o,i,a):R5(e,t,r,n,o,i,a)};class L5{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}var $5=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Vv(){return Vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vv.apply(null,arguments)}function B5(e,t){if(e==null)return{};var r,n,i=F5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function F5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(r),!0).forEach(function(n){Ja(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ja(e,t,r){return(t=z5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z5(e){var t=U5(e,"string");return typeof t=="symbol"?t:t+""}function U5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q5(){return w5(new L5)}class j0 extends y.PureComponent{constructor(t,r){super(t,r),Ja(this,"mounted",!1),Ja(this,"manager",null),Ja(this,"stopJSAnimation",null),Ja(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:a,to:o,children:c,duration:u,animationManager:d}=this.props;if(this.manager=d,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||u<=0){this.state={style:{}},typeof c=="function"&&(this.state={style:o});return}if(a){if(typeof c=="function"){this.state={style:a};return}this.state={style:i?{[i]:a}:a}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:a,to:o,from:c}=this.props,{style:u}=this.state;if(n){if(!r){var d={style:i?{[i]:o}:o};this.state&&u&&(i&&u[i]!==o||!i&&u!==o)&&this.setState(d);return}if(!(b5(t.to,o)&&t.canBegin&&t.isActive)){var f=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=f||a?c:t.to;if(this.state&&u){var g={style:i?{[i]:m}:m};(i&&u[i]!==m||!i&&u!==m)&&this.setState(g)}this.runAnimation(ma(ma({},this.props),{},{from:m,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:i,easing:a,begin:o,onAnimationEnd:c,onAnimationStart:u}=t,d=M5(r,n,j5(a),i,this.changeStyle,this.manager.getTimeoutController()),f=()=>{this.stopJSAnimation=d()};this.manager.start([u,o,f,i,c])}runAnimation(t){var{begin:r,duration:n,attributeName:i,to:a,easing:o,onAnimationStart:c,onAnimationEnd:u,children:d}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof d=="function"||o==="spring"){this.runJSAnimation(t);return}var f=i?{[i]:a}:a,m=N5(Object.keys(f),n,o);this.manager.start([c,r,ma(ma({},f),{},{transition:m}),n,u])}render(){var t=this.props,{children:r,begin:n,duration:i,attributeName:a,easing:o,isActive:c,from:u,to:d,canBegin:f,onAnimationEnd:m,shouldReAnimate:g,onAnimationReStart:x,animationManager:w}=t,b=B5(t,$5),S=y.Children.count(r),j=this.state.style;if(typeof r=="function")return r(j);if(!c||S===0||i<=0)return r;var C=E=>{var{style:P={},className:N}=E.props,A=y.cloneElement(E,ma(ma({},b),{},{style:ma(ma({},P),j),className:N}));return A};return S===1?C(y.Children.only(r)):y.createElement("div",null,y.Children.map(r,E=>C(E)))}}Ja(j0,"displayName","Animate");Ja(j0,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var W5=y.createContext(null);function Sa(e){var t,r,n=y.useContext(W5);return y.createElement(j0,Vv({},e,{animationManager:(t=(r=e.animationManager)!==null&&r!==void 0?r:n)!==null&&t!==void 0?t:q5()}))}function Xd(){return Xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xd.apply(null,arguments)}var mj=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,c=r>=0?1:-1,u=n>=0&&r>=0||n<0&&r<0?1:0,d;if(a>0&&i instanceof Array){for(var f=[0,0,0,0],m=0,g=4;m<g;m++)f[m]=i[m]>a?a:i[m];d="M".concat(e,",").concat(t+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(t)),d+="L ".concat(e+r-c*f[1],",").concat(t),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(t+o*f[1])),d+="L ".concat(e+r,",").concat(t+n-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-c*f[2],",").concat(t+n)),d+="L ".concat(e+c*f[3],",").concat(t+n),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+n-o*f[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var x=Math.min(a,i);d="M ".concat(e,",").concat(t+o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+c*x,",").concat(t,`
            L `).concat(e+r-c*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+r,",").concat(t+o*x,`
            L `).concat(e+r,",").concat(t+n-o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+r-c*x,",").concat(t+n,`
            L `).concat(e+c*x,",").concat(t+n,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e,",").concat(t+n-o*x," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return d},K5={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sN=e=>{var t=hi(e,K5),r=y.useRef(null),[n,i]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&i(j)}catch{}},[]);var{x:a,y:o,width:c,height:u,radius:d,className:f}=t,{animationEasing:m,animationDuration:g,animationBegin:x,isAnimationActive:w,isUpdateAnimationActive:b}=t;if(a!==+a||o!==+o||c!==+c||u!==+u||c===0||u===0)return null;var S=Fe("recharts-rectangle",f);return b?y.createElement(Sa,{canBegin:n>0,from:{width:c,height:u,x:a,y:o},to:{width:c,height:u,x:a,y:o},duration:g,animationEasing:m,isActive:b},j=>{var{width:C,height:E,x:P,y:N}=j;return y.createElement(Sa,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,isActive:w,easing:m},y.createElement("path",Xd({},We(t,!0),{className:S,d:mj(P,N,C,E,d),ref:r})))}):y.createElement("path",Xd({},We(t,!0),{className:S,d:mj(a,o,c,u,d)}))};function oN(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,o=ur(t,r,n,i),c=ur(t,r,n,a);return{points:[o,c],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function Yv(){return Yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yv.apply(null,arguments)}var H5=(e,t)=>{var r=Lr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},cd=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:c,cornerIsExternal:u}=e,d=c*(o?1:-1)+n,f=Math.asin(c/d)/Kd,m=u?i:i+a*f,g=ur(t,r,d,m),x=ur(t,r,n,m),w=u?i-a*f:i,b=ur(t,r,d*Math.cos(f*Kd),w);return{center:g,circleTangency:x,lineTangency:b,theta:f}},lN=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=e,c=H5(a,o),u=a+c,d=ur(t,r,i,a),f=ur(t,r,i,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(n>0){var g=ur(t,r,n,a),x=ur(t,r,n,u);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},V5=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d}=e,f=Lr(d-u),{circleTangency:m,lineTangency:g,theta:x}=cd({cx:t,cy:r,radius:i,angle:u,sign:f,cornerRadius:a,cornerIsExternal:c}),{circleTangency:w,lineTangency:b,theta:S}=cd({cx:t,cy:r,radius:i,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:c}),j=c?Math.abs(u-d):Math.abs(u-d)-x-S;if(j<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):lN({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:u,endAngle:d});var C="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(n>0){var{circleTangency:E,lineTangency:P,theta:N}=cd({cx:t,cy:r,radius:n,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:A,lineTangency:T,theta:D}=cd({cx:t,cy:r,radius:n,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),F=c?Math.abs(u-d):Math.abs(u-d)-N-D;if(F<0&&a===0)return"".concat(C,"L").concat(t,",").concat(r,"Z");C+="L".concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else C+="L".concat(t,",").concat(r,"Z");return C},Y5={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uN=e=>{var t=hi(e,Y5),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f,className:m}=t;if(a<i||d===f)return null;var g=Fe("recharts-sector",m),x=a-i,w=Kn(o,x,0,!0),b;return w>0&&Math.abs(d-f)<360?b=V5({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(w,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):b=lN({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:d,endAngle:f}),y.createElement("path",Yv({},We(t,!0),{className:g,d:b}))};function G5(e,t,r){var n,i,a,o;if(e==="horizontal")n=t.x,a=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:c,cy:u,innerRadius:d,outerRadius:f,angle:m}=t,g=ur(c,u,d,m),x=ur(c,u,f,m);n=g.x,i=g.y,a=x.x,o=x.y}else return oN(t);return[{x:n,y:i},{x:a,y:o}]}var _g={},Sg={},jg={},gj;function X5(){return gj||(gj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_P();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r}(jg)),jg}var vj;function Q5(){return vj||(vj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X5();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r}(Sg)),Sg}var yj;function J5(){return yj||(yj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SP(),r=Q5();function n(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const c=Math.max(Math.ceil((a-i)/(o||1)),0),u=new Array(c);for(let d=0;d<c;d++)u[d]=i,i+=o;return u}e.range=n}(_g)),_g}var kg,xj;function Z5(){return xj||(xj=1,kg=J5().range),kg}var ez=Z5();const cN=kn(ez);function wa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function tz(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function k0(e){let t,r,n;e.length!==2?(t=wa,r=(c,u)=>wa(e(c),u),n=(c,u)=>e(c)-u):(t=e===wa||e===tz?e:rz,r=e,n=e);function i(c,u,d=0,f=c.length){if(d<f){if(t(u,u)!==0)return f;do{const m=d+f>>>1;r(c[m],u)<0?d=m+1:f=m}while(d<f)}return d}function a(c,u,d=0,f=c.length){if(d<f){if(t(u,u)!==0)return f;do{const m=d+f>>>1;r(c[m],u)<=0?d=m+1:f=m}while(d<f)}return d}function o(c,u,d=0,f=c.length){const m=i(c,u,d,f-1);return m>d&&n(c[m-1],u)>-n(c[m],u)?m-1:m}return{left:i,center:o,right:a}}function rz(){return 0}function dN(e){return e===null?NaN:+e}function*nz(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const iz=k0(wa),Cu=iz.right;k0(dN).center;class bj extends Map{constructor(t,r=oz){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(wj(this,t))}has(t){return super.has(wj(this,t))}set(t,r){return super.set(az(this,t),r)}delete(t){return super.delete(sz(this,t))}}function wj({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function az({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function sz({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function oz(e){return e!==null&&typeof e=="object"?e.valueOf():e}function lz(e=wa){if(e===wa)return fN;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function fN(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const uz=Math.sqrt(50),cz=Math.sqrt(10),dz=Math.sqrt(2);function Qd(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=uz?10:a>=cz?5:a>=dz?2:1;let c,u,d;return i<0?(d=Math.pow(10,-i)/o,c=Math.round(e*d),u=Math.round(t*d),c/d<e&&++c,u/d>t&&--u,d=-d):(d=Math.pow(10,i)*o,c=Math.round(e/d),u=Math.round(t/d),c*d<e&&++c,u*d>t&&--u),u<c&&.5<=r&&r<2?Qd(e,t,r*2):[c,u,d]}function Gv(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?Qd(t,e,r):Qd(e,t,r);if(!(a>=i))return[];const c=a-i+1,u=new Array(c);if(n)if(o<0)for(let d=0;d<c;++d)u[d]=(a-d)/-o;else for(let d=0;d<c;++d)u[d]=(a-d)*o;else if(o<0)for(let d=0;d<c;++d)u[d]=(i+d)/-o;else for(let d=0;d<c;++d)u[d]=(i+d)*o;return u}function Xv(e,t,r){return t=+t,e=+e,r=+r,Qd(e,t,r)[2]}function Qv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Xv(t,e,r):Xv(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function _j(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Sj(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function hN(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?fN:lz(i);n>r;){if(n-r>600){const u=n-r+1,d=t-r+1,f=Math.log(u),m=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*m*(u-m)/u)*(d-u/2<0?-1:1),x=Math.max(r,Math.floor(t-d*m/u+g)),w=Math.min(n,Math.floor(t+(u-d)*m/u+g));hN(e,t,x,w,i)}const a=e[t];let o=r,c=n;for(Nl(e,r,t),i(e[n],a)>0&&Nl(e,r,n);o<c;){for(Nl(e,o,c),++o,--c;i(e[o],a)<0;)++o;for(;i(e[c],a)>0;)--c}i(e[r],a)===0?Nl(e,r,c):(++c,Nl(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function Nl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function fz(e,t,r){if(e=Float64Array.from(nz(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Sj(e);if(t>=1)return _j(e);var n,i=(n-1)*t,a=Math.floor(i),o=_j(hN(e,a).subarray(0,a+1)),c=Sj(e.subarray(a+1));return o+(c-o)*(i-a)}}function hz(e,t,r=dN){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),c=+r(e[a+1],a+1,e);return o+(c-o)*(i-a)}}function pz(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Pn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Wi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Jv=Symbol("implicit");function E0(){var e=new bj,t=[],r=[],n=Jv;function i(a){let o=e.get(a);if(o===void 0){if(n!==Jv)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new bj;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return E0(t,r).unknown(n)},Pn.apply(i,arguments),i}function C0(){var e=E0().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,c=!1,u=0,d=0,f=.5;delete e.unknown;function m(){var g=t().length,x=i<n,w=x?i:n,b=x?n:i;a=(b-w)/Math.max(1,g-u+d*2),c&&(a=Math.floor(a)),w+=(b-w-a*(g-u))*f,o=a*(1-u),c&&(w=Math.round(w),o=Math.round(o));var S=pz(g).map(function(j){return w+a*j});return r(x?S.reverse():S)}return e.domain=function(g){return arguments.length?(t(g),m()):t()},e.range=function(g){return arguments.length?([n,i]=g,n=+n,i=+i,m()):[n,i]},e.rangeRound=function(g){return[n,i]=g,n=+n,i=+i,c=!0,m()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(g){return arguments.length?(c=!!g,m()):c},e.padding=function(g){return arguments.length?(u=Math.min(1,d=+g),m()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),m()):u},e.paddingOuter=function(g){return arguments.length?(d=+g,m()):d},e.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),m()):f},e.copy=function(){return C0(t(),[n,i]).round(c).paddingInner(u).paddingOuter(d).align(f)},Pn.apply(m(),arguments)}function pN(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pN(t())},e}function mz(){return pN(C0.apply(null,arguments).paddingInner(1))}function P0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function mN(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Pu(){}var iu=.7,Jd=1/iu,po="\\s*([+-]?\\d+)\\s*",au="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",si="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gz=/^#([0-9a-f]{3,8})$/,vz=new RegExp(`^rgb\\(${po},${po},${po}\\)$`),yz=new RegExp(`^rgb\\(${si},${si},${si}\\)$`),xz=new RegExp(`^rgba\\(${po},${po},${po},${au}\\)$`),bz=new RegExp(`^rgba\\(${si},${si},${si},${au}\\)$`),wz=new RegExp(`^hsl\\(${au},${si},${si}\\)$`),_z=new RegExp(`^hsla\\(${au},${si},${si},${au}\\)$`),jj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};P0(Pu,su,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:kj,formatHex:kj,formatHex8:Sz,formatHsl:jz,formatRgb:Ej,toString:Ej});function kj(){return this.rgb().formatHex()}function Sz(){return this.rgb().formatHex8()}function jz(){return gN(this).formatHsl()}function Ej(){return this.rgb().formatRgb()}function su(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=gz.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Cj(t):r===3?new $r(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?dd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?dd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=vz.exec(e))?new $r(t[1],t[2],t[3],1):(t=yz.exec(e))?new $r(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=xz.exec(e))?dd(t[1],t[2],t[3],t[4]):(t=bz.exec(e))?dd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=wz.exec(e))?Oj(t[1],t[2]/100,t[3]/100,1):(t=_z.exec(e))?Oj(t[1],t[2]/100,t[3]/100,t[4]):jj.hasOwnProperty(e)?Cj(jj[e]):e==="transparent"?new $r(NaN,NaN,NaN,0):null}function Cj(e){return new $r(e>>16&255,e>>8&255,e&255,1)}function dd(e,t,r,n){return n<=0&&(e=t=r=NaN),new $r(e,t,r,n)}function kz(e){return e instanceof Pu||(e=su(e)),e?(e=e.rgb(),new $r(e.r,e.g,e.b,e.opacity)):new $r}function Zv(e,t,r,n){return arguments.length===1?kz(e):new $r(e,t,r,n??1)}function $r(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}P0($r,Zv,mN(Pu,{brighter(e){return e=e==null?Jd:Math.pow(Jd,e),new $r(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?iu:Math.pow(iu,e),new $r(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new $r(as(this.r),as(this.g),as(this.b),Zd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pj,formatHex:Pj,formatHex8:Ez,formatRgb:Nj,toString:Nj}));function Pj(){return`#${Za(this.r)}${Za(this.g)}${Za(this.b)}`}function Ez(){return`#${Za(this.r)}${Za(this.g)}${Za(this.b)}${Za((isNaN(this.opacity)?1:this.opacity)*255)}`}function Nj(){const e=Zd(this.opacity);return`${e===1?"rgb(":"rgba("}${as(this.r)}, ${as(this.g)}, ${as(this.b)}${e===1?")":`, ${e})`}`}function Zd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function as(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Za(e){return e=as(e),(e<16?"0":"")+e.toString(16)}function Oj(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new qn(e,t,r,n)}function gN(e){if(e instanceof qn)return new qn(e.h,e.s,e.l,e.opacity);if(e instanceof Pu||(e=su(e)),!e)return new qn;if(e instanceof qn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,c=a-i,u=(a+i)/2;return c?(t===a?o=(r-n)/c+(r<n)*6:r===a?o=(n-t)/c+2:o=(t-r)/c+4,c/=u<.5?a+i:2-a-i,o*=60):c=u>0&&u<1?0:o,new qn(o,c,u,e.opacity)}function Cz(e,t,r,n){return arguments.length===1?gN(e):new qn(e,t,r,n??1)}function qn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}P0(qn,Cz,mN(Pu,{brighter(e){return e=e==null?Jd:Math.pow(Jd,e),new qn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?iu:Math.pow(iu,e),new qn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new $r(Eg(e>=240?e-240:e+120,i,n),Eg(e,i,n),Eg(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new qn(Aj(this.h),fd(this.s),fd(this.l),Zd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Zd(this.opacity);return`${e===1?"hsl(":"hsla("}${Aj(this.h)}, ${fd(this.s)*100}%, ${fd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Aj(e){return e=(e||0)%360,e<0?e+360:e}function fd(e){return Math.max(0,Math.min(1,e||0))}function Eg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const N0=e=>()=>e;function Pz(e,t){return function(r){return e+r*t}}function Nz(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Oz(e){return(e=+e)==1?vN:function(t,r){return r-t?Nz(t,r,e):N0(isNaN(t)?r:t)}}function vN(e,t){var r=t-e;return r?Pz(e,r):N0(isNaN(e)?t:e)}const Tj=function e(t){var r=Oz(t);function n(i,a){var o=r((i=Zv(i)).r,(a=Zv(a)).r),c=r(i.g,a.g),u=r(i.b,a.b),d=vN(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=c(f),i.b=u(f),i.opacity=d(f),i+""}}return n.gamma=e,n}(1);function Az(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function Tz(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Iz(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=To(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(c){for(o=0;o<n;++o)a[o]=i[o](c);return a}}function Dz(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ef(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Rz(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=To(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var ey=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cg=new RegExp(ey.source,"g");function Mz(e){return function(){return e}}function Lz(e){return function(t){return e(t)+""}}function $z(e,t){var r=ey.lastIndex=Cg.lastIndex=0,n,i,a,o=-1,c=[],u=[];for(e=e+"",t=t+"";(n=ey.exec(e))&&(i=Cg.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),c[o]?c[o]+=a:c[++o]=a),(n=n[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,u.push({i:o,x:ef(n,i)})),r=Cg.lastIndex;return r<t.length&&(a=t.slice(r),c[o]?c[o]+=a:c[++o]=a),c.length<2?u[0]?Lz(u[0].x):Mz(t):(t=u.length,function(d){for(var f=0,m;f<t;++f)c[(m=u[f]).i]=m.x(d);return c.join("")})}function To(e,t){var r=typeof t,n;return t==null||r==="boolean"?N0(t):(r==="number"?ef:r==="string"?(n=su(t))?(t=n,Tj):$z:t instanceof su?Tj:t instanceof Date?Dz:Tz(t)?Az:Array.isArray(t)?Iz:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Rz:ef)(e,t)}function O0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Bz(e,t){t===void 0&&(t=e,e=To);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var c=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[c](o-c)}}function Fz(e){return function(){return e}}function tf(e){return+e}var Ij=[0,1];function Cr(e){return e}function ty(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Fz(isNaN(t)?NaN:.5)}function zz(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Uz(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=ty(i,n),a=r(o,a)):(n=ty(n,i),a=r(a,o)),function(c){return a(n(c))}}function qz(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=ty(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(c){var u=Cu(e,c,1,n)-1;return a[u](i[u](c))}}function Nu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Kf(){var e=Ij,t=Ij,r=To,n,i,a,o=Cr,c,u,d;function f(){var g=Math.min(e.length,t.length);return o!==Cr&&(o=zz(e[0],e[g-1])),c=g>2?qz:Uz,u=d=null,m}function m(g){return g==null||isNaN(g=+g)?a:(u||(u=c(e.map(n),t,r)))(n(o(g)))}return m.invert=function(g){return o(i((d||(d=c(t,e.map(n),ef)))(g)))},m.domain=function(g){return arguments.length?(e=Array.from(g,tf),f()):e.slice()},m.range=function(g){return arguments.length?(t=Array.from(g),f()):t.slice()},m.rangeRound=function(g){return t=Array.from(g),r=O0,f()},m.clamp=function(g){return arguments.length?(o=g?!0:Cr,f()):o!==Cr},m.interpolate=function(g){return arguments.length?(r=g,f()):r},m.unknown=function(g){return arguments.length?(a=g,m):a},function(g,x){return n=g,i=x,f()}}function A0(){return Kf()(Cr,Cr)}function Wz(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function rf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function bo(e){return e=rf(Math.abs(e)),e?e[1]:NaN}function Kz(e,t){return function(r,n){for(var i=r.length,a=[],o=0,c=e[0],u=0;i>0&&c>0&&(u+c+1>n&&(c=Math.max(1,n-u)),a.push(r.substring(i-=c,i+c)),!((u+=c+1)>n));)c=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Hz(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Vz=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ou(e){if(!(t=Vz.exec(e)))throw new Error("invalid format: "+e);var t;return new T0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ou.prototype=T0.prototype;function T0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}T0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Yz(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var yN;function Gz(e,t){var r=rf(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(yN=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+rf(e,Math.max(0,t+a-1))[0]}function Dj(e,t){var r=rf(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Rj={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Wz,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Dj(e*100,t),r:Dj,s:Gz,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Mj(e){return e}var Lj=Array.prototype.map,$j=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Xz(e){var t=e.grouping===void 0||e.thousands===void 0?Mj:Kz(Lj.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Mj:Hz(Lj.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"−":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(m){m=ou(m);var g=m.fill,x=m.align,w=m.sign,b=m.symbol,S=m.zero,j=m.width,C=m.comma,E=m.precision,P=m.trim,N=m.type;N==="n"?(C=!0,N="g"):Rj[N]||(E===void 0&&(E=12),P=!0,N="g"),(S||g==="0"&&x==="=")&&(S=!0,g="0",x="=");var A=b==="$"?r:b==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",T=b==="$"?n:/[%p]/.test(N)?o:"",D=Rj[N],F=/[defgprs%]/.test(N);E=E===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function z(L){var H=A,ne=T,ce,fe,K;if(N==="c")ne=D(L)+ne,L="";else{L=+L;var q=L<0||1/L<0;if(L=isNaN(L)?u:D(Math.abs(L),E),P&&(L=Yz(L)),q&&+L==0&&w!=="+"&&(q=!1),H=(q?w==="("?w:c:w==="-"||w==="("?"":w)+H,ne=(N==="s"?$j[8+yN/3]:"")+ne+(q&&w==="("?")":""),F){for(ce=-1,fe=L.length;++ce<fe;)if(K=L.charCodeAt(ce),48>K||K>57){ne=(K===46?i+L.slice(ce+1):L.slice(ce))+ne,L=L.slice(0,ce);break}}}C&&!S&&(L=t(L,1/0));var Y=H.length+L.length+ne.length,Z=Y<j?new Array(j-Y+1).join(g):"";switch(C&&S&&(L=t(Z+L,Z.length?j-ne.length:1/0),Z=""),x){case"<":L=H+L+ne+Z;break;case"=":L=H+Z+L+ne;break;case"^":L=Z.slice(0,Y=Z.length>>1)+H+L+ne+Z.slice(Y);break;default:L=Z+H+L+ne;break}return a(L)}return z.toString=function(){return m+""},z}function f(m,g){var x=d((m=ou(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor(bo(g)/3)))*3,b=Math.pow(10,-w),S=$j[8+w/3];return function(j){return x(b*j)+S}}return{format:d,formatPrefix:f}}var hd,I0,xN;Qz({thousands:",",grouping:[3],currency:["$",""]});function Qz(e){return hd=Xz(e),I0=hd.format,xN=hd.formatPrefix,hd}function Jz(e){return Math.max(0,-bo(Math.abs(e)))}function Zz(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bo(t)/3)))*3-bo(Math.abs(e)))}function eU(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,bo(t)-bo(e))+1}function bN(e,t,r,n){var i=Qv(e,t,r),a;switch(n=ou(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=Zz(i,o))&&(n.precision=a),xN(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=eU(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Jz(i))&&(n.precision=a-(n.type==="%")*2);break}}return I0(n)}function ka(e){var t=e.domain;return e.ticks=function(r){var n=t();return Gv(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return bN(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],c=n[a],u,d,f=10;for(c<o&&(d=o,o=c,c=d,d=i,i=a,a=d);f-- >0;){if(d=Xv(o,c,r),d===u)return n[i]=o,n[a]=c,t(n);if(d>0)o=Math.floor(o/d)*d,c=Math.ceil(c/d)*d;else if(d<0)o=Math.ceil(o*d)/d,c=Math.floor(c*d)/d;else break;u=d}return e},e}function wN(){var e=A0();return e.copy=function(){return Nu(e,wN())},Pn.apply(e,arguments),ka(e)}function _N(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,tf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return _N(e).unknown(t)},e=arguments.length?Array.from(e,tf):[0,1],ka(r)}function SN(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function Bj(e){return Math.log(e)}function Fj(e){return Math.exp(e)}function tU(e){return-Math.log(-e)}function rU(e){return-Math.exp(-e)}function nU(e){return isFinite(e)?+("1e"+e):e<0?0:e}function iU(e){return e===10?nU:e===Math.E?Math.exp:t=>Math.pow(e,t)}function aU(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function zj(e){return(t,r)=>-e(-t,r)}function D0(e){const t=e(Bj,Fj),r=t.domain;let n=10,i,a;function o(){return i=aU(n),a=iU(n),r()[0]<0?(i=zj(i),a=zj(a),e(tU,rU)):e(Bj,Fj),t}return t.base=function(c){return arguments.length?(n=+c,o()):n},t.domain=function(c){return arguments.length?(r(c),o()):r()},t.ticks=c=>{const u=r();let d=u[0],f=u[u.length-1];const m=f<d;m&&([d,f]=[f,d]);let g=i(d),x=i(f),w,b;const S=c==null?10:+c;let j=[];if(!(n%1)&&x-g<S){if(g=Math.floor(g),x=Math.ceil(x),d>0){for(;g<=x;++g)for(w=1;w<n;++w)if(b=g<0?w/a(-g):w*a(g),!(b<d)){if(b>f)break;j.push(b)}}else for(;g<=x;++g)for(w=n-1;w>=1;--w)if(b=g>0?w/a(-g):w*a(g),!(b<d)){if(b>f)break;j.push(b)}j.length*2<S&&(j=Gv(d,f,S))}else j=Gv(g,x,Math.min(x-g,S)).map(a);return m?j.reverse():j},t.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=ou(u)).precision==null&&(u.trim=!0),u=I0(u)),c===1/0)return u;const d=Math.max(1,n*c/t.ticks().length);return f=>{let m=f/a(Math.round(i(f)));return m*n<n-.5&&(m*=n),m<=d?u(f):""}},t.nice=()=>r(SN(r(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),t}function jN(){const e=D0(Kf()).domain([1,10]);return e.copy=()=>Nu(e,jN()).base(e.base()),Pn.apply(e,arguments),e}function Uj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function qj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function R0(e){var t=1,r=e(Uj(t),qj(t));return r.constant=function(n){return arguments.length?e(Uj(t=+n),qj(t)):t},ka(r)}function kN(){var e=R0(Kf());return e.copy=function(){return Nu(e,kN()).constant(e.constant())},Pn.apply(e,arguments)}function Wj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function sU(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function oU(e){return e<0?-e*e:e*e}function M0(e){var t=e(Cr,Cr),r=1;function n(){return r===1?e(Cr,Cr):r===.5?e(sU,oU):e(Wj(r),Wj(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},ka(t)}function L0(){var e=M0(Kf());return e.copy=function(){return Nu(e,L0()).exponent(e.exponent())},Pn.apply(e,arguments),e}function lU(){return L0.apply(null,arguments).exponent(.5)}function Kj(e){return Math.sign(e)*e*e}function uU(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function EN(){var e=A0(),t=[0,1],r=!1,n;function i(a){var o=uU(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(Kj(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,tf)).map(Kj)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return EN(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Pn.apply(i,arguments),ka(i)}function CN(){var e=[],t=[],r=[],n;function i(){var o=0,c=Math.max(1,t.length);for(r=new Array(c-1);++o<c;)r[o-1]=hz(e,o/c);return a}function a(o){return o==null||isNaN(o=+o)?n:t[Cu(r,o)]}return a.invertExtent=function(o){var c=t.indexOf(o);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(wa),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return CN().domain(e).range(t).unknown(n)},Pn.apply(a,arguments)}function PN(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[Cu(n,u,0,r)]:a}function c(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,c()):[e,t]},o.range=function(u){return arguments.length?(r=(i=Array.from(u)).length-1,c()):i.slice()},o.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return PN().domain([e,t]).range(i).unknown(a)},Pn.apply(ka(o),arguments)}function NN(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Cu(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return NN().domain(e).range(t).unknown(r)},Pn.apply(i,arguments)}const Pg=new Date,Ng=new Date;function qt(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),c=i.ceil(a);return a-o<c-a?o:c},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,c)=>{const u=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<o)||!(c>0))return u;let d;do u.push(d=new Date(+a)),t(a,c),e(a);while(d<a&&a<o);return u},i.filter=a=>qt(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!a(o););else for(;--c>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(Pg.setTime(+a),Ng.setTime(+o),e(Pg),e(Ng),Math.floor(r(Pg,Ng))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const nf=qt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);nf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?qt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):nf);nf.range;const Oi=1e3,xn=Oi*60,Ai=xn*60,Bi=Ai*24,$0=Bi*7,Hj=Bi*30,Og=Bi*365,es=qt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Oi)},(e,t)=>(t-e)/Oi,e=>e.getUTCSeconds());es.range;const B0=qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Oi)},(e,t)=>{e.setTime(+e+t*xn)},(e,t)=>(t-e)/xn,e=>e.getMinutes());B0.range;const F0=qt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*xn)},(e,t)=>(t-e)/xn,e=>e.getUTCMinutes());F0.range;const z0=qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Oi-e.getMinutes()*xn)},(e,t)=>{e.setTime(+e+t*Ai)},(e,t)=>(t-e)/Ai,e=>e.getHours());z0.range;const U0=qt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ai)},(e,t)=>(t-e)/Ai,e=>e.getUTCHours());U0.range;const Ou=qt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xn)/Bi,e=>e.getDate()-1);Ou.range;const Hf=qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bi,e=>e.getUTCDate()-1);Hf.range;const ON=qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bi,e=>Math.floor(e/Bi));ON.range;function ys(e){return qt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*xn)/$0)}const Vf=ys(0),af=ys(1),cU=ys(2),dU=ys(3),wo=ys(4),fU=ys(5),hU=ys(6);Vf.range;af.range;cU.range;dU.range;wo.range;fU.range;hU.range;function xs(e){return qt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/$0)}const Yf=xs(0),sf=xs(1),pU=xs(2),mU=xs(3),_o=xs(4),gU=xs(5),vU=xs(6);Yf.range;sf.range;pU.range;mU.range;_o.range;gU.range;vU.range;const q0=qt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());q0.range;const W0=qt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());W0.range;const Fi=qt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Fi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Fi.range;const zi=qt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());zi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});zi.range;function AN(e,t,r,n,i,a){const o=[[es,1,Oi],[es,5,5*Oi],[es,15,15*Oi],[es,30,30*Oi],[a,1,xn],[a,5,5*xn],[a,15,15*xn],[a,30,30*xn],[i,1,Ai],[i,3,3*Ai],[i,6,6*Ai],[i,12,12*Ai],[n,1,Bi],[n,2,2*Bi],[r,1,$0],[t,1,Hj],[t,3,3*Hj],[e,1,Og]];function c(d,f,m){const g=f<d;g&&([d,f]=[f,d]);const x=m&&typeof m.range=="function"?m:u(d,f,m),w=x?x.range(d,+f+1):[];return g?w.reverse():w}function u(d,f,m){const g=Math.abs(f-d)/m,x=k0(([,,S])=>S).right(o,g);if(x===o.length)return e.every(Qv(d/Og,f/Og,m));if(x===0)return nf.every(Math.max(Qv(d,f,m),1));const[w,b]=o[g/o[x-1][2]<o[x][2]/g?x-1:x];return w.every(b)}return[c,u]}const[yU,xU]=AN(zi,W0,Yf,ON,U0,F0),[bU,wU]=AN(Fi,q0,Vf,Ou,z0,B0);function Ag(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Tg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ol(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function _U(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,c=e.months,u=e.shortMonths,d=Al(i),f=Tl(i),m=Al(a),g=Tl(a),x=Al(o),w=Tl(o),b=Al(c),S=Tl(c),j=Al(u),C=Tl(u),E={a:q,A:Y,b:Z,B:te,c:null,d:Jj,e:Jj,f:KU,g:t8,G:n8,H:UU,I:qU,j:WU,L:TN,m:HU,M:VU,p:M,q:B,Q:tk,s:rk,S:YU,u:GU,U:XU,V:QU,w:JU,W:ZU,x:null,X:null,y:e8,Y:r8,Z:i8,"%":ek},P={a:de,A:_e,b:ee,B:le,c:null,d:Zj,e:Zj,f:l8,g:y8,G:b8,H:a8,I:s8,j:o8,L:DN,m:u8,M:c8,p:Q,q:pe,Q:tk,s:rk,S:d8,u:f8,U:h8,V:p8,w:m8,W:g8,x:null,X:null,y:v8,Y:x8,Z:w8,"%":ek},N={a:z,A:L,b:H,B:ne,c:ce,d:Xj,e:Xj,f:$U,g:Gj,G:Yj,H:Qj,I:Qj,j:DU,L:LU,m:IU,M:RU,p:F,q:TU,Q:FU,s:zU,S:MU,u:CU,U:PU,V:NU,w:EU,W:OU,x:fe,X:K,y:Gj,Y:Yj,Z:AU,"%":BU};E.x=A(r,E),E.X=A(n,E),E.c=A(t,E),P.x=A(r,P),P.X=A(n,P),P.c=A(t,P);function A(G,ae){return function(Ee){var re=[],qe=-1,Ie=0,ut=G.length,Le,Mt,Gn;for(Ee instanceof Date||(Ee=new Date(+Ee));++qe<ut;)G.charCodeAt(qe)===37&&(re.push(G.slice(Ie,qe)),(Mt=Vj[Le=G.charAt(++qe)])!=null?Le=G.charAt(++qe):Mt=Le==="e"?" ":"0",(Gn=ae[Le])&&(Le=Gn(Ee,Mt)),re.push(Le),Ie=qe+1);return re.push(G.slice(Ie,qe)),re.join("")}}function T(G,ae){return function(Ee){var re=Ol(1900,void 0,1),qe=D(re,G,Ee+="",0),Ie,ut;if(qe!=Ee.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(ae&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Ie=Tg(Ol(re.y,0,1)),ut=Ie.getUTCDay(),Ie=ut>4||ut===0?sf.ceil(Ie):sf(Ie),Ie=Hf.offset(Ie,(re.V-1)*7),re.y=Ie.getUTCFullYear(),re.m=Ie.getUTCMonth(),re.d=Ie.getUTCDate()+(re.w+6)%7):(Ie=Ag(Ol(re.y,0,1)),ut=Ie.getDay(),Ie=ut>4||ut===0?af.ceil(Ie):af(Ie),Ie=Ou.offset(Ie,(re.V-1)*7),re.y=Ie.getFullYear(),re.m=Ie.getMonth(),re.d=Ie.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),ut="Z"in re?Tg(Ol(re.y,0,1)).getUTCDay():Ag(Ol(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(ut+5)%7:re.w+re.U*7-(ut+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,Tg(re)):Ag(re)}}function D(G,ae,Ee,re){for(var qe=0,Ie=ae.length,ut=Ee.length,Le,Mt;qe<Ie;){if(re>=ut)return-1;if(Le=ae.charCodeAt(qe++),Le===37){if(Le=ae.charAt(qe++),Mt=N[Le in Vj?ae.charAt(qe++):Le],!Mt||(re=Mt(G,Ee,re))<0)return-1}else if(Le!=Ee.charCodeAt(re++))return-1}return re}function F(G,ae,Ee){var re=d.exec(ae.slice(Ee));return re?(G.p=f.get(re[0].toLowerCase()),Ee+re[0].length):-1}function z(G,ae,Ee){var re=x.exec(ae.slice(Ee));return re?(G.w=w.get(re[0].toLowerCase()),Ee+re[0].length):-1}function L(G,ae,Ee){var re=m.exec(ae.slice(Ee));return re?(G.w=g.get(re[0].toLowerCase()),Ee+re[0].length):-1}function H(G,ae,Ee){var re=j.exec(ae.slice(Ee));return re?(G.m=C.get(re[0].toLowerCase()),Ee+re[0].length):-1}function ne(G,ae,Ee){var re=b.exec(ae.slice(Ee));return re?(G.m=S.get(re[0].toLowerCase()),Ee+re[0].length):-1}function ce(G,ae,Ee){return D(G,t,ae,Ee)}function fe(G,ae,Ee){return D(G,r,ae,Ee)}function K(G,ae,Ee){return D(G,n,ae,Ee)}function q(G){return o[G.getDay()]}function Y(G){return a[G.getDay()]}function Z(G){return u[G.getMonth()]}function te(G){return c[G.getMonth()]}function M(G){return i[+(G.getHours()>=12)]}function B(G){return 1+~~(G.getMonth()/3)}function de(G){return o[G.getUTCDay()]}function _e(G){return a[G.getUTCDay()]}function ee(G){return u[G.getUTCMonth()]}function le(G){return c[G.getUTCMonth()]}function Q(G){return i[+(G.getUTCHours()>=12)]}function pe(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var ae=A(G+="",E);return ae.toString=function(){return G},ae},parse:function(G){var ae=T(G+="",!1);return ae.toString=function(){return G},ae},utcFormat:function(G){var ae=A(G+="",P);return ae.toString=function(){return G},ae},utcParse:function(G){var ae=T(G+="",!0);return ae.toString=function(){return G},ae}}}var Vj={"-":"",_:" ",0:"0"},er=/^\s*\d+/,SU=/^%/,jU=/[\\^$*+?|[\]().{}]/g;function Qe(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function kU(e){return e.replace(jU,"\\$&")}function Al(e){return new RegExp("^(?:"+e.map(kU).join("|")+")","i")}function Tl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function EU(e,t,r){var n=er.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function CU(e,t,r){var n=er.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function PU(e,t,r){var n=er.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function NU(e,t,r){var n=er.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function OU(e,t,r){var n=er.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Yj(e,t,r){var n=er.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Gj(e,t,r){var n=er.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function AU(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function TU(e,t,r){var n=er.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function IU(e,t,r){var n=er.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Xj(e,t,r){var n=er.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function DU(e,t,r){var n=er.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Qj(e,t,r){var n=er.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function RU(e,t,r){var n=er.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function MU(e,t,r){var n=er.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function LU(e,t,r){var n=er.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function $U(e,t,r){var n=er.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function BU(e,t,r){var n=SU.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function FU(e,t,r){var n=er.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function zU(e,t,r){var n=er.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Jj(e,t){return Qe(e.getDate(),t,2)}function UU(e,t){return Qe(e.getHours(),t,2)}function qU(e,t){return Qe(e.getHours()%12||12,t,2)}function WU(e,t){return Qe(1+Ou.count(Fi(e),e),t,3)}function TN(e,t){return Qe(e.getMilliseconds(),t,3)}function KU(e,t){return TN(e,t)+"000"}function HU(e,t){return Qe(e.getMonth()+1,t,2)}function VU(e,t){return Qe(e.getMinutes(),t,2)}function YU(e,t){return Qe(e.getSeconds(),t,2)}function GU(e){var t=e.getDay();return t===0?7:t}function XU(e,t){return Qe(Vf.count(Fi(e)-1,e),t,2)}function IN(e){var t=e.getDay();return t>=4||t===0?wo(e):wo.ceil(e)}function QU(e,t){return e=IN(e),Qe(wo.count(Fi(e),e)+(Fi(e).getDay()===4),t,2)}function JU(e){return e.getDay()}function ZU(e,t){return Qe(af.count(Fi(e)-1,e),t,2)}function e8(e,t){return Qe(e.getFullYear()%100,t,2)}function t8(e,t){return e=IN(e),Qe(e.getFullYear()%100,t,2)}function r8(e,t){return Qe(e.getFullYear()%1e4,t,4)}function n8(e,t){var r=e.getDay();return e=r>=4||r===0?wo(e):wo.ceil(e),Qe(e.getFullYear()%1e4,t,4)}function i8(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qe(t/60|0,"0",2)+Qe(t%60,"0",2)}function Zj(e,t){return Qe(e.getUTCDate(),t,2)}function a8(e,t){return Qe(e.getUTCHours(),t,2)}function s8(e,t){return Qe(e.getUTCHours()%12||12,t,2)}function o8(e,t){return Qe(1+Hf.count(zi(e),e),t,3)}function DN(e,t){return Qe(e.getUTCMilliseconds(),t,3)}function l8(e,t){return DN(e,t)+"000"}function u8(e,t){return Qe(e.getUTCMonth()+1,t,2)}function c8(e,t){return Qe(e.getUTCMinutes(),t,2)}function d8(e,t){return Qe(e.getUTCSeconds(),t,2)}function f8(e){var t=e.getUTCDay();return t===0?7:t}function h8(e,t){return Qe(Yf.count(zi(e)-1,e),t,2)}function RN(e){var t=e.getUTCDay();return t>=4||t===0?_o(e):_o.ceil(e)}function p8(e,t){return e=RN(e),Qe(_o.count(zi(e),e)+(zi(e).getUTCDay()===4),t,2)}function m8(e){return e.getUTCDay()}function g8(e,t){return Qe(sf.count(zi(e)-1,e),t,2)}function v8(e,t){return Qe(e.getUTCFullYear()%100,t,2)}function y8(e,t){return e=RN(e),Qe(e.getUTCFullYear()%100,t,2)}function x8(e,t){return Qe(e.getUTCFullYear()%1e4,t,4)}function b8(e,t){var r=e.getUTCDay();return e=r>=4||r===0?_o(e):_o.ceil(e),Qe(e.getUTCFullYear()%1e4,t,4)}function w8(){return"+0000"}function ek(){return"%"}function tk(e){return+e}function rk(e){return Math.floor(+e/1e3)}var io,MN,LN;_8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _8(e){return io=_U(e),MN=io.format,io.parse,LN=io.utcFormat,io.utcParse,io}function S8(e){return new Date(e)}function j8(e){return e instanceof Date?+e:+new Date(+e)}function K0(e,t,r,n,i,a,o,c,u,d){var f=A0(),m=f.invert,g=f.domain,x=d(".%L"),w=d(":%S"),b=d("%I:%M"),S=d("%I %p"),j=d("%a %d"),C=d("%b %d"),E=d("%B"),P=d("%Y");function N(A){return(u(A)<A?x:c(A)<A?w:o(A)<A?b:a(A)<A?S:n(A)<A?i(A)<A?j:C:r(A)<A?E:P)(A)}return f.invert=function(A){return new Date(m(A))},f.domain=function(A){return arguments.length?g(Array.from(A,j8)):g().map(S8)},f.ticks=function(A){var T=g();return e(T[0],T[T.length-1],A??10)},f.tickFormat=function(A,T){return T==null?N:d(T)},f.nice=function(A){var T=g();return(!A||typeof A.range!="function")&&(A=t(T[0],T[T.length-1],A??10)),A?g(SN(T,A)):f},f.copy=function(){return Nu(f,K0(e,t,r,n,i,a,o,c,u,d))},f}function k8(){return Pn.apply(K0(bU,wU,Fi,q0,Vf,Ou,z0,B0,es,MN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function E8(){return Pn.apply(K0(yU,xU,zi,W0,Yf,Hf,U0,F0,es,LN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Gf(){var e=0,t=1,r,n,i,a,o=Cr,c=!1,u;function d(m){return m==null||isNaN(m=+m)?u:o(i===0?.5:(m=(a(m)-r)*i,c?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(m){return arguments.length?(c=!!m,d):c},d.interpolator=function(m){return arguments.length?(o=m,d):o};function f(m){return function(g){var x,w;return arguments.length?([x,w]=g,o=m(x,w),d):[o(0),o(1)]}}return d.range=f(To),d.rangeRound=f(O0),d.unknown=function(m){return arguments.length?(u=m,d):u},function(m){return a=m,r=m(e),n=m(t),i=r===n?0:1/(n-r),d}}function Ea(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $N(){var e=ka(Gf()(Cr));return e.copy=function(){return Ea(e,$N())},Wi.apply(e,arguments)}function BN(){var e=D0(Gf()).domain([1,10]);return e.copy=function(){return Ea(e,BN()).base(e.base())},Wi.apply(e,arguments)}function FN(){var e=R0(Gf());return e.copy=function(){return Ea(e,FN()).constant(e.constant())},Wi.apply(e,arguments)}function H0(){var e=M0(Gf());return e.copy=function(){return Ea(e,H0()).exponent(e.exponent())},Wi.apply(e,arguments)}function C8(){return H0.apply(null,arguments).exponent(.5)}function zN(){var e=[],t=Cr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Cu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(wa),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>fz(e,a/n))},r.copy=function(){return zN(t).domain(e)},Wi.apply(r,arguments)}function Xf(){var e=0,t=.5,r=1,n=1,i,a,o,c,u,d=Cr,f,m=!1,g;function x(b){return isNaN(b=+b)?g:(b=.5+((b=+f(b))-a)*(n*b<n*a?c:u),d(m?Math.max(0,Math.min(1,b)):b))}x.domain=function(b){return arguments.length?([e,t,r]=b,i=f(e=+e),a=f(t=+t),o=f(r=+r),c=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),n=a<i?-1:1,x):[e,t,r]},x.clamp=function(b){return arguments.length?(m=!!b,x):m},x.interpolator=function(b){return arguments.length?(d=b,x):d};function w(b){return function(S){var j,C,E;return arguments.length?([j,C,E]=S,d=Bz(b,[j,C,E]),x):[d(0),d(.5),d(1)]}}return x.range=w(To),x.rangeRound=w(O0),x.unknown=function(b){return arguments.length?(g=b,x):g},function(b){return f=b,i=b(e),a=b(t),o=b(r),c=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),n=a<i?-1:1,x}}function UN(){var e=ka(Xf()(Cr));return e.copy=function(){return Ea(e,UN())},Wi.apply(e,arguments)}function qN(){var e=D0(Xf()).domain([.1,1,10]);return e.copy=function(){return Ea(e,qN()).base(e.base())},Wi.apply(e,arguments)}function WN(){var e=R0(Xf());return e.copy=function(){return Ea(e,WN()).constant(e.constant())},Wi.apply(e,arguments)}function V0(){var e=M0(Xf());return e.copy=function(){return Ea(e,V0()).exponent(e.exponent())},Wi.apply(e,arguments)}function P8(){return V0.apply(null,arguments).exponent(.5)}const $l=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:C0,scaleDiverging:UN,scaleDivergingLog:qN,scaleDivergingPow:V0,scaleDivergingSqrt:P8,scaleDivergingSymlog:WN,scaleIdentity:_N,scaleImplicit:Jv,scaleLinear:wN,scaleLog:jN,scaleOrdinal:E0,scalePoint:mz,scalePow:L0,scaleQuantile:CN,scaleQuantize:PN,scaleRadial:EN,scaleSequential:$N,scaleSequentialLog:BN,scaleSequentialPow:H0,scaleSequentialQuantile:zN,scaleSequentialSqrt:C8,scaleSequentialSymlog:FN,scaleSqrt:lU,scaleSymlog:kN,scaleThreshold:NN,scaleTime:k8,scaleUtc:E8,tickFormat:bN},Symbol.toStringTag,{value:"Module"}));var bs=e=>e.chartData,N8=X([bs],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Qf=(e,t,r,n)=>n?N8(e):bs(e);function So(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(cr(t)&&cr(r))return!0}return!1}function nk(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function O8(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(cr(r))i=r;else if(typeof r=="function")return;if(cr(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(So(o))return o}}function A8(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(So(n))return nk(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,c;if(i==="auto")t!=null&&(o=Math.min(...t));else if(ve(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[0]))}catch{}else if(typeof i=="string"&&WS.test(i)){var u=WS.exec(i);if(u==null||t==null)o=void 0;else{var d=+u[1];o=t[0]-d}}else o=t?.[0];if(a==="auto")t!=null&&(c=Math.max(...t));else if(ve(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t?.[1]))}catch{}else if(typeof a=="string"&&KS.test(a)){var f=KS.exec(a);if(f==null||t==null)c=void 0;else{var m=+f[1];c=t[1]+m}}else c=t?.[1];var g=[o,c];if(So(g))return t==null?g:nk(g,t,r)}}}var Io=1e9,T8={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},G0,wt=!0,Sn="[DecimalError] ",ss=Sn+"Invalid argument: ",Y0=Sn+"Exponent out of range: ",Do=Math.floor,Ya=Math.pow,I8=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,tn,Gt=1e7,xt=7,KN=9007199254740991,of=Do(KN/xt),be={};be.absoluteValue=be.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};be.comparedTo=be.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};be.decimalPlaces=be.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*xt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};be.dividedBy=be.div=function(e){return Di(this,new this.constructor(e))};be.dividedToIntegerBy=be.idiv=function(e){var t=this,r=t.constructor;return dt(Di(t,new r(e),0,1),r.precision)};be.equals=be.eq=function(e){return!this.cmp(e)};be.exponent=function(){return Rt(this)};be.greaterThan=be.gt=function(e){return this.cmp(e)>0};be.greaterThanOrEqualTo=be.gte=function(e){return this.cmp(e)>=0};be.isInteger=be.isint=function(){return this.e>this.d.length-2};be.isNegative=be.isneg=function(){return this.s<0};be.isPositive=be.ispos=function(){return this.s>0};be.isZero=function(){return this.s===0};be.lessThan=be.lt=function(e){return this.cmp(e)<0};be.lessThanOrEqualTo=be.lte=function(e){return this.cmp(e)<1};be.logarithm=be.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(tn))throw Error(Sn+"NaN");if(r.s<1)throw Error(Sn+(r.s?"NaN":"-Infinity"));return r.eq(tn)?new n(0):(wt=!1,t=Di(lu(r,a),lu(e,a),a),wt=!0,dt(t,i))};be.minus=be.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?YN(t,e):HN(t,(e.s=-e.s,e))};be.modulo=be.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Sn+"NaN");return r.s?(wt=!1,t=Di(r,e,0,1).times(e),wt=!0,r.minus(t)):dt(new n(r),i)};be.naturalExponential=be.exp=function(){return VN(this)};be.naturalLogarithm=be.ln=function(){return lu(this)};be.negated=be.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};be.plus=be.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?HN(t,e):YN(t,(e.s=-e.s,e))};be.precision=be.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ss+e);if(t=Rt(i)+1,n=i.d.length-1,r=n*xt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};be.squareRoot=be.sqrt=function(){var e,t,r,n,i,a,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(Sn+"NaN")}for(e=Rt(c),wt=!1,i=Math.sqrt(+c),i==0||i==1/0?(t=ai(c.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Do((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(i.toString()),r=u.precision,i=o=r+3;;)if(a=n,n=a.plus(Di(c,a,o+2)).times(.5),ai(a.d).slice(0,o)===(t=ai(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(dt(a,r+1,0),a.times(a).eq(c)){n=a;break}}else if(t!="9999")break;o+=4}return wt=!0,dt(n,r)};be.times=be.mul=function(e){var t,r,n,i,a,o,c,u,d,f=this,m=f.constructor,g=f.d,x=(e=new m(e)).d;if(!f.s||!e.s)return new m(0);for(e.s*=f.s,r=f.e+e.e,u=g.length,d=x.length,u<d&&(a=g,g=x,x=a,o=u,u=d,d=o),a=[],o=u+d,n=o;n--;)a.push(0);for(n=d;--n>=0;){for(t=0,i=u+n;i>n;)c=a[i]+x[n]*g[i-n-1]+t,a[i--]=c%Gt|0,t=c/Gt|0;a[i]=(a[i]+t)%Gt|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,wt?dt(e,m.precision):e};be.toDecimalPlaces=be.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(li(e,0,Io),t===void 0?t=n.rounding:li(t,0,8),dt(r,e+Rt(r)+1,t))};be.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=ps(n,!0):(li(e,0,Io),t===void 0?t=i.rounding:li(t,0,8),n=dt(new i(n),e+1,t),r=ps(n,!0,e+1)),r};be.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?ps(i):(li(e,0,Io),t===void 0?t=a.rounding:li(t,0,8),n=dt(new a(i),e+Rt(i)+1,t),r=ps(n.abs(),!1,e+Rt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};be.toInteger=be.toint=function(){var e=this,t=e.constructor;return dt(new t(e),Rt(e)+1,t.rounding)};be.toNumber=function(){return+this};be.toPower=be.pow=function(e){var t,r,n,i,a,o,c=this,u=c.constructor,d=12,f=+(e=new u(e));if(!e.s)return new u(tn);if(c=new u(c),!c.s){if(e.s<1)throw Error(Sn+"Infinity");return c}if(c.eq(tn))return c;if(n=u.precision,e.eq(tn))return dt(c,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=c.s,o){if((r=f<0?-f:f)<=KN){for(i=new u(tn),t=Math.ceil(n/xt+4),wt=!1;r%2&&(i=i.times(c),ak(i.d,t)),r=Do(r/2),r!==0;)c=c.times(c),ak(c.d,t);return wt=!0,e.s<0?new u(tn).div(i):dt(i,n)}}else if(a<0)throw Error(Sn+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,wt=!1,i=e.times(lu(c,n+d)),wt=!0,i=VN(i),i.s=a,i};be.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Rt(i),n=ps(i,r<=a.toExpNeg||r>=a.toExpPos)):(li(e,1,Io),t===void 0?t=a.rounding:li(t,0,8),i=dt(new a(i),e,t),r=Rt(i),n=ps(i,e<=r||r<=a.toExpNeg,e)),n};be.toSignificantDigits=be.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(li(e,1,Io),t===void 0?t=n.rounding:li(t,0,8)),dt(new n(r),e,t)};be.toString=be.valueOf=be.val=be.toJSON=be[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Rt(e),r=e.constructor;return ps(e,t<=r.toExpNeg||t>=r.toExpPos)};function HN(e,t){var r,n,i,a,o,c,u,d,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),wt?dt(t,m):t;if(u=e.d,d=t.d,o=e.e,i=t.e,u=u.slice(),a=o-i,a){for(a<0?(n=u,a=-a,c=d.length):(n=d,i=o,c=u.length),o=Math.ceil(m/xt),c=o>c?o+1:c+1,a>c&&(a=c,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(c=u.length,a=d.length,c-a<0&&(a=c,n=d,d=u,u=n),r=0;a;)r=(u[--a]=u[a]+d[a]+r)/Gt|0,u[a]%=Gt;for(r&&(u.unshift(r),++i),c=u.length;u[--c]==0;)u.pop();return t.d=u,t.e=i,wt?dt(t,m):t}function li(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ss+e)}function ai(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=xt-n.length,r&&(a+=va(r)),a+=n;o=e[t],n=o+"",r=xt-n.length,r&&(a+=va(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Di=function(){function e(n,i){var a,o=0,c=n.length;for(n=n.slice();c--;)a=n[c]*i+o,n[c]=a%Gt|0,o=a/Gt|0;return o&&n.unshift(o),n}function t(n,i,a,o){var c,u;if(a!=o)u=a>o?1:-1;else for(c=u=0;c<a;c++)if(n[c]!=i[c]){u=n[c]>i[c]?1:-1;break}return u}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Gt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var c,u,d,f,m,g,x,w,b,S,j,C,E,P,N,A,T,D,F=n.constructor,z=n.s==i.s?1:-1,L=n.d,H=i.d;if(!n.s)return new F(n);if(!i.s)throw Error(Sn+"Division by zero");for(u=n.e-i.e,T=H.length,N=L.length,x=new F(z),w=x.d=[],d=0;H[d]==(L[d]||0);)++d;if(H[d]>(L[d]||0)&&--u,a==null?C=a=F.precision:o?C=a+(Rt(n)-Rt(i))+1:C=a,C<0)return new F(0);if(C=C/xt+2|0,d=0,T==1)for(f=0,H=H[0],C++;(d<N||f)&&C--;d++)E=f*Gt+(L[d]||0),w[d]=E/H|0,f=E%H|0;else{for(f=Gt/(H[0]+1)|0,f>1&&(H=e(H,f),L=e(L,f),T=H.length,N=L.length),P=T,b=L.slice(0,T),S=b.length;S<T;)b[S++]=0;D=H.slice(),D.unshift(0),A=H[0],H[1]>=Gt/2&&++A;do f=0,c=t(H,b,T,S),c<0?(j=b[0],T!=S&&(j=j*Gt+(b[1]||0)),f=j/A|0,f>1?(f>=Gt&&(f=Gt-1),m=e(H,f),g=m.length,S=b.length,c=t(m,b,g,S),c==1&&(f--,r(m,T<g?D:H,g))):(f==0&&(c=f=1),m=H.slice()),g=m.length,g<S&&m.unshift(0),r(b,m,S),c==-1&&(S=b.length,c=t(H,b,T,S),c<1&&(f++,r(b,T<S?D:H,S))),S=b.length):c===0&&(f++,b=[0]),w[d++]=f,c&&b[0]?b[S++]=L[P]||0:(b=[L[P]],S=1);while((P++<N||b[0]!==void 0)&&C--)}return w[0]||w.shift(),x.e=u,dt(x,o?a+Rt(x)+1:a)}}();function VN(e,t){var r,n,i,a,o,c,u=0,d=0,f=e.constructor,m=f.precision;if(Rt(e)>16)throw Error(Y0+Rt(e));if(!e.s)return new f(tn);for(wt=!1,c=m,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log(Ya(2,d))/Math.LN10*2+5|0,c+=n,r=i=a=new f(tn),f.precision=c;;){if(i=dt(i.times(e),c),r=r.times(++u),o=a.plus(Di(i,r,c)),ai(o.d).slice(0,c)===ai(a.d).slice(0,c)){for(;d--;)a=dt(a.times(a),c);return f.precision=m,t==null?(wt=!0,dt(a,m)):a}a=o}}function Rt(e){for(var t=e.e*xt,r=e.d[0];r>=10;r/=10)t++;return t}function Ig(e,t,r){if(t>e.LN10.sd())throw wt=!0,r&&(e.precision=r),Error(Sn+"LN10 precision limit exceeded");return dt(new e(e.LN10),t)}function va(e){for(var t="";e--;)t+="0";return t}function lu(e,t){var r,n,i,a,o,c,u,d,f,m=1,g=10,x=e,w=x.d,b=x.constructor,S=b.precision;if(x.s<1)throw Error(Sn+(x.s?"NaN":"-Infinity"));if(x.eq(tn))return new b(0);if(t==null?(wt=!1,d=S):d=t,x.eq(10))return t==null&&(wt=!0),Ig(b,d);if(d+=g,b.precision=d,r=ai(w),n=r.charAt(0),a=Rt(x),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=ai(x.d),n=r.charAt(0),m++;a=Rt(x),n>1?(x=new b("0."+r),a++):x=new b(n+"."+r.slice(1))}else return u=Ig(b,d+2,S).times(a+""),x=lu(new b(n+"."+r.slice(1)),d-g).plus(u),b.precision=S,t==null?(wt=!0,dt(x,S)):x;for(c=o=x=Di(x.minus(tn),x.plus(tn),d),f=dt(x.times(x),d),i=3;;){if(o=dt(o.times(f),d),u=c.plus(Di(o,new b(i),d)),ai(u.d).slice(0,d)===ai(c.d).slice(0,d))return c=c.times(2),a!==0&&(c=c.plus(Ig(b,d+2,S).times(a+""))),c=Di(c,new b(m),d),b.precision=S,t==null?(wt=!0,dt(c,S)):c;c=u,i+=2}}function ik(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Do(r/xt),e.d=[],n=(r+1)%xt,r<0&&(n+=xt),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=xt;n<i;)e.d.push(+t.slice(n,n+=xt));t=t.slice(n),n=xt-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),wt&&(e.e>of||e.e<-of))throw Error(Y0+r)}else e.s=0,e.e=0,e.d=[0];return e}function dt(e,t,r){var n,i,a,o,c,u,d,f,m=e.d;for(o=1,a=m[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=xt,i=t,d=m[f=0];else{if(f=Math.ceil((n+1)/xt),a=m.length,f>=a)return e;for(d=a=m[f],o=1;a>=10;a/=10)o++;n%=xt,i=n-xt+o}if(r!==void 0&&(a=Ya(10,o-i-1),c=d/a%10|0,u=t<0||m[f+1]!==void 0||d%a,u=r<4?(c||u)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||u||r==6&&(n>0?i>0?d/Ya(10,o-i):0:m[f-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return u?(a=Rt(e),m.length=1,t=t-a-1,m[0]=Ya(10,(xt-t%xt)%xt),e.e=Do(-t/xt)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=f,a=1,f--):(m.length=f+1,a=Ya(10,xt-n),m[f]=i>0?(d/Ya(10,o-i)%Ya(10,i)|0)*a:0),u)for(;;)if(f==0){(m[0]+=a)==Gt&&(m[0]=1,++e.e);break}else{if(m[f]+=a,m[f]!=Gt)break;m[f--]=0,a=1}for(n=m.length;m[--n]===0;)m.pop();if(wt&&(e.e>of||e.e<-of))throw Error(Y0+Rt(e));return e}function YN(e,t){var r,n,i,a,o,c,u,d,f,m,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),wt?dt(t,x):t;if(u=e.d,m=t.d,n=t.e,d=e.e,u=u.slice(),o=d-n,o){for(f=o<0,f?(r=u,o=-o,c=m.length):(r=m,n=d,c=u.length),i=Math.max(Math.ceil(x/xt),c)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=u.length,c=m.length,f=i<c,f&&(c=i),i=0;i<c;i++)if(u[i]!=m[i]){f=u[i]<m[i];break}o=0}for(f&&(r=u,u=m,m=r,t.s=-t.s),c=u.length,i=m.length-c;i>0;--i)u[c++]=0;for(i=m.length;i>o;){if(u[--i]<m[i]){for(a=i;a&&u[--a]===0;)u[a]=Gt-1;--u[a],u[i]+=Gt}u[i]-=m[i]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,wt?dt(t,x):t):new g(0)}function ps(e,t,r){var n,i=Rt(e),a=ai(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+va(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+va(-i-1)+a,r&&(n=r-o)>0&&(a+=va(n))):i>=o?(a+=va(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+va(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=va(n))),e.s<0?"-"+a:a}function ak(e,t){if(e.length>t)return e.length=t,!0}function GN(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ss+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return ik(o,a.toString())}else if(typeof a!="string")throw Error(ss+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,I8.test(a))ik(o,a);else throw Error(ss+a)}if(i.prototype=be,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=GN,i.config=i.set=D8,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function D8(e){if(!e||typeof e!="object")throw Error(Sn+"Object expected");var t,r,n,i=["precision",1,Io,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Do(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(ss+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ss+r+": "+n);return this}var G0=GN(T8);tn=new G0(1);const at=G0;var R8=e=>e,XN={},QN=e=>e===XN,sk=e=>function t(){return arguments.length===0||arguments.length===1&&QN(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},JN=(e,t)=>e===1?t:sk(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(o=>o!==XN).length;return a>=e?t(...n):JN(e-a,sk(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var d=n.map(f=>QN(f)?c.shift():f);return t(...d,...c)}))}),Jf=e=>JN(e.length,e),ry=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},M8=Jf((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),L8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return R8;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((c,u)=>u(c),a(...arguments))}},ny=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),ZN=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t&&i.every((o,c)=>{var u;return o===((u=t)===null||u===void 0?void 0:u[c])})||(t=i,r=e(...i)),r}};function eO(e){var t;return e===0?t=1:t=Math.floor(new at(e).abs().log(10).toNumber())+1,t}function tO(e,t,r){for(var n=new at(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}Jf((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});Jf((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Jf((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var rO=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},nO=(e,t,r)=>{if(e.lte(0))return new at(0);var n=eO(e.toNumber()),i=new at(10).pow(n),a=e.div(i),o=n!==1?.05:.1,c=new at(Math.ceil(a.div(o).toNumber())).add(r).mul(o),u=c.mul(i);return t?new at(u.toNumber()):new at(Math.ceil(u.toNumber()))},$8=(e,t,r)=>{var n=new at(1),i=new at(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new at(10).pow(eO(e)-1),i=new at(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new at(Math.floor(e)))}else e===0?i=new at(Math.floor((t-1)/2)):r||(i=new at(Math.floor(e)));var o=Math.floor((t-1)/2),c=L8(M8(u=>i.add(new at(u-o).mul(n)).toNumber()),ry);return c(0,t)},iO=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new at(0),tickMin:new at(0),tickMax:new at(0)};var o=nO(new at(r).sub(t).div(n-1),i,a),c;t<=0&&r>=0?c=new at(0):(c=new at(t).add(r).div(2),c=c.sub(new at(c).mod(o)));var u=Math.ceil(c.sub(t).div(o).toNumber()),d=Math.ceil(new at(r).sub(c).div(o).toNumber()),f=u+d+1;return f>n?iO(t,r,n,i,a+1):(f<n&&(d=r>0?d+(n-f):d,u=r>0?u:u+(n-f)),{step:o,tickMin:c.sub(new at(u).mul(o)),tickMax:c.add(new at(d).mul(o))})};function B8(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[o,c]=rO([t,r]);if(o===-1/0||c===1/0){var u=c===1/0?[o,...ry(0,n-1).map(()=>1/0)]:[...ry(0,n-1).map(()=>-1/0),c];return t>r?ny(u):u}if(o===c)return $8(o,n,i);var{step:d,tickMin:f,tickMax:m}=iO(o,c,a,i,0),g=tO(f,m.add(new at(.1).mul(d)),d);return t>r?ny(g):g}function F8(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=rO([r,n]);if(a===-1/0||o===1/0)return[r,n];if(a===o)return[a];var c=Math.max(t,2),u=nO(new at(o).sub(a).div(c-1),i,0),d=[...tO(new at(a),new at(o),u),o];return i===!1&&(d=d.map(f=>Math.round(f))),r>n?ny(d):d}var z8=ZN(B8),U8=ZN(F8),aO=e=>e.rootProps.maxBarSize,q8=e=>e.rootProps.barGap,sO=e=>e.rootProps.barCategoryGap,W8=e=>e.rootProps.barSize,Zf=e=>e.rootProps.stackOffset,X0=e=>e.options.chartName,Q0=e=>e.rootProps.syncId,oO=e=>e.rootProps.syncMethod,J0=e=>e.options.eventEmitter,Ci={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Zr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},eh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},K8={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ci.angleAxisId,includeHidden:!1,name:void 0,reversed:Ci.reversed,scale:Ci.scale,tick:Ci.tick,tickCount:void 0,ticks:void 0,type:Ci.type,unit:void 0},H8={allowDataOverflow:Zr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Zr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zr.scale,tick:Zr.tick,tickCount:Zr.tickCount,ticks:void 0,type:Zr.type,unit:void 0},V8={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ci.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ci.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ci.scale,tick:Ci.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Y8={allowDataOverflow:Zr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Zr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zr.scale,tick:Zr.tick,tickCount:Zr.tickCount,ticks:void 0,type:"category",unit:void 0},Z0=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?V8:K8,ex=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Y8:H8,th=e=>e.polarOptions,tx=X([Ui,qi,Zt],$6),lO=X([th,tx],(e,t)=>{if(e!=null)return Kn(e.innerRadius,t,0)}),uO=X([th,tx],(e,t)=>{if(e!=null)return Kn(e.outerRadius,t,t*.8)}),G8=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},cO=X([th],G8);X([Z0,cO],eh);var dO=X([tx,lO,uO],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});X([ex,dO],eh);var X8=X([Je,th,lO,uO,Ui,qi],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:c,startAngle:u,endAngle:d}=t;return{cx:Kn(o,i,i/2),cy:Kn(c,a,a/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:d,clockWise:!1}}}),tr=(e,t)=>t,rh=(e,t,r)=>r;function ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ok(Object(r),!0).forEach(function(n){Q8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ok(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q8(e,t,r){return(t=J8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J8(e){var t=Z8(e,"string");return typeof t=="symbol"?t:t+""}function Z8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iy=[0,"auto"],Qr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Ki=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??Qr},Jr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:iy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:zf},Ca=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??Jr},eq={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},rx=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??eq},zr=(e,t,r)=>{switch(t){case"xAxis":return Ki(e,r);case"yAxis":return Ca(e,r);case"zAxis":return rx(e,r);case"angleAxis":return Z0(e,r);case"radiusAxis":return ex(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},tq=(e,t,r)=>{switch(t){case"xAxis":return Ki(e,r);case"yAxis":return Ca(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Au=(e,t,r)=>{switch(t){case"xAxis":return Ki(e,r);case"yAxis":return Ca(e,r);case"angleAxis":return Z0(e,r);case"radiusAxis":return ex(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},fO=e=>e.graphicalItems.countOfBars>0;function hO(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Tu=e=>e.graphicalItems.cartesianItems,rq=X([tr,rh],hO),pO=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Iu=X([Tu,zr,rq],pO),mO=e=>e.filter(t=>t.stackId===void 0),nq=X([Iu],mO),gO=e=>e.map(t=>t.data).filter(Boolean).flat(1),iq=X([Iu],gO),vO=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},nh=X([iq,Qf],vO),yO=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:Qt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Qt(i,n)}))):e.map(n=>({value:n})),ih=X([nh,zr,Iu],yO);function xO(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ws(e){return e.filter(t=>oi(t)||t instanceof Date).map(Number).filter(t=>Br(t)===!1)}function aq(e,t,r){return!r||typeof t!="number"||Br(t)?[]:r.length?ws(r.flatMap(n=>{var i=Qt(e,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!cr(a)||!cr(o)))return[t-a,t+o]})):[]}var bO=(e,t,r)=>{var n={},i=t.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[o,c]=a,u=c.map(d=>d.dataKey);return[o,{stackedData:eF(e,u,r),graphicalItems:c}]}))},uu=X([nh,Iu,Zf],bO),wO=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var a=iF(e,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},sq=X([uu,bs,tr],wO),_O=(e,t,r,n)=>r.length>0?e.flatMap(i=>r.flatMap(a=>{var o,c,u=(o=a.errorBars)===null||o===void 0?void 0:o.filter(f=>xO(n,f)),d=Qt(i,(c=t.dataKey)!==null&&c!==void 0?c:a.dataKey);return{value:d,errorDomain:aq(i,d,u)}})).filter(Boolean):t?.dataKey!=null?e.map(i=>({value:Qt(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),oq=X(nh,zr,nq,tr,_O);function lq(e){var{value:t}=e;if(oi(t)||t instanceof Date)return t}var uq=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=ws(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},cq=(e,t,r)=>{var n=e.map(lq).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&VC(n))?cN(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},nx=e=>{var t;if(e==null||!("domain"in e))return iy;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=ws(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:iy},ix=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),c=Math.max(...a);return[o,c]}},SO=e=>e.referenceElements.dots,Ro=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),dq=X([SO,tr,rh],Ro),jO=e=>e.referenceElements.areas,fq=X([jO,tr,rh],Ro),kO=e=>e.referenceElements.lines,hq=X([kO,tr,rh],Ro),EO=(e,t)=>{var r=ws(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},pq=X(dq,tr,EO),CO=(e,t)=>{var r=ws(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},mq=X([fq,tr],CO),PO=(e,t)=>{var r=ws(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},gq=X(hq,tr,PO),vq=X(pq,gq,mq,(e,t,r)=>ix(e,r,t)),yq=X([zr],nx),NO=(e,t,r,n,i)=>{var a=O8(t,e.allowDataOverflow);return a??A8(t,ix(r,i,uq(n)),e.allowDataOverflow)},xq=X([zr,yq,sq,oq,vq],NO),bq=[0,1],OO=(e,t,r,n,i,a,o)=>{if(!(e==null||r==null||r.length===0)){var{dataKey:c,type:u}=e,d=fi(t,a);return d&&c==null?cN(0,r.length):u==="category"?cq(n,e,d):i==="expand"?bq:o}},ax=X([zr,Je,nh,ih,Zf,tr,xq],OO),AO=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var c="scale".concat(ju(a));return c in $l?c:"point"}}},Du=X([zr,Je,fO,X0,tr],AO);function wq(e){if(e!=null){if(e in $l)return $l[e]();var t="scale".concat(ju(e));if(t in $l)return $l[t]()}}function sx(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=wq(t);if(i!=null){var a=i.domain(r).range(n);return G6(a),a}}}var TO=(e,t,r)=>{var n=nx(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&So(e))return z8(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&So(e))return U8(e,t.tickCount,t.allowDecimals)}},ox=X([ax,Au,Du],TO),IO=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&So(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],o=t[1],c=r[r.length-1];return[Math.min(i,a),Math.max(o,c)]}return t},_q=X([zr,ax,ox,tr],IO),Sq=X(ih,zr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(ws(e.map(c=>c.value))).sort((c,u)=>c-u);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var o=n[a+1]-n[a];r=Math.min(r,o)}return r/i}}),DO=X(Sq,Je,sO,Zt,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!cr(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Kn(r,e*a),c=e*a/2;return c-o-(c-o)/a*o}return 0}),jq=(e,t)=>{var r=Ki(e,t);return r==null||typeof r.padding!="string"?0:DO(e,"xAxis",t,r.padding)},kq=(e,t)=>{var r=Ca(e,t);return r==null||typeof r.padding!="string"?0:DO(e,"yAxis",t,r.padding)},Eq=X(Ki,jq,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),Cq=X(Ca,kq,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),Pq=X([Zt,Eq,qf,Uf,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Nq=X([Zt,Je,Cq,qf,Uf,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Ru=(e,t,r,n)=>{var i;switch(t){case"xAxis":return Pq(e,r,n);case"yAxis":return Nq(e,r,n);case"zAxis":return(i=rx(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return cO(e);case"radiusAxis":return dO(e,r);default:return}},RO=X([zr,Ru],eh),Mo=X([zr,Du,_q,RO],sx);X(Iu,tr,(e,t)=>e.flatMap(r=>{var n;return(n=r.errorBars)!==null&&n!==void 0?n:[]}).filter(r=>xO(t,r)));function MO(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var ah=(e,t)=>t,sh=(e,t,r)=>r,Oq=X(y0,ah,sh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(MO)),Aq=X(x0,ah,sh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(MO)),LO=(e,t)=>({width:e.width,height:t.height}),Tq=(e,t)=>{var r=typeof t.width=="number"?t.width:zf;return{width:r,height:e.height}},$O=X(Zt,Ki,LO),Iq=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Dq=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Rq=X(qi,Zt,Oq,ah,sh,(e,t,r,n,i)=>{var a={},o;return r.forEach(c=>{var u=LO(t,c);o==null&&(o=Iq(t,n,e));var d=n==="top"&&!i||n==="bottom"&&i;a[c.id]=o-Number(d)*u.height,o+=(d?-1:1)*u.height}),a}),Mq=X(Ui,Zt,Aq,ah,sh,(e,t,r,n,i)=>{var a={},o;return r.forEach(c=>{var u=Tq(t,c);o==null&&(o=Dq(t,n,e));var d=n==="left"&&!i||n==="right"&&i;a[c.id]=o-Number(d)*u.width,o+=(d?-1:1)*u.width}),a}),Lq=(e,t)=>{var r=Zt(e),n=Ki(e,t);if(n!=null){var i=Rq(e,n.orientation,n.mirror),a=i[t];return a==null?{x:r.left,y:0}:{x:r.left,y:a}}},$q=(e,t)=>{var r=Zt(e),n=Ca(e,t);if(n!=null){var i=Mq(e,n.orientation,n.mirror),a=i[t];return a==null?{x:0,y:r.top}:{x:a,y:r.top}}},BO=X(Zt,Ca,(e,t)=>{var r=typeof t.width=="number"?t.width:zf;return{width:r,height:e.height}}),lk=(e,t,r)=>{switch(t){case"xAxis":return $O(e,r).width;case"yAxis":return BO(e,r).height;default:return}},FO=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,c=fi(e,n),u=t.map(d=>d.value);if(o&&c&&a==="category"&&i&&VC(u))return u}},lx=X([Je,ih,zr,tr],FO),zO=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=fi(e,n);if(o&&(i==="number"||a!=="auto"))return t.map(c=>c.value)}},ux=X([Je,ih,Au,tr],zO),uk=X([Je,tq,Du,Mo,lx,ux,Ru,ox,tr],(e,t,r,n,i,a,o,c,u)=>{if(t==null)return null;var d=fi(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:c,range:o,realScaleType:r,scale:n}}),Bq=(e,t,r,n,i,a,o,c,u)=>{if(!(t==null||n==null)){var d=fi(e,u),{type:f,ticks:m,tickCount:g}=t,x=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,w=f==="category"&&n.bandwidth?n.bandwidth()/x:0;w=u==="angleAxis"&&a!=null&&a.length>=2?Lr(a[0]-a[1])*2*w:w;var b=m||i;if(b){var S=b.map((j,C)=>{var E=o?o.indexOf(j):j;return{index:C,coordinate:n(E)+w,value:j,offset:w}});return S.filter(j=>!Br(j.coordinate))}return d&&c?c.map((j,C)=>({coordinate:n(j)+w,value:j,index:C,offset:w})):n.ticks?n.ticks(g).map(j=>({coordinate:n(j)+w,value:j,offset:w})):n.domain().map((j,C)=>({coordinate:n(j)+w,value:o?o[j]:j,index:C,offset:w}))}},UO=X([Je,Au,Du,Mo,ox,Ru,lx,ux,tr],Bq),Fq=(e,t,r,n,i,a,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var c=fi(e,o),{tickCount:u}=t,d=0;return d=o==="angleAxis"&&n?.length>=2?Lr(n[0]-n[1])*2*d:d,c&&a?a.map((f,m)=>({coordinate:r(f)+d,value:f,index:m,offset:d})):r.ticks?r.ticks(u).map(f=>({coordinate:r(f)+d,value:f,offset:d})):r.domain().map((f,m)=>({coordinate:r(f)+d,value:i?i[f]:f,index:m,offset:d}))}},ui=X([Je,Au,Mo,Ru,lx,ux,tr],Fq),jn=X(zr,Mo,(e,t)=>{if(!(e==null||t==null))return lf(lf({},e),{},{scale:t})}),zq=X([zr,Du,ax,RO],sx);X((e,t,r)=>rx(e,r),zq,(e,t)=>{if(!(e==null||t==null))return lf(lf({},e),{},{scale:t})});var Uq=X([Je,y0,x0],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),qO=e=>e.options.defaultTooltipEventType,WO=e=>e.options.validateTooltipEventTypes;function KO(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function cx(e,t){var r=qO(e),n=WO(e);return KO(t,r,n)}function qq(e){return ke(t=>cx(t,e))}var HO=(e,t)=>{var r,n=Number(t);if(!(Br(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Wq=e=>e.tooltip.settings,ba={active:!1,index:null,dataKey:void 0,coordinate:void 0},Kq={itemInteraction:{click:ba,hover:ba},axisInteraction:{click:ba,hover:ba},keyboardInteraction:ba,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},VO=Cn({name:"tooltip",initialState:Kq,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Ii(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Hq,removeTooltipEntrySettings:Vq,setTooltipSettingsState:Yq,setActiveMouseOverItemIndex:YO,mouseLeaveItem:Gq,mouseLeaveChart:GO,setActiveClickItemIndex:Xq,setMouseOverAxisIndex:XO,setMouseClickAxisIndex:Qq,setSyncInteraction:ay,setKeyboardInteraction:sy}=VO.actions,Jq=VO.reducer;function ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ck(Object(r),!0).forEach(function(n){Zq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zq(e,t,r){return(t=eW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eW(e){var t=tW(e,"string");return typeof t=="symbol"?t:t+""}function tW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rW(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function nW(e){return e.index!=null}var QO=(e,t,r,n)=>{if(t==null)return ba;var i=rW(e,t,r);if(i==null)return ba;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(nW(i)){if(a)return pd(pd({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return pd(pd({},ba),{},{coordinate:i.coordinate})},dx=(e,t)=>{var r=e?.index;if(r==null)return null;var n=Number(r);if(!cr(n))return r;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(n,a)))},JO=(e,t,r,n,i,a,o,c)=>{if(!(a==null||c==null)){var u=o[0],d=u==null?void 0:c(u.positions,a);if(d!=null)return d;var f=i?.[Number(a)];if(f)switch(r){case"horizontal":return{x:f.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:f.coordinate}}}},ZO=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},Mu=e=>e.options.tooltipPayloadSearcher,Lo=e=>e.tooltip;function dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dk(Object(r),!0).forEach(function(n){iW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iW(e,t,r){return(t=aW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aW(e){var t=sW(e,"string");return typeof t=="symbol"?t:t+""}function sW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oW(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function lW(e,t){return e??t}var e2=(e,t,r,n,i,a,o)=>{if(!(t==null||a==null)){var{chartData:c,computedData:u,dataStartIndex:d,dataEndIndex:f}=r,m=[];return e.reduce((g,x)=>{var w,{dataDefinedOnItem:b,settings:S}=x,j=lW(b,c),C=oW(j,d,f),E=(w=S?.dataKey)!==null&&w!==void 0?w:n?.dataKey,P=S?.nameKey,N;if(n!=null&&n.dataKey&&Array.isArray(C)&&!Array.isArray(C[0])&&o==="axis"?N=YC(C,n.dataKey,i):N=a(C,t,u,P),Array.isArray(N))N.forEach(T=>{var D=fk(fk({},S),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});g.push(HS({tooltipEntrySettings:D,dataKey:T.dataKey,payload:T.payload,value:Qt(T.payload,T.dataKey),name:T.name}))});else{var A;g.push(HS({tooltipEntrySettings:S,dataKey:E,payload:N,value:Qt(N,E),name:(A=Qt(N,P))!==null&&A!==void 0?A:S?.name}))}return g},m)}},rr=e=>{var t=Je(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},$o=e=>e.tooltip.settings.axisId,dr=e=>{var t=rr(e),r=$o(e);return Au(e,t,r)},fx=X([dr,Je,fO,X0,rr],AO),uW=X([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),cW=X([rr,$o],hO),oh=X([uW,dr,cW],pO),dW=X([oh],gO),_s=X([dW,bs],vO),hx=X([_s,dr,oh],yO),fW=X([dr],nx),hW=X([_s,oh,Zf],bO),pW=X([hW,bs,rr],wO),mW=X([oh],mO),gW=X([_s,dr,mW,rr],_O),vW=X([SO,rr,$o],Ro),yW=X([vW,rr],EO),xW=X([jO,rr,$o],Ro),bW=X([xW,rr],CO),wW=X([kO,rr,$o],Ro),_W=X([wW,rr],PO),SW=X([yW,_W,bW],ix),jW=X([dr,fW,pW,gW,SW],NO),t2=X([dr,Je,_s,hx,Zf,rr,jW],OO),kW=X([t2,dr,fx],TO),EW=X([dr,t2,kW,rr],IO),r2=e=>{var t=rr(e),r=$o(e),n=!1;return Ru(e,t,r,n)},n2=X([dr,r2],eh),i2=X([dr,fx,EW,n2],sx),CW=X([Je,hx,dr,rr],FO),PW=X([Je,hx,dr,rr],zO),NW=(e,t,r,n,i,a,o,c)=>{if(t){var{type:u}=t,d=fi(e,c);if(n){var f=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=u==="category"&&n.bandwidth?n.bandwidth()/f:0;return m=c==="angleAxis"&&i!=null&&i?.length>=2?Lr(i[0]-i[1])*2*m:m,d&&o?o.map((g,x)=>({coordinate:n(g)+m,value:g,index:x,offset:m})):n.domain().map((g,x)=>({coordinate:n(g)+m,value:a?a[g]:g,index:x,offset:m}))}}},Hi=X([Je,dr,fx,i2,r2,CW,PW,rr],NW),px=X([qO,WO,Wq],(e,t,r)=>KO(r.shared,e,t)),a2=e=>e.tooltip.settings.trigger,mx=e=>e.tooltip.settings.defaultIndex,lh=X([Lo,px,a2,mx],QO),ms=X([lh,_s],dx),s2=X([Hi,ms],HO),o2=X([lh],e=>{if(e)return e.dataKey}),l2=X([Lo,px,a2,mx],ZO),OW=X([Ui,qi,Je,Zt,Hi,mx,l2,Mu],JO),AW=X([lh,OW],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),TW=X([lh],e=>e.active),IW=X([l2,ms,bs,dr,s2,Mu,px],e2),DW=X([IW],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hk(Object(r),!0).forEach(function(n){RW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RW(e,t,r){return(t=MW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MW(e){var t=LW(e,"string");return typeof t=="symbol"?t:t+""}function LW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $W=()=>ke(dr),BW=()=>{var e=$W(),t=ke(Hi),r=ke(i2);return hs(pk(pk({},e),{},{scale:r}),t)},u2=()=>ke(X0),gx=(e,t)=>t,c2=(e,t,r)=>r,vx=(e,t,r,n)=>n,FW=X(Hi,e=>Df(e,t=>t.coordinate)),yx=X([Lo,gx,c2,vx],QO),d2=X([yx,_s],dx),zW=(e,t,r)=>{if(t!=null){var n=Lo(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},f2=X([Lo,gx,c2,vx],ZO),uf=X([Ui,qi,Je,Zt,Hi,vx,f2,Mu],JO),UW=X([yx,uf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),h2=X(Hi,d2,HO),qW=X([f2,d2,bs,dr,h2,Mu,gx],e2),WW=X([yx],e=>({isActive:e.active,activeIndex:e.index})),KW=(e,t,r,n,i,a,o,c)=>{if(!(!e||!t||!n||!i||!a)){var u=aF(e.chartX,e.chartY,t,r,c);if(u){var d=oF(u,t),f=V6(d,o,a,n,i),m=sF(t,a,f,u);return{activeIndex:String(f),activeCoordinate:m}}}};function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oy.apply(null,arguments)}function mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function md(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(r),!0).forEach(function(n){HW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HW(e,t,r){return(t=VW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VW(e){var t=YW(e,"string");return typeof t=="symbol"?t:t+""}function YW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GW(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:o,cursor:c,tooltipEventType:u,chartName:d}=e,f=t,m=r,g=n;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var x,w;if(d==="ScatterChart")x=f,w=l5;else if(d==="BarChart")x=u5(o,f,i,a),w=sN;else if(o==="radial"){var{cx:b,cy:S,radius:j,startAngle:C,endAngle:E}=oN(f);x={cx:b,cy:S,startAngle:C,endAngle:E,innerRadius:j,outerRadius:j},w=uN}else x={points:G5(o,f,i)},w=ql;var P=typeof c=="object"&&"className"in c?c.className:void 0,N=md(md(md(md({stroke:"#ccc",pointerEvents:"none"},i),x),We(c,!1)),{},{payload:m,payloadIndex:g,className:Fe("recharts-tooltip-cursor",P)});return y.isValidElement(c)?y.cloneElement(c,N):y.createElement(w,N)}function XW(e){var t=BW(),r=eN(),n=Eu(),i=u2();return y.createElement(GW,oy({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var p2=y.createContext(null),QW=()=>y.useContext(p2),Dg={exports:{}},gk;function JW(){return gk||(gk=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function a(u,d,f,m,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var x=new i(f,m||u,g),w=r?r+d:d;return u._events[w]?u._events[w].fn?u._events[w]=[u._events[w],x]:u._events[w].push(x):(u._events[w]=x,u._eventsCount++),u}function o(u,d){--u._eventsCount===0?u._events=new n:delete u._events[d]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],f,m;if(this._eventsCount===0)return d;for(m in f=this._events)t.call(f,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},c.prototype.listeners=function(d){var f=r?r+d:d,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,x=m.length,w=new Array(x);g<x;g++)w[g]=m[g].fn;return w},c.prototype.listenerCount=function(d){var f=r?r+d:d,m=this._events[f];return m?m.fn?1:m.length:0},c.prototype.emit=function(d,f,m,g,x,w){var b=r?r+d:d;if(!this._events[b])return!1;var S=this._events[b],j=arguments.length,C,E;if(S.fn){switch(S.once&&this.removeListener(d,S.fn,void 0,!0),j){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,f),!0;case 3:return S.fn.call(S.context,f,m),!0;case 4:return S.fn.call(S.context,f,m,g),!0;case 5:return S.fn.call(S.context,f,m,g,x),!0;case 6:return S.fn.call(S.context,f,m,g,x,w),!0}for(E=1,C=new Array(j-1);E<j;E++)C[E-1]=arguments[E];S.fn.apply(S.context,C)}else{var P=S.length,N;for(E=0;E<P;E++)switch(S[E].once&&this.removeListener(d,S[E].fn,void 0,!0),j){case 1:S[E].fn.call(S[E].context);break;case 2:S[E].fn.call(S[E].context,f);break;case 3:S[E].fn.call(S[E].context,f,m);break;case 4:S[E].fn.call(S[E].context,f,m,g);break;default:if(!C)for(N=1,C=new Array(j-1);N<j;N++)C[N-1]=arguments[N];S[E].fn.apply(S[E].context,C)}}return!0},c.prototype.on=function(d,f,m){return a(this,d,f,m,!1)},c.prototype.once=function(d,f,m){return a(this,d,f,m,!0)},c.prototype.removeListener=function(d,f,m,g){var x=r?r+d:d;if(!this._events[x])return this;if(!f)return o(this,x),this;var w=this._events[x];if(w.fn)w.fn===f&&(!g||w.once)&&(!m||w.context===m)&&o(this,x);else{for(var b=0,S=[],j=w.length;b<j;b++)(w[b].fn!==f||g&&!w[b].once||m&&w[b].context!==m)&&S.push(w[b]);S.length?this._events[x]=S.length===1?S[0]:S:o(this,x)}return this},c.prototype.removeAllListeners=function(d){var f;return d?(f=r?r+d:d,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c}(Dg)),Dg.exports}var ZW=JW();const e7=kn(ZW);var cu=new e7,ly="recharts.syncEvent.tooltip",vk="recharts.syncEvent.brush";function xx(e,t){if(t){var r=Number.parseInt(t,10);if(!Br(r))return e?.[r]}}var t7={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},m2=Cn({name:"options",initialState:t7,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),r7=m2.reducer,{createEventEmitter:n7}=m2.actions;function i7(e){return e.tooltip.syncInteraction}var a7={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},g2=Cn({name:"chartData",initialState:a7,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:yk,setDataStartEndIndexes:s7,setComputedData:eJ}=g2.actions,o7=g2.reducer,v2=()=>{};function l7(){var e=ke(Q0),t=ke(J0),r=Tt(),n=ke(oO),i=ke(Hi),a=Eu(),o=b0(),c=ke(u=>u.rootProps.className);y.useEffect(()=>{if(e==null)return v2;var u=(d,f,m)=>{if(t!==m&&e===d){if(n==="index"){r(f);return}if(i!=null){var g;if(typeof n=="function"){var x={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},w=n(i,x);g=i[w]}else n==="value"&&(g=i.find(A=>String(A.value)===f.payload.label));var{coordinate:b}=f.payload;if(g==null||f.payload.active===!1||b==null||o==null){r(ay({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:S,y:j}=b,C=Math.min(S,o.x+o.width),E=Math.min(j,o.y+o.height),P={x:a==="horizontal"?g.coordinate:C,y:a==="horizontal"?E:g.coordinate},N=ay({active:f.payload.active,coordinate:P,dataKey:f.payload.dataKey,index:String(g.index),label:f.payload.label});r(N)}}};return cu.on(ly,u),()=>{cu.off(ly,u)}},[c,r,t,e,n,i,a,o])}function u7(){var e=ke(Q0),t=ke(J0),r=Tt();y.useEffect(()=>{if(e==null)return v2;var n=(i,a,o)=>{t!==o&&e===i&&r(s7(a))};return cu.on(vk,n),()=>{cu.off(vk,n)}},[r,t,e])}function c7(){var e=Tt();y.useEffect(()=>{e(n7())},[e]),l7(),u7()}function d7(e,t,r,n,i,a){var o=ke(g=>zW(g,e,t)),c=ke(J0),u=ke(Q0),d=ke(oO),f=ke(i7),m=f?.active;y.useEffect(()=>{if(!m&&u!=null&&c!=null){var g=ay({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n});cu.emit(ly,u,g,c)}},[m,r,o,i,n,c,u,d,a])}function xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xk(Object(r),!0).forEach(function(n){f7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f7(e,t,r){return(t=h7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h7(e){var t=p7(e,"string");return typeof t=="symbol"?t:t+""}function p7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m7(e){return e.dataKey}function g7(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(FF,t)}var wk=[],v7={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!vs.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Rg(e){var t=hi(e,v7),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:o,filterNull:c,isAnimationActive:u,offset:d,payloadUniqBy:f,position:m,reverseDirection:g,useTranslate3d:x,wrapperStyle:w,cursor:b,shared:S,trigger:j,defaultIndex:C,portal:E,axisId:P}=t,N=Tt(),A=typeof C=="number"?String(C):C;y.useEffect(()=>{N(Yq({shared:S,trigger:j,axisId:P,active:r,defaultIndex:A}))},[N,S,j,P,r,A]);var T=b0(),D=rN(),F=qq(S),{activeIndex:z,isActive:L}=ke(ee=>WW(ee,F,j,A)),H=ke(ee=>qW(ee,F,j,A)),ne=ke(ee=>h2(ee,F,j,A)),ce=ke(ee=>UW(ee,F,j,A)),fe=H,K=QW(),q=r??L,[Y,Z]=kP([fe,q]),te=F==="axis"?ne:void 0;d7(F,j,ce,te,z,q);var M=E??K;if(M==null)return null;var B=fe??wk;q||(B=wk),c&&B.length&&(B=bP(fe.filter(ee=>ee.value!=null&&(ee.hide!==!0||t.includeHidden)),f,m7));var de=B.length>0,_e=y.createElement(VF,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:u,active:q,coordinate:ce,hasPayload:de,offset:d,position:m,reverseDirection:g,useTranslate3d:x,viewBox:T,wrapperStyle:w,lastBoundingBox:Y,innerRef:Z,hasPortalFromProps:!!E},g7(o,bk(bk({},t),{},{payload:B,label:te,active:q,coordinate:ce,accessibilityLayer:D})));return y.createElement(y.Fragment,null,Xa.createPortal(_e,M),q&&y.createElement(XW,{cursor:b,tooltipEventType:F,coordinate:ce,payload:fe,index:z}))}var Mg={},Lg={},$g={},_k;function y7(){return _k||(_k=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let o,c=null;const u=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),f=()=>{c!==null&&(r.apply(o,c),o=void 0,c=null)},m=()=>{d&&f(),b()};let g=null;const x=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,m()},n)},w=()=>{g!==null&&(clearTimeout(g),g=null)},b=()=>{w(),o=void 0,c=null},S=()=>{f()},j=function(...C){if(i?.aborted)return;o=this,c=C;const E=g==null;x(),u&&E&&f()};return j.schedule=x,j.cancel=b,j.flush=S,i?.addEventListener("abort",b,{once:!0}),j}e.debounce=t}($g)),$g}var Sk;function x7(){return Sk||(Sk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y7();function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:c=!0,maxWait:u}=a,d=Array(2);o&&(d[0]="leading"),c&&(d[1]="trailing");let f,m=null;const g=t.debounce(function(...b){f=n.apply(this,b),m=null},i,{edges:d}),x=function(...b){return u!=null&&(m===null&&(m=Date.now()),Date.now()-m>=u)?(f=n.apply(this,b),m=Date.now(),g.cancel(),g.schedule(),f):(g.apply(this,b),f)},w=()=>(g.flush(),f);return x.cancel=g.cancel,x.flush=w,x}e.debounce=r}(Lg)),Lg}var jk;function b7(){return jk||(jk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x7();function r(n,i=0,a={}){const{leading:o=!0,trailing:c=!0}=a;return t.debounce(n,i,{leading:o,maxWait:i,trailing:c})}e.throttle=r}(Mg)),Mg}var Bg,kk;function w7(){return kk||(kk=1,Bg=b7().throttle),Bg}var _7=w7();const S7=kn(_7);var Wl=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function Ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ek(Object(r),!0).forEach(function(n){j7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ek(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j7(e,t,r){return(t=k7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k7(e){var t=E7(e,"string");return typeof t=="symbol"?t:t+""}function E7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zg=y.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:c,maxHeight:u,children:d,debounce:f=0,id:m,className:g,onResize:x,style:w={}}=e,b=y.useRef(null),S=y.useRef();S.current=x,y.useImperativeHandle(t,()=>b.current);var[j,C]=y.useState({containerWidth:n.width,containerHeight:n.height}),E=y.useCallback((N,A)=>{C(T=>{var D=Math.round(N),F=Math.round(A);return T.containerWidth===D&&T.containerHeight===F?T:{containerWidth:D,containerHeight:F}})},[]);y.useEffect(()=>{var N=F=>{var z,{width:L,height:H}=F[0].contentRect;E(L,H),(z=S.current)===null||z===void 0||z.call(S,L,H)};f>0&&(N=S7(N,f,{trailing:!0,leading:!1}));var A=new ResizeObserver(N),{width:T,height:D}=b.current.getBoundingClientRect();return E(T,D),A.observe(b.current),()=>{A.disconnect()}},[E,f]);var P=y.useMemo(()=>{var{containerWidth:N,containerHeight:A}=j;if(N<0||A<0)return null;Wl(Qa(i)||Qa(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),Wl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var T=Qa(i)?N:i,D=Qa(a)?A:a;return r&&r>0&&(T?D=T/r:D&&(T=D*r),u&&D>u&&(D=u)),Wl(T>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,D,i,a,o,c,r),y.Children.map(d,F=>y.cloneElement(F,{width:T,height:D,style:Fg({width:T,height:D},F.props.style)}))},[r,d,a,u,c,o,j,i]);return y.createElement("div",{id:m?"".concat(m):void 0,className:Fe("recharts-responsive-container",g),style:Fg(Fg({},w),{},{width:i,height:a,minWidth:o,minHeight:c,maxHeight:u}),ref:b},y.createElement("div",{style:{width:0,height:0,overflow:"visible"}},P))}),y2=e=>null;y2.displayName="Cell";function Ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(r),!0).forEach(function(n){C7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C7(e,t,r){return(t=P7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P7(e){var t=N7(e,"string");return typeof t=="symbol"?t:t+""}function N7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ao={widthCache:{},cacheCount:0},O7=2e3,A7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Pk="recharts_measurement_span";function T7(e){var t=uy({},e);return Object.keys(t).forEach(r=>{t[r]||delete t[r]}),t}var Kl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||vs.isSsr)return{width:0,height:0};var n=T7(r),i=JSON.stringify({text:t,copyStyle:n});if(ao.widthCache[i])return ao.widthCache[i];try{var a=document.getElementById(Pk);a||(a=document.createElement("span"),a.setAttribute("id",Pk),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=uy(uy({},A7),n);Object.assign(a.style,o),a.textContent="".concat(t);var c=a.getBoundingClientRect(),u={width:c.width,height:c.height};return ao.widthCache[i]=u,++ao.cacheCount>O7&&(ao.cacheCount=0,ao.widthCache={}),u}catch{return{width:0,height:0}}},Nk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ok=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,I7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,D7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,x2={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},R7=Object.keys(x2),uo="NaN";function M7(e,t){return e*x2[t]}class Mr{static parse(t){var r,[,n,i]=(r=D7.exec(t))!==null&&r!==void 0?r:[];return new Mr(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Br(t)&&(this.unit=""),r!==""&&!I7.test(r)&&(this.num=NaN,this.unit=""),R7.includes(r)&&(this.num=M7(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Mr(NaN,""):new Mr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Mr(NaN,""):new Mr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Mr(NaN,""):new Mr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Mr(NaN,""):new Mr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Br(this.num)}}function b2(e){if(e.includes(uo))return uo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=Nk.exec(t))!==null&&r!==void 0?r:[],o=Mr.parse(n??""),c=Mr.parse(a??""),u=i==="*"?o.multiply(c):o.divide(c);if(u.isNaN())return uo;t=t.replace(Nk,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,f,m,g]=(d=Ok.exec(t))!==null&&d!==void 0?d:[],x=Mr.parse(f??""),w=Mr.parse(g??""),b=m==="+"?x.add(w):x.subtract(w);if(b.isNaN())return uo;t=t.replace(Ok,b.toString())}return t}var Ak=/\(([^()]*)\)/;function L7(e){for(var t=e,r;(r=Ak.exec(t))!=null;){var[,n]=r;t=t.replace(Ak,b2(n))}return t}function $7(e){var t=e.replace(/\s+/g,"");return t=L7(t),t=b2(t),t}function B7(e){try{return $7(e)}catch{return uo}}function Ug(e){var t=B7(e.slice(5,-1));return t===uo?"":t}var F7=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],z7=["dx","dy","angle","className","breakAll"];function cy(){return cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cy.apply(null,arguments)}function Tk(e,t){if(e==null)return{};var r,n,i=U7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function U7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var w2=/[ \f\n\r\t\v\u2028\u2029]+/,_2=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];st(t)||(r?i=t.toString().split(""):i=t.toString().split(w2));var a=i.map(c=>({word:c,width:Kl(c,n).width})),o=r?0:Kl(" ",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},q7=(e,t,r,n,i)=>{var{maxLines:a,children:o,style:c,breakAll:u}=e,d=ve(a),f=o,m=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce((H,ne)=>{var{word:ce,width:fe}=ne,K=H[H.length-1];if(K&&(n==null||i||K.width+fe+r<Number(n)))K.words.push(ce),K.width+=fe+r;else{var q={words:[ce],width:fe};H.push(q)}return H},[])},g=m(t),x=z=>z.reduce((L,H)=>L.width>H.width?L:H);if(!d||i)return g;var w=g.length>a||x(g).width>Number(n);if(!w)return g;for(var b="…",S=z=>{var L=f.slice(0,z),H=_2({breakAll:u,style:c,children:L+b}).wordsWithComputedWidth,ne=m(H),ce=ne.length>a||x(ne).width>Number(n);return[ce,ne]},j=0,C=f.length-1,E=0,P;j<=C&&E<=f.length-1;){var N=Math.floor((j+C)/2),A=N-1,[T,D]=S(A),[F]=S(N);if(!T&&!F&&(j=N+1),T&&F&&(C=N-1),!T&&F){P=D;break}E++}return P||g},Ik=e=>{var t=st(e)?[]:e.toString().split(w2);return[{words:t}]},W7=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=e;if((t||r)&&!vs.isSsr){var c,u,d=_2({breakAll:a,children:n,style:i});if(d){var{wordsWithComputedWidth:f,spaceWidth:m}=d;c=f,u=m}else return Ik(n);return q7({breakAll:a,children:n,maxLines:o,style:i},c,u,t,r)}return Ik(n)},Dk="#808080",bx=y.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:c="start",verticalAnchor:u="end",fill:d=Dk}=e,f=Tk(e,F7),m=y.useMemo(()=>W7({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:o,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,o,f.style,f.width]),{dx:g,dy:x,angle:w,className:b,breakAll:S}=f,j=Tk(f,z7);if(!oi(r)||!oi(n))return null;var C=r+(ve(g)?g:0),E=n+(ve(x)?x:0),P;switch(u){case"start":P=Ug("calc(".concat(a,")"));break;case"middle":P=Ug("calc(".concat((m.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:P=Ug("calc(".concat(m.length-1," * -").concat(i,")"));break}var N=[];if(o){var A=m[0].width,{width:T}=f;N.push("scale(".concat(ve(T)?T/A:1,")"))}return w&&N.push("rotate(".concat(w,", ").concat(C,", ").concat(E,")")),N.length&&(j.transform=N.join(" ")),y.createElement("text",cy({},We(j,!0),{ref:t,x:C,y:E,className:Fe("recharts-text",b),textAnchor:c,fill:d.includes("url")?Dk:d}),m.map((D,F)=>{var z=D.words.join(S?"":" ");return y.createElement("tspan",{x:C,dy:F===0?P:i,key:"".concat(z,"-").concat(F)},z)}))});bx.displayName="Text";var K7=["offset"],H7=["labelRef"];function Rk(e,t){if(e==null)return{};var r,n,i=V7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function V7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mk(Object(r),!0).forEach(function(n){Y7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y7(e,t,r){return(t=G7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G7(e){var t=X7(e,"string");return typeof t=="symbol"?t:t+""}function X7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pi(){return Pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pi.apply(null,arguments)}var Q7=e=>{var{value:t,formatter:r}=e,n=st(e.children)?t:e.children;return typeof r=="function"?r(n):n},wx=e=>e!=null&&typeof e=="function",J7=(e,t)=>{var r=Lr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Z7=(e,t,r)=>{var{position:n,viewBox:i,offset:a,className:o}=e,{cx:c,cy:u,innerRadius:d,outerRadius:f,startAngle:m,endAngle:g,clockWise:x}=i,w=(d+f)/2,b=J7(m,g),S=b>=0?1:-1,j,C;n==="insideStart"?(j=m+S*a,C=x):n==="insideEnd"?(j=g-S*a,C=!x):n==="end"&&(j=g+S*a,C=x),C=b<=0?C:!C;var E=ur(c,u,w,j),P=ur(c,u,w,j+(C?1:-1)*359),N="M".concat(E.x,",").concat(E.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(C?0:1,`,
    `).concat(P.x,",").concat(P.y),A=st(e.id)?cs("recharts-radial-line-"):e.id;return y.createElement("text",Pi({},r,{dominantBaseline:"central",className:Fe("recharts-radial-bar-label",o)}),y.createElement("defs",null,y.createElement("path",{id:A,d:N})),y.createElement("textPath",{xlinkHref:"#".concat(A)},t))},eK=e=>{var{viewBox:t,offset:r,position:n}=e,{cx:i,cy:a,innerRadius:o,outerRadius:c,startAngle:u,endAngle:d}=t,f=(u+d)/2;if(n==="outside"){var{x:m,y:g}=ur(i,a,c+r,f);return{x:m,y:g,textAnchor:m>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(o+c)/2,{x:w,y:b}=ur(i,a,x,f);return{x:w,y:b,textAnchor:"middle",verticalAnchor:"middle"}},tK=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,{x:a,y:o,width:c,height:u}=t,d=u>=0?1:-1,f=d*n,m=d>0?"end":"start",g=d>0?"start":"end",x=c>=0?1:-1,w=x*n,b=x>0?"end":"start",S=x>0?"start":"end";if(i==="top"){var j={x:a+c/2,y:o-d*n,textAnchor:"middle",verticalAnchor:m};return Dt(Dt({},j),r?{height:Math.max(o-r.y,0),width:c}:{})}if(i==="bottom"){var C={x:a+c/2,y:o+u+f,textAnchor:"middle",verticalAnchor:g};return Dt(Dt({},C),r?{height:Math.max(r.y+r.height-(o+u),0),width:c}:{})}if(i==="left"){var E={x:a-w,y:o+u/2,textAnchor:b,verticalAnchor:"middle"};return Dt(Dt({},E),r?{width:Math.max(E.x-r.x,0),height:u}:{})}if(i==="right"){var P={x:a+c+w,y:o+u/2,textAnchor:S,verticalAnchor:"middle"};return Dt(Dt({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:u}:{})}var N=r?{width:c,height:u}:{};return i==="insideLeft"?Dt({x:a+w,y:o+u/2,textAnchor:S,verticalAnchor:"middle"},N):i==="insideRight"?Dt({x:a+c-w,y:o+u/2,textAnchor:b,verticalAnchor:"middle"},N):i==="insideTop"?Dt({x:a+c/2,y:o+f,textAnchor:"middle",verticalAnchor:g},N):i==="insideBottom"?Dt({x:a+c/2,y:o+u-f,textAnchor:"middle",verticalAnchor:m},N):i==="insideTopLeft"?Dt({x:a+w,y:o+f,textAnchor:S,verticalAnchor:g},N):i==="insideTopRight"?Dt({x:a+c-w,y:o+f,textAnchor:b,verticalAnchor:g},N):i==="insideBottomLeft"?Dt({x:a+w,y:o+u-f,textAnchor:S,verticalAnchor:m},N):i==="insideBottomRight"?Dt({x:a+c-w,y:o+u-f,textAnchor:b,verticalAnchor:m},N):i&&typeof i=="object"&&(ve(i.x)||Qa(i.x))&&(ve(i.y)||Qa(i.y))?Dt({x:a+Kn(i.x,c),y:o+Kn(i.y,u),textAnchor:"end",verticalAnchor:"end"},N):Dt({x:a+c/2,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},N)},rK=e=>"cx"in e&&ve(e.cx);function en(e){var{offset:t=5}=e,r=Rk(e,K7),n=Dt({offset:t},r),{viewBox:i,position:a,value:o,children:c,content:u,className:d="",textBreakAll:f,labelRef:m}=n,g=b0(),x=i||g;if(!x||st(o)&&st(c)&&!y.isValidElement(u)&&typeof u!="function")return null;if(y.isValidElement(u)){var{labelRef:w}=n,b=Rk(n,H7);return y.cloneElement(u,b)}var S;if(typeof u=="function"){if(S=y.createElement(u,n),y.isValidElement(S))return S}else S=Q7(n);var j=rK(x),C=We(n,!0);if(j&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Z7(n,S,C);var E=j?eK(n):tK(n,x);return y.createElement(bx,Pi({ref:m,className:Fe("recharts-label",d)},C,E,{breakAll:f}),S)}en.displayName="Label";var S2=e=>{var{cx:t,cy:r,angle:n,startAngle:i,endAngle:a,r:o,radius:c,innerRadius:u,outerRadius:d,x:f,y:m,top:g,left:x,width:w,height:b,clockWise:S,labelViewBox:j}=e;if(j)return j;if(ve(w)&&ve(b)){if(ve(f)&&ve(m))return{x:f,y:m,width:w,height:b};if(ve(g)&&ve(x))return{x:g,y:x,width:w,height:b}}if(ve(f)&&ve(m))return{x:f,y:m,width:0,height:0};if(ve(t)&&ve(r))return{cx:t,cy:r,startAngle:i||n||0,endAngle:a||n||0,innerRadius:u||0,outerRadius:d||c||o||0,clockWise:S};if(e.viewBox)return e.viewBox},nK=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?y.createElement(en,Pi({key:"label-implicit"},n)):oi(e)?y.createElement(en,Pi({key:"label-implicit",value:e},n)):y.isValidElement(e)?e.type===en?y.cloneElement(e,Dt({key:"label-implicit"},n)):y.createElement(en,Pi({key:"label-implicit",content:e},n)):wx(e)?y.createElement(en,Pi({key:"label-implicit",content:e},n)):e&&typeof e=="object"?y.createElement(en,Pi({},e,{key:"label-implicit"},n)):null},iK=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:i,labelRef:a}=t,o=S2(t),c=Jy(i,en).map((d,f)=>y.cloneElement(d,{viewBox:r||o,key:"label-".concat(f)}));if(!n)return c;var u=nK(t.label,r||o,a);return[u,...c]};en.parseViewBox=S2;en.renderCallByParent=iK;var qg={},Wg={},Lk;function aK(){return Lk||(Lk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t}(Wg)),Wg}var Kg={},$k;function sK(){return $k||($k=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t}(Kg)),Kg}var Bk;function oK(){return Bk||(Bk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aK(),r=sK(),n=s0();function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i}(qg)),qg}var Hg,Fk;function lK(){return Fk||(Fk=1,Hg=oK().last),Hg}var uK=lK();const cK=kn(uK);var dK=["valueAccessor"],fK=["data","dataKey","clockWise","id","textBreakAll"];function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cf.apply(null,arguments)}function zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(r),!0).forEach(function(n){hK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hK(e,t,r){return(t=pK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pK(e){var t=mK(e,"string");return typeof t=="symbol"?t:t+""}function mK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qk(e,t){if(e==null)return{};var r,n,i=gK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vK=e=>Array.isArray(e.value)?cK(e.value):e.value;function Ri(e){var{valueAccessor:t=vK}=e,r=qk(e,dK),{data:n,dataKey:i,clockWise:a,id:o,textBreakAll:c}=r,u=qk(r,fK);return!n||!n.length?null:y.createElement(Jt,{className:"recharts-label-list"},n.map((d,f)=>{var m=st(i)?t(d,f):Qt(d&&d.payload,i),g=st(o)?{}:{id:"".concat(o,"-").concat(f)};return y.createElement(en,cf({},We(d,!0),u,g,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:en.parseViewBox(st(a)?d:Uk(Uk({},d),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}Ri.displayName="LabelList";function yK(e,t){return e?e===!0?y.createElement(Ri,{key:"labelList-implicit",data:t}):y.isValidElement(e)||wx(e)?y.createElement(Ri,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?y.createElement(Ri,cf({data:t},e,{key:"labelList-implicit"})):null:null}function xK(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,i=Jy(n,Ri).map((o,c)=>y.cloneElement(o,{data:t,key:"labelList-".concat(c)}));if(!r)return i;var a=yK(e.label,t);return[a,...i]}Ri.renderCallByParent=xK;function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dy.apply(null,arguments)}var _x=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=Fe("recharts-dot",i);return t===+t&&r===+r&&n===+n?y.createElement("circle",dy({},We(e,!1),Qy(e),{className:a,cx:t,cy:r,r:n})):null},bK={radiusAxis:{},angleAxis:{}},j2=Cn({name:"polarAxis",initialState:bK,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:tJ,removeRadiusAxis:rJ,addAngleAxis:nJ,removeAngleAxis:iJ}=j2.actions,wK=j2.reducer,_K={countOfBars:0,cartesianItems:[],polarItems:[]},k2=Cn({name:"graphicalItems",initialState:_K,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=Ii(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=Ii(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Ii(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addBar:SK,removeBar:jK,addCartesianGraphicalItem:kK,replaceCartesianGraphicalItem:EK,removeCartesianGraphicalItem:CK,addPolarGraphicalItem:aJ,removePolarGraphicalItem:sJ}=k2.actions,PK=k2.reducer;function Wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wk(Object(r),!0).forEach(function(n){NK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NK(e,t,r){return(t=OK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OK(e){var t=AK(e,"string");return typeof t=="symbol"?t:t+""}function AK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TK(e){var t=Tt(),r=y.useRef(null);return y.useEffect(()=>{var n=Kk(Kk({},e),{},{stackId:v0(e.stackId)});r.current===null?t(kK(n)):r.current!==n&&t(EK({prev:r.current,next:n})),r.current=n},[t,e]),y.useEffect(()=>()=>{r.current&&(t(CK(r.current)),r.current=null)},[t]),null}var Vg={},Hk;function IK(){return Hk||(Hk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t}(Vg)),Vg}var Yg,Vk;function DK(){return Vk||(Vk=1,Yg=IK().isPlainObject),Yg}var RK=DK();const MK=kn(RK);function df(){return df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},df.apply(null,arguments)}var Yk=(e,t,r,n,i)=>{var a=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-a/2,",").concat(t+i),o+="L ".concat(e+r-a/2-n,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z"),o},LK={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$K=e=>{var t=hi(e,LK),r=y.useRef(),[n,i]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&i(S)}catch{}},[]);var{x:a,y:o,upperWidth:c,lowerWidth:u,height:d,className:f}=t,{animationEasing:m,animationDuration:g,animationBegin:x,isUpdateAnimationActive:w}=t;if(a!==+a||o!==+o||c!==+c||u!==+u||d!==+d||c===0&&u===0||d===0)return null;var b=Fe("recharts-trapezoid",f);return w?y.createElement(Sa,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:d,x:a,y:o},to:{upperWidth:c,lowerWidth:u,height:d,x:a,y:o},duration:g,animationEasing:m,isActive:w},S=>{var{upperWidth:j,lowerWidth:C,height:E,x:P,y:N}=S;return y.createElement(Sa,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,easing:m},y.createElement("path",df({},We(t,!0),{className:b,d:Yk(P,N,j,C,E),ref:r})))}):y.createElement("g",null,y.createElement("path",df({},We(t,!0),{className:b,d:Yk(a,o,c,u,d)})))},BK=["option","shapeType","propTransformer","activeClassName","isActive"];function FK(e,t){if(e==null)return{};var r,n,i=zK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ff(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gk(Object(r),!0).forEach(function(n){UK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UK(e,t,r){return(t=qK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qK(e){var t=WK(e,"string");return typeof t=="symbol"?t:t+""}function WK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KK(e,t){return ff(ff({},t),e)}function HK(e,t){return e==="symbols"}function Xk(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return y.createElement(sN,r);case"trapezoid":return y.createElement($K,r);case"sector":return y.createElement(uN,r);case"symbols":if(HK(t))return y.createElement(n0,r);break;default:return null}}function VK(e){return y.isValidElement(e)?e.props:e}function YK(e){var{option:t,shapeType:r,propTransformer:n=KK,activeClassName:i="recharts-active-shape",isActive:a}=e,o=FK(e,BK),c;if(y.isValidElement(t))c=y.cloneElement(t,ff(ff({},o),VK(t)));else if(typeof t=="function")c=t(o);else if(MK(t)&&typeof t!="boolean"){var u=n(t,o);c=y.createElement(Xk,{shapeType:r,elementProps:u})}else{var d=o;c=y.createElement(Xk,{shapeType:r,elementProps:d})}return a?y.createElement(Jt,{className:i},c):c}var E2=(e,t)=>{var r=Tt();return(n,i)=>a=>{e?.(n,i,a),r(YO({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},C2=e=>{var t=Tt();return(r,n)=>i=>{e?.(r,n,i),t(Gq())}},P2=(e,t)=>{var r=Tt();return(n,i)=>a=>{e?.(n,i,a),r(Xq({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Sx(e){var{fn:t,args:r}=e,n=Tt(),i=Sr();return y.useEffect(()=>{if(!i){var a=t(r);return n(Hq(a)),()=>{n(Vq(a))}}},[t,r,n,i]),null}var GK=()=>{};function jx(e){var{legendPayload:t}=e,r=Tt(),n=Sr();return y.useEffect(()=>n?GK:(r(_F(t)),()=>{r(SF(t))}),[r,n,t]),null}function kx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=y.useRef(cs(t)),n=y.useRef(e);return n.current!==e&&(r.current=cs(t),n.current=e),r.current}var XK=X([Zt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),QK=X([XK,Ui,qi],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),JK=e=>{var t=Sr();return ke(r=>jn(r,"xAxis",e,t))},ZK=e=>{var t=Sr();return ke(r=>jn(r,"yAxis",e,t))},uh=()=>ke(QK),e9=()=>ke(DW);function Qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qk(Object(r),!0).forEach(function(n){t9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t9(e,t,r){return(t=r9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r9(e){var t=n9(e,"string");return typeof t=="symbol"?t:t+""}function n9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i9=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a}=e;if(i===!1||t.x==null||t.y==null)return null;var o=Jk(Jk({index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},We(i,!1)),Qy(i)),c;return y.isValidElement(i)?c=y.cloneElement(i,o):typeof i=="function"?c=i(o):c=y.createElement(_x,o),y.createElement(Jt,{className:"recharts-active-dot"},c)};function fy(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i}=e,a=ke(ms),o=e9();if(t==null||o==null)return null;var c=t.find(u=>o.includes(u.payload));return st(c)?null:i9({point:c,childIndex:Number(a),mainColor:r,dataKey:i,activeDot:n})}var a9=()=>{var e=Tt();return y.useEffect(()=>(e(SK()),()=>{e(jK())})),null},s9=["children"];function o9(e,t){if(e==null)return{};var r,n,i=l9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function l9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Zk=()=>{},N2=y.createContext({addErrorBar:Zk,removeErrorBar:Zk}),u9={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},O2=y.createContext(u9);function A2(e){var{children:t}=e,r=o9(e,s9);return y.createElement(O2.Provider,{value:r},t)}var c9=()=>y.useContext(O2),Ex=e=>{var{children:t,xAxisId:r,yAxisId:n,zAxisId:i,dataKey:a,data:o,stackId:c,hide:u,type:d,barSize:f}=e,[m,g]=y.useState([]),x=y.useCallback(S=>{g(j=>[...j,S])},[g]),w=y.useCallback(S=>{g(j=>j.filter(C=>C!==S))},[g]),b=Sr();return y.createElement(N2.Provider,{value:{addErrorBar:x,removeErrorBar:w}},y.createElement(TK,{type:d,data:o,xAxisId:r,yAxisId:n,zAxisId:i,dataKey:a,errorBars:m,stackId:c,hide:u,barSize:f,isPanorama:b}),t)};function d9(e){var{addErrorBar:t,removeErrorBar:r}=y.useContext(N2);return y.useEffect(()=>(t(e),()=>{r(e)}),[t,r,e]),null}var f9=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function T2(e,t,r){return(t=h9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h9(e){var t=p9(e,"string");return typeof t=="symbol"?t:t+""}function p9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function du(){return du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},du.apply(null,arguments)}function m9(e,t){if(e==null)return{};var r,n,i=g9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function g9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function v9(e){var{direction:t,width:r,dataKey:n,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:c}=e,u=m9(e,f9),d=We(u,!1),{data:f,dataPointFormatter:m,xAxisId:g,yAxisId:x,errorBarOffset:w}=c9(),b=JK(g),S=ZK(x);if(b?.scale==null||S?.scale==null||f==null||t==="x"&&b.type!=="number")return null;var j=f.map(C=>{var{x:E,y:P,value:N,errorVal:A}=m(C,n,t);if(!A)return null;var T=[],D,F;if(Array.isArray(A)?[D,F]=A:D=F=A,t==="x"){var{scale:z}=b,L=P+w,H=L+r,ne=L-r,ce=z(N-D),fe=z(N+F);T.push({x1:fe,y1:H,x2:fe,y2:ne}),T.push({x1:ce,y1:L,x2:fe,y2:L}),T.push({x1:ce,y1:H,x2:ce,y2:ne})}else if(t==="y"){var{scale:K}=S,q=E+w,Y=q-r,Z=q+r,te=K(N-D),M=K(N+F);T.push({x1:Y,y1:M,x2:Z,y2:M}),T.push({x1:q,y1:te,x2:q,y2:M}),T.push({x1:Y,y1:te,x2:Z,y2:te})}var B="".concat(E+w,"px ").concat(P+w,"px");return y.createElement(Jt,du({className:"recharts-errorBar",key:"bar-".concat(T.map(de=>"".concat(de.x1,"-").concat(de.x2,"-").concat(de.y1,"-").concat(de.y2)))},d),T.map(de=>{var _e=i?{transformOrigin:"".concat(de.x1-5,"px")}:void 0;return y.createElement(Sa,{from:{transform:"scaleY(0)",transformOrigin:B},to:{transform:"scaleY(1)",transformOrigin:B},begin:a,easing:c,isActive:i,duration:o,key:"line-".concat(de.x1,"-").concat(de.x2,"-").concat(de.y1,"-").concat(de.y2),style:{transformOrigin:B}},y.createElement("line",du({},de,{style:_e})))}))});return y.createElement(Jt,{className:"recharts-errorBars"},j)}var I2=y.createContext(void 0);function y9(e){var t=y.useContext(I2);return e??t??"x"}function D2(e){var{direction:t,children:r}=e;return y.createElement(I2.Provider,{value:t},r)}var R2={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function x9(e){var t=y9(e.direction),{width:r,isAnimationActive:n,animationBegin:i,animationDuration:a,animationEasing:o}=hi(e,R2);return y.createElement(y.Fragment,null,y.createElement(d9,{dataKey:e.dataKey,direction:t}),y.createElement(v9,du({},e,{direction:t,width:r,isAnimationActive:n,animationBegin:i,animationDuration:a,animationEasing:o})))}class M2 extends y.Component{render(){return y.createElement(x9,this.props)}}T2(M2,"defaultProps",R2);T2(M2,"displayName","ErrorBar");var b9="Invariant failed";function w9(e,t){throw new Error(b9)}var _9=["x","y"];function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hy.apply(null,arguments)}function eE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Il(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eE(Object(r),!0).forEach(function(n){S9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S9(e,t,r){return(t=j9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j9(e){var t=k9(e,"string");return typeof t=="symbol"?t:t+""}function k9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E9(e,t){if(e==null)return{};var r,n,i=C9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function C9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function P9(e,t){var{x:r,y:n}=e,i=E9(e,_9),a="".concat(r),o=parseInt(a,10),c="".concat(n),u=parseInt(c,10),d="".concat(t.height||i.height),f=parseInt(d,10),m="".concat(t.width||i.width),g=parseInt(m,10);return Il(Il(Il(Il(Il({},t),i),o?{x:o}:{}),u?{y:u}:{}),{},{height:f,width:g,name:t.name,radius:t.radius})}function L2(e){return y.createElement(YK,hy({shapeType:"rectangle",propTransformer:P9,activeClassName:"recharts-active-bar"},e))}var N9=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(ve(t))return t;var a=ve(n)||st(n);return a?t(n,i):(a||w9(),r)}};function ch(e,t){var r,n,i=ke(d=>Ki(d,e)),a=ke(d=>Ca(d,t)),o=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:Qr.allowDataOverflow,c=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:Jr.allowDataOverflow,u=o||c;return{needClip:u,needClipX:o,needClipY:c}}function Cx(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=uh(),{needClipX:a,needClipY:o,needClip:c}=ch(t,r);if(!c)return null;var{x:u,y:d,width:f,height:m}=i;return y.createElement("clipPath",{id:"clipPath-".concat(n)},y.createElement("rect",{x:a?u:u-f/2,y:o?d:d-m/2,width:a?f:f*2,height:o?m:m*2}))}var O9=["onMouseEnter","onMouseLeave","onClick"],A9=["value","background","tooltipPosition"],T9=["onMouseEnter","onClick","onMouseLeave"];function fu(){return fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fu.apply(null,arguments)}function tE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(r),!0).forEach(function(n){dh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dh(e,t,r){return(t=I9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I9(e){var t=D9(e,"string");return typeof t=="symbol"?t:t+""}function D9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function py(e,t){if(e==null)return{};var r,n,i=R9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function R9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var M9=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Ao(r,t),payload:e}]};function L9(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:c}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Ao(a,t),hide:o,type:e.tooltipType,color:e.fill,unit:c}}}function $9(e){var t=ke(ms),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:c,onClick:u}=a,d=py(a,O9),f=E2(o,n),m=C2(c),g=P2(u,n);if(!i||r==null)return null;var x=We(i,!1);return y.createElement(y.Fragment,null,r.map((w,b)=>{var{value:S,background:j,tooltipPosition:C}=w,E=py(w,A9);if(!j)return null;var P=f(w,b),N=m(w,b),A=g(w,b),T=wr(wr(wr(wr(wr({option:i,isActive:String(b)===t},E),{},{fill:"#eee"},j),x),Nf(d,w,b)),{},{onMouseEnter:P,onMouseLeave:N,onClick:A,dataKey:n,index:b,className:"recharts-bar-background-rectangle"});return y.createElement(L2,fu({key:"background-bar-".concat(b)},T))}))}function $2(e){var{data:t,props:r,showLabels:n}=e,i=We(r,!1),{shape:a,dataKey:o,activeBar:c}=r,u=ke(ms),d=ke(o2),{onMouseEnter:f,onClick:m,onMouseLeave:g}=r,x=py(r,T9),w=E2(f,o),b=C2(g),S=P2(m,o);return t?y.createElement(y.Fragment,null,t.map((j,C)=>{var E=c&&String(C)===u&&(d==null||o===d),P=E?c:a,N=wr(wr(wr({},i),j),{},{isActive:E,option:P,index:C,dataKey:o});return y.createElement(Jt,fu({className:"recharts-bar-rectangle"},Nf(x,j,C),{onMouseEnter:w(j,C),onMouseLeave:b(j,C),onClick:S(j,C),key:"rectangle-".concat(j?.x,"-").concat(j?.y,"-").concat(j?.value,"-").concat(C)}),y.createElement(L2,N))}),n&&Ri.renderCallByParent(r,t)):null}function B9(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:c,animationEasing:u,onAnimationEnd:d,onAnimationStart:f}=t,m=r.current,g=kx(t,"recharts-bar-"),[x,w]=y.useState(!1),b=y.useCallback(()=>{typeof d=="function"&&d(),w(!1)},[d]),S=y.useCallback(()=>{typeof f=="function"&&f(),w(!0)},[f]);return y.createElement(Sa,{begin:o,duration:c,isActive:a,easing:u,from:{t:0},to:{t:1},onAnimationEnd:b,onAnimationStart:S,key:g},j=>{var{t:C}=j,E=C===1?n:n.map((P,N)=>{var A=m&&m[N];if(A){var T=Fn(A.x,P.x),D=Fn(A.y,P.y),F=Fn(A.width,P.width),z=Fn(A.height,P.height);return wr(wr({},P),{},{x:T(C),y:D(C),width:F(C),height:z(C)})}if(i==="horizontal"){var L=Fn(0,P.height),H=L(C);return wr(wr({},P),{},{y:P.y+P.height-H,height:H})}var ne=Fn(0,P.width),ce=ne(C);return wr(wr({},P),{},{width:ce})});return C>0&&(r.current=E),y.createElement(Jt,null,y.createElement($2,{props:t,data:E,showLabels:!x}))})}function F9(e){var{data:t,isAnimationActive:r}=e,n=y.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?y.createElement(B9,{previousRectanglesRef:n,props:e}):y.createElement($2,{props:e,data:t,showLabels:!0})}var B2=0,z9=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Qt(e,t)}};class U9 extends y.PureComponent{constructor(){super(...arguments),dh(this,"id",cs("recharts-bar-"))}render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:c,background:u,id:d,layout:f}=this.props;if(t)return null;var m=Fe("recharts-bar",i),g=st(d)?this.id:d;return y.createElement(Jt,{className:m},c&&y.createElement("defs",null,y.createElement(Cx,{clipPathId:g,xAxisId:a,yAxisId:o})),y.createElement(Jt,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(g,")"):null},y.createElement($9,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),y.createElement(F9,this.props)),y.createElement(D2,{direction:f==="horizontal"?"y":"x"},this.props.children))}}var F2={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!vs.isSsr,legendType:"rect",minPointSize:B2,xAxisId:0,yAxisId:0};function q9(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:f}=hi(e,F2),{needClip:m}=ch(t,r),g=Eu(),x=Sr(),w=y.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:a,stackId:v0(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,a,e.stackId]),b=Jy(e.children,y2),S=ke(E=>vH(E,t,r,x,w,b));if(g!=="vertical"&&g!=="horizontal")return null;var j,C=S?.[0];return C==null||C.height==null||C.width==null?j=0:j=g==="vertical"?C.height/2:C.width/2,y.createElement(A2,{xAxisId:t,yAxisId:r,data:S,dataPointFormatter:z9,errorBarOffset:j},y.createElement(U9,fu({},e,{layout:g,needClip:m,data:S,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:f})))}function W9(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:c,xAxisTicks:u,yAxisTicks:d,stackedData:f,displayedData:m,offset:g,cells:x}=e,w=t==="horizontal"?c:o,b=f?w.scale.domain():null,S=tF({numericAxis:w});return m.map((j,C)=>{var E,P,N,A,T,D;f?E=X6(f[C],b):(E=Qt(j,r),Array.isArray(E)||(E=[S,E]));var F=N9(n,B2)(E[1],C);if(t==="horizontal"){var z,[L,H]=[c.scale(E[0]),c.scale(E[1])];P=qS({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:j,index:C}),N=(z=H??L)!==null&&z!==void 0?z:void 0,A=i.size;var ne=L-H;if(T=Br(ne)?0:ne,D={x:P,y:g.top,width:A,height:g.height},Math.abs(F)>0&&Math.abs(T)<Math.abs(F)){var ce=Lr(T||F)*(Math.abs(F)-Math.abs(T));N-=ce,T+=ce}}else{var[fe,K]=[o.scale(E[0]),o.scale(E[1])];if(P=fe,N=qS({axis:c,ticks:d,bandSize:a,offset:i.offset,entry:j,index:C}),A=K-fe,T=i.size,D={x:g.left,y:N,width:g.width,height:T},Math.abs(F)>0&&Math.abs(A)<Math.abs(F)){var q=Lr(A||F)*(Math.abs(F)-Math.abs(A));A+=q}}var Y=wr(wr({},j),{},{x:P,y:N,width:A,height:T,value:f?E:E[1],payload:j,background:D,tooltipPosition:{x:P+A/2,y:N+T/2}},x&&x[C]&&x[C].props);return Y})}class hf extends y.PureComponent{render(){return y.createElement(Ex,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},y.createElement(a9,null),y.createElement(jx,{legendPayload:M9(this.props)}),y.createElement(Sx,{fn:L9,args:this.props}),y.createElement(q9,this.props))}}dh(hf,"displayName","Bar");dh(hf,"defaultProps",F2);function rE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rE(Object(r),!0).forEach(function(n){K9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K9(e,t,r){return(t=H9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H9(e){var t=V9(e,"string");return typeof t=="symbol"?t:t+""}function V9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y9=(e,t)=>t,G9=(e,t,r)=>r,X9=(e,t,r,n)=>n,Px=(e,t,r,n,i)=>i,Q9=(e,t,r,n,i)=>i.maxBarSize,J9=(e,t,r,n,i,a)=>a,nE=(e,t,r)=>{var n=r??e;if(!st(n))return Kn(n,t,0)},Z9=X([Je,Tu,Y9,G9,X9],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),eH=(e,t,r,n)=>{var i=Je(e);return i==="horizontal"?uu(e,"yAxis",r,n):uu(e,"xAxis",t,n)},tH=(e,t,r)=>{var n=Je(e);return n==="horizontal"?lk(e,"xAxis",t):lk(e,"yAxis",r)};function rH(e){return e.stackId!=null&&e.dataKey!=null}var nH=(e,t,r)=>{var n={},i=e.filter(rH),a=e.filter(d=>d.stackId==null),o=i.reduce((d,f)=>(d[f.stackId]||(d[f.stackId]=[]),d[f.stackId].push(f),d),n),c=Object.entries(o).map(d=>{var[f,m]=d,g=m.map(w=>w.dataKey),x=nE(t,r,m[0].barSize);return{stackId:f,dataKeys:g,barSize:x}}),u=a.map(d=>{var f=[d.dataKey].filter(g=>g!=null),m=nE(t,r,d.barSize);return{stackId:void 0,dataKeys:f,barSize:m}});return[...c,...u]},iH=X([Z9,W8,tH],nH),aH=(e,t,r,n,i)=>{var a,o,c=Je(e),u=aO(e),{maxBarSize:d}=i,f=st(d)?u:d,m,g;return c==="horizontal"?(m=jn(e,"xAxis",t,n),g=ui(e,"xAxis",t,n)):(m=jn(e,"yAxis",r,n),g=ui(e,"yAxis",r,n)),(a=(o=hs(m,g,!0))!==null&&o!==void 0?o:f)!==null&&a!==void 0?a:0},z2=(e,t,r,n)=>{var i=Je(e),a,o;return i==="horizontal"?(a=jn(e,"xAxis",t,n),o=ui(e,"xAxis",t,n)):(a=jn(e,"yAxis",r,n),o=ui(e,"yAxis",r,n)),hs(a,o)};function sH(e,t,r,n,i){var a=n.length;if(!(a<1)){var o=Kn(e,r,0,!0),c,u=[];if(cr(n[0].barSize)){var d=!1,f=r/a,m=n.reduce((j,C)=>j+(C.barSize||0),0);m+=(a-1)*o,m>=r&&(m-=(a-1)*o,o=0),m>=r&&f>0&&(d=!0,f*=.9,m=a*f);var g=(r-m)/2>>0,x={offset:g-o,size:0};c=n.reduce((j,C)=>{var E,P={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:x.offset+x.size+o,size:d?f:(E=C.barSize)!==null&&E!==void 0?E:0}},N=[...j,P];return x=N[N.length-1].position,N},u)}else{var w=Kn(t,r,0,!0);r-2*w-(a-1)*o<=0&&(o=0);var b=(r-2*w-(a-1)*o)/a;b>1&&(b>>=0);var S=cr(i)?Math.min(b,i):b;c=n.reduce((j,C,E)=>[...j,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:w+(b+o)*E+(b-S)/2,size:S}}],u)}return c}}var oH=(e,t,r,n,i,a,o)=>{var c=st(o)?t:o,u=sH(r,n,i!==a?i:a,e,c);return i!==a&&u!=null&&(u=u.map(d=>gd(gd({},d),{},{position:gd(gd({},d.position),{},{offset:d.position.offset-i/2})}))),u},lH=X([iH,aO,q8,sO,aH,z2,Q9],oH),uH=(e,t,r,n)=>jn(e,"xAxis",t,n),cH=(e,t,r,n)=>jn(e,"yAxis",r,n),dH=(e,t,r,n)=>ui(e,"xAxis",t,n),fH=(e,t,r,n)=>ui(e,"yAxis",r,n),hH=X([lH,Px],(e,t)=>{if(e!=null){var r=e.find(n=>n.stackId===t.stackId&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),pH=(e,t)=>{if(!(!e||t?.dataKey==null)){var{stackId:r}=t;if(r!=null){var n=e[r];if(n){var{stackedData:i}=n;if(i){var a=i.find(o=>o.key===t.dataKey);return a}}}}},mH=X([Tu,Px],(e,t)=>{if(e.some(r=>r.type==="bar"&&t.dataKey===r.dataKey&&t.stackId===r.stackId&&t.stackId===r.stackId))return t}),gH=X([eH,Px],pH),vH=X([Zt,uH,cH,dH,fH,hH,Je,Qf,z2,gH,mH,J9],(e,t,r,n,i,a,o,c,u,d,f,m)=>{var{chartData:g,dataStartIndex:x,dataEndIndex:w}=c;if(!(f==null||a==null||o!=="horizontal"&&o!=="vertical"||t==null||r==null||n==null||i==null||u==null)){var{data:b}=f,S;if(b!=null&&b.length>0?S=b:S=g?.slice(x,w+1),S!=null)return W9({layout:o,barSettings:f,pos:a,bandSize:u,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:d,displayedData:S,offset:e,cells:m})}}),yH=e=>{var{chartData:t}=e,r=Tt(),n=Sr();return y.useEffect(()=>n?()=>{}:(r(yk(t)),()=>{r(yk(void 0))}),[t,r,n]),null},iE={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},U2=Cn({name:"brush",initialState:iE,reducers:{setBrushSettings(e,t){return t.payload==null?iE:t.payload}}}),{setBrushSettings:oJ}=U2.actions,xH=U2.reducer;function bH(e,t,r){return(t=wH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wH(e){var t=_H(e,"string");return typeof t=="symbol"?t:t+""}function _H(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Nx{static create(t){return new Nx(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}bH(Nx,"EPS",1e-4);function SH(e){return(e%180+180)%180}var jH=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=SH(i),o=a*Math.PI/180,c=Math.atan(n/r),u=o>c&&o<Math.PI-c?n/Math.sin(o):r/Math.cos(o);return Math.abs(u)},kH={dots:[],areas:[],lines:[]},q2=Cn({name:"referenceElements",initialState:kH,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Ii(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Ii(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Ii(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:lJ,removeDot:uJ,addArea:cJ,removeArea:dJ,addLine:fJ,removeLine:hJ}=q2.actions,EH=q2.reducer,CH=y.createContext(void 0),PH=e=>{var{children:t}=e,[r]=y.useState("".concat(cs("recharts"),"-clip")),n=uh();if(n==null)return null;var{x:i,y:a,width:o,height:c}=n;return y.createElement(CH.Provider,{value:r},y.createElement("defs",null,y.createElement("clipPath",{id:r},y.createElement("rect",{x:i,y:a,height:c,width:o}))),t)};function Gg(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function W2(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function NH(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return jH(n,r)}function OH(e,t,r){var n=r==="width",{x:i,y:a,width:o,height:c}=e;return t===1?{start:n?i:a,end:n?i+o:a+c}:{start:n?i+o:a+c,end:n?i:a}}function pf(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function AH(e,t){return W2(e,t+1)}function TH(e,t,r,n,i){for(var a=(n||[]).slice(),{start:o,end:c}=t,u=0,d=1,f=o,m=function(){var w=n?.[u];if(w===void 0)return{v:W2(n,d)};var b=u,S,j=()=>(S===void 0&&(S=r(w,b)),S),C=w.coordinate,E=u===0||pf(e,C,j,f,c);E||(u=0,f=o,d+=1),E&&(f=C+e*(j()/2+i),u+=d)},g;d<=a.length;)if(g=m(),g)return g.v;return[]}function aE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aE(Object(r),!0).forEach(function(n){IH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IH(e,t,r){return(t=DH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DH(e){var t=RH(e,"string");return typeof t=="symbol"?t:t+""}function RH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MH(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:c}=t,{end:u}=t,d=function(g){var x=a[g],w,b=()=>(w===void 0&&(w=r(x,g)),w);if(g===o-1){var S=e*(x.coordinate+e*b()/2-u);a[g]=x=br(br({},x),{},{tickCoord:S>0?x.coordinate-S*e:x.coordinate})}else a[g]=x=br(br({},x),{},{tickCoord:x.coordinate});var j=pf(e,x.tickCoord,b,c,u);j&&(u=x.tickCoord-e*(b()/2+i),a[g]=br(br({},x),{},{isShow:!0}))},f=o-1;f>=0;f--)d(f);return a}function LH(e,t,r,n,i,a){var o=(n||[]).slice(),c=o.length,{start:u,end:d}=t;if(a){var f=n[c-1],m=r(f,c-1),g=e*(f.coordinate+e*m/2-d);o[c-1]=f=br(br({},f),{},{tickCoord:g>0?f.coordinate-g*e:f.coordinate});var x=pf(e,f.tickCoord,()=>m,u,d);x&&(d=f.tickCoord-e*(m/2+i),o[c-1]=br(br({},f),{},{isShow:!0}))}for(var w=a?c-1:c,b=function(C){var E=o[C],P,N=()=>(P===void 0&&(P=r(E,C)),P);if(C===0){var A=e*(E.coordinate-e*N()/2-u);o[C]=E=br(br({},E),{},{tickCoord:A<0?E.coordinate-A*e:E.coordinate})}else o[C]=E=br(br({},E),{},{tickCoord:E.coordinate});var T=pf(e,E.tickCoord,N,u,d);T&&(u=E.tickCoord+e*(N()/2+i),o[C]=br(br({},E),{},{isShow:!0}))},S=0;S<w;S++)b(S);return o}function Ox(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:c,interval:u,tickFormatter:d,unit:f,angle:m}=e;if(!i||!i.length||!n)return[];if(ve(u)||vs.isSsr){var g;return(g=AH(i,ve(u)?u:0))!==null&&g!==void 0?g:[]}var x=[],w=c==="top"||c==="bottom"?"width":"height",b=f&&w==="width"?Kl(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},S=(E,P)=>{var N=typeof d=="function"?d(E.value,P):E.value;return w==="width"?NH(Kl(N,{fontSize:t,letterSpacing:r}),b,m):Kl(N,{fontSize:t,letterSpacing:r})[w]},j=i.length>=2?Lr(i[1].coordinate-i[0].coordinate):1,C=OH(a,j,w);return u==="equidistantPreserveStart"?TH(j,C,S,i,o):(u==="preserveStart"||u==="preserveStartEnd"?x=LH(j,C,S,i,o,u==="preserveStartEnd"):x=MH(j,C,S,i,o),x.filter(E=>E.isShow))}var $H=["viewBox"],BH=["viewBox"];function co(){return co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},co.apply(null,arguments)}function sE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sE(Object(r),!0).forEach(function(n){Ax(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oE(e,t){if(e==null)return{};var r,n,i=FH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function FH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ax(e,t,r){return(t=zH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zH(e){var t=UH(e,"string");return typeof t=="symbol"?t:t+""}function UH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Pa extends y.Component{constructor(t){super(t),this.tickRefs=y.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,i=oE(t,$H),a=this.props,{viewBox:o}=a,c=oE(a,BH);return!Gg(n,o)||!Gg(i,c)||!Gg(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:i,height:a,orientation:o,tickSize:c,mirror:u,tickMargin:d}=this.props,f,m,g,x,w,b,S=u?-1:1,j=t.tickSize||c,C=ve(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":f=m=t.coordinate,x=n+ +!u*a,g=x-S*j,b=g-S*d,w=C;break;case"left":g=x=t.coordinate,m=r+ +!u*i,f=m-S*j,w=f-S*d,b=C;break;case"right":g=x=t.coordinate,m=r+ +u*i,f=m+S*j,w=f+S*d,b=C;break;default:f=m=t.coordinate,x=n+ +u*a,g=x+S*j,b=g+S*d,w=C;break}return{line:{x1:f,y1:g,x2:m,y2:x},tick:{x:w,y:b}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:c}=this.props,u=Bt(Bt(Bt({},We(this.props,!1)),We(c,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!o||a==="bottom"&&o);u=Bt(Bt({},u),{},{x1:t,y1:r+d*i,x2:t+n,y2:r+d*i})}else{var f=+(a==="left"&&!o||a==="right"&&o);u=Bt(Bt({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+i})}return y.createElement("line",co({},u,{className:Fe("recharts-cartesian-axis-line",us(c,"className"))}))}static renderTickItem(t,r,n){var i,a=Fe(r.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))i=y.cloneElement(t,Bt(Bt({},r),{},{className:a}));else if(typeof t=="function")i=t(Bt(Bt({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Fe(o,t.className)),i=y.createElement(bx,co({},r,{className:o}),n)}return i}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:a,tick:o,tickFormatter:c,unit:u}=this.props,d=Ox(Bt(Bt({},this.props),{},{ticks:n}),t,r),f=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=We(this.props,!1),x=We(o,!1),w=Bt(Bt({},g),{},{fill:"none"},We(i,!1)),b=d.map((S,j)=>{var{line:C,tick:E}=this.getTickLineCoord(S),P=Bt(Bt(Bt(Bt({textAnchor:f,verticalAnchor:m},g),{},{stroke:"none",fill:a},x),E),{},{index:j,payload:S,visibleTicksCount:d.length,tickFormatter:c});return y.createElement(Jt,co({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Nf(this.props,S,j)),i&&y.createElement("line",co({},w,C,{className:Fe("recharts-cartesian-axis-tick-line",us(i,"className"))})),o&&Pa.renderTickItem(o,P,"".concat(typeof c=="function"?c(S.value,j):S.value).concat(u||"")))});return b.length>0?y.createElement("g",{className:"recharts-cartesian-axis-ticks"},b):null}render(){var{axisLine:t,width:r,height:n,className:i,hide:a}=this.props;if(a)return null;var{ticks:o}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:y.createElement(Jt,{className:Fe("recharts-cartesian-axis",i),ref:c=>{if(c){var u=c.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(u);var d=u[0];if(d){var f=window.getComputedStyle(d).fontSize,m=window.getComputedStyle(d).letterSpacing;(f!==this.state.fontSize||m!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(d).fontSize,letterSpacing:window.getComputedStyle(d).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),en.renderCallByParent(this.props))}}Ax(Pa,"displayName","CartesianAxis");Ax(Pa,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var qH=["x1","y1","x2","y2","key"],WH=["offset"],KH=["xAxisId","yAxisId"],HH=["xAxisId","yAxisId"];function lE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lE(Object(r),!0).forEach(function(n){VH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VH(e,t,r){return(t=YH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YH(e){var t=GH(e,"string");return typeof t=="symbol"?t:t+""}function GH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ts(){return ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ts.apply(null,arguments)}function mf(e,t){if(e==null)return{};var r,n,i=XH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function XH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var QH=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:o,ry:c}=e;return y.createElement("rect",{x:n,y:i,ry:c,width:a,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function K2(e,t){var r;if(y.isValidElement(e))r=y.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:a,y2:o,key:c}=t,u=mf(t,qH),d=We(u,!1),{offset:f}=d,m=mf(d,WH);r=y.createElement("line",ts({},m,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:c}))}return r}function JH(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,c=mf(e,KH),u=i.map((d,f)=>{var m=_r(_r({},c),{},{x1:t,y1:d,x2:t+r,y2:d,key:"line-".concat(f),index:f});return K2(n,m)});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function ZH(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,c=mf(e,HH),u=i.map((d,f)=>{var m=_r(_r({},c),{},{x1:d,y1:t,x2:d,y2:t+r,key:"line-".concat(f),index:f});return K2(n,m)});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function eV(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:o,horizontalPoints:c,horizontal:u=!0}=e;if(!u||!t||!t.length)return null;var d=c.map(m=>Math.round(m+i-i)).sort((m,g)=>m-g);i!==d[0]&&d.unshift(0);var f=d.map((m,g)=>{var x=!d[g+1],w=x?i+o-m:d[g+1]-m;if(w<=0)return null;var b=g%t.length;return y.createElement("rect",{key:"react-".concat(g),y:m,x:n,height:w,width:a,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function tV(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:o,height:c,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var d=u.map(m=>Math.round(m+i-i)).sort((m,g)=>m-g);i!==d[0]&&d.unshift(0);var f=d.map((m,g)=>{var x=!d[g+1],w=x?i+o-m:d[g+1]-m;if(w<=0)return null;var b=g%r.length;return y.createElement("rect",{key:"react-".concat(g),x:m,y:a,width:w,height:c,stroke:"none",fill:r[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var rV=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return XP(Ox(_r(_r(_r({},Pa.defaultProps),r),{},{ticks:QP(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},nV=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return XP(Ox(_r(_r(_r({},Pa.defaultProps),r),{},{ticks:QP(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},iV={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function my(e){var t=w0(),r=_0(),n=eN(),i=_r(_r({},hi(e,iV)),{},{x:ve(e.x)?e.x:n.left,y:ve(e.y)?e.y:n.top,width:ve(e.width)?e.width:n.width,height:ve(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:o,x:c,y:u,width:d,height:f,syncWithTicks:m,horizontalValues:g,verticalValues:x}=i,w=Sr(),b=ke(F=>uk(F,"xAxis",a,w)),S=ke(F=>uk(F,"yAxis",o,w));if(!ve(d)||d<=0||!ve(f)||f<=0||!ve(c)||c!==+c||!ve(u)||u!==+u)return null;var j=i.verticalCoordinatesGenerator||rV,C=i.horizontalCoordinatesGenerator||nV,{horizontalPoints:E,verticalPoints:P}=i;if((!E||!E.length)&&typeof C=="function"){var N=g&&g.length,A=C({yAxis:S?_r(_r({},S),{},{ticks:N?g:S.ticks}):void 0,width:t,height:r,offset:n},N?!0:m);Wl(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(E=A)}if((!P||!P.length)&&typeof j=="function"){var T=x&&x.length,D=j({xAxis:b?_r(_r({},b),{},{ticks:T?x:b.ticks}):void 0,width:t,height:r,offset:n},T?!0:m);Wl(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(P=D)}return y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(QH,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),y.createElement(eV,ts({},i,{horizontalPoints:E})),y.createElement(tV,ts({},i,{verticalPoints:P})),y.createElement(JH,ts({},i,{offset:n,horizontalPoints:E,xAxis:b,yAxis:S})),y.createElement(ZH,ts({},i,{offset:n,verticalPoints:P,xAxis:b,yAxis:S})))}my.displayName="CartesianGrid";var H2=(e,t,r,n)=>jn(e,"xAxis",t,n),V2=(e,t,r,n)=>ui(e,"xAxis",t,n),Y2=(e,t,r,n)=>jn(e,"yAxis",r,n),G2=(e,t,r,n)=>ui(e,"yAxis",r,n),aV=X([Je,H2,Y2,V2,G2],(e,t,r,n,i)=>fi(e,"xAxis")?hs(t,n,!1):hs(r,i,!1)),sV=(e,t,r,n,i)=>i,oV=X([Tu,sV],(e,t)=>{if(e.some(r=>r.type==="line"&&t.dataKey===r.dataKey&&t.data===r.data))return t}),lV=X([Je,H2,Y2,V2,G2,oV,aV,Qf],(e,t,r,n,i,a,o,c)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:f}=c;if(!(a==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{dataKey:m,data:g}=a,x;if(g!=null&&g.length>0?x=g:x=u?.slice(d,f+1),x!=null)return CV({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:m,bandSize:o,displayedData:x})}}),uV=["type","layout","connectNulls","needClip"],cV=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function X2(e,t){if(e==null)return{};var r,n,i=dV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uE(Object(r),!0).forEach(function(n){fh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fh(e,t,r){return(t=fV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fV(e){var t=hV(e,"string");return typeof t=="symbol"?t:t+""}function hV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jo(){return jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jo.apply(null,arguments)}var pV=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Ao(r,t),payload:e}]};function mV(e){var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:o,hide:c,unit:u}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Ao(o,t),hide:c,type:e.tooltipType,color:e.stroke,unit:u}}}var Q2=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function gV(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var vV=(e,t,r)=>{var n=r.reduce((m,g)=>m+g);if(!n)return Q2(t,e);for(var i=Math.floor(e/n),a=e%n,o=t-e,c=[],u=0,d=0;u<r.length;d+=r[u],++u)if(d+r[u]>a){c=[...r.slice(0,u),a-d];break}var f=c.length%2===0?[0,o]:[o];return[...gV(r,i),...c,...f].map(m=>"".concat(m,"px")).join(", ")};function yV(e,t){var r;if(y.isValidElement(e))r=y.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Fe("recharts-line-dot",typeof e!="boolean"?e.className:"");r=y.createElement(_x,jo({},t,{className:n}))}return r}function xV(e,t){return e==null?!1:t?!0:e.length===1}function bV(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:a,needClip:o}=n;if(!xV(r,i))return null;var c=Of(i),u=We(n,!1),d=We(i,!0),f=r.map((g,x)=>{var w=zn(zn(zn({key:"dot-".concat(x),r:3},u),d),{},{index:x,cx:g.x,cy:g.y,dataKey:a,value:g.value,payload:g.payload,points:r});return yV(i,w)}),m={clipPath:o?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):null};return y.createElement(Jt,jo({className:"recharts-line-dots",key:"dots"},m),f)}function gy(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:a,showLabels:o}=e,{type:c,layout:u,connectNulls:d,needClip:f}=a,m=X2(a,uV),g=zn(zn({},We(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):null,points:n,type:c,layout:u,connectNulls:d,strokeDasharray:i??a.strokeDasharray});return y.createElement(y.Fragment,null,n?.length>1&&y.createElement(ql,jo({},g,{pathRef:r})),y.createElement(bV,{points:n,clipPathId:t,props:a}),o&&Ri.renderCallByParent(a,n))}function wV(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function _V(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:o,strokeDasharray:c,isAnimationActive:u,animationBegin:d,animationDuration:f,animationEasing:m,animateNewValues:g,width:x,height:w,onAnimationEnd:b,onAnimationStart:S}=r,j=i.current,C=kx(r,"recharts-line-"),[E,P]=y.useState(!1),N=y.useCallback(()=>{typeof b=="function"&&b(),P(!1)},[b]),A=y.useCallback(()=>{typeof S=="function"&&S(),P(!0)},[S]),T=wV(n.current),D=a.current;return y.createElement(Sa,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},onAnimationEnd:N,onAnimationStart:A,key:C},F=>{var{t:z}=F,L=Fn(D,T+D),H=Math.min(L(z),T),ne;if(c){var ce="".concat(c).split(/[,\s]+/gim).map(q=>parseFloat(q));ne=vV(H,T,ce)}else ne=Q2(T,H);if(j){var fe=j.length/o.length,K=z===1?o:o.map((q,Y)=>{var Z=Math.floor(Y*fe);if(j[Z]){var te=j[Z],M=Fn(te.x,q.x),B=Fn(te.y,q.y);return zn(zn({},q),{},{x:M(z),y:B(z)})}if(g){var de=Fn(x*2,q.x),_e=Fn(w/2,q.y);return zn(zn({},q),{},{x:de(z),y:_e(z)})}return zn(zn({},q),{},{x:q.x,y:q.y})});return i.current=K,y.createElement(gy,{props:r,points:K,clipPathId:t,pathRef:n,showLabels:!E,strokeDasharray:ne})}return z>0&&T>0&&(i.current=o,a.current=H),y.createElement(gy,{props:r,points:o,clipPathId:t,pathRef:n,showLabels:!E,strokeDasharray:ne})})}function SV(e){var{clipPathId:t,props:r}=e,{points:n,isAnimationActive:i}=r,a=y.useRef(null),o=y.useRef(0),c=y.useRef(null),u=a.current;return i&&n&&n.length&&u!==n?y.createElement(_V,{props:r,clipPathId:t,previousPointsRef:a,longestAnimatedLengthRef:o,pathRef:c}):y.createElement(gy,{props:r,points:n,clipPathId:t,pathRef:c,showLabels:!0})}var jV=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Qt(e.payload,t)});class kV extends y.Component{constructor(){super(...arguments),fh(this,"id",cs("recharts-line-"))}render(){var t,{hide:r,dot:n,points:i,className:a,xAxisId:o,yAxisId:c,top:u,left:d,width:f,height:m,id:g,needClip:x,layout:w}=this.props;if(r)return null;var b=Fe("recharts-line",a),S=st(g)?this.id:g,{r:j=3,strokeWidth:C=2}=(t=We(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},E=Of(n),P=j*2+C;return y.createElement(y.Fragment,null,y.createElement(Jt,{className:b},x&&y.createElement("defs",null,y.createElement(Cx,{clipPathId:S,xAxisId:o,yAxisId:c}),!E&&y.createElement("clipPath",{id:"clipPath-dots-".concat(S)},y.createElement("rect",{x:d-P/2,y:u-P/2,width:f+P,height:m+P}))),y.createElement(SV,{props:this.props,clipPathId:S}),y.createElement(D2,{direction:w==="horizontal"?"y":"x"},y.createElement(A2,{xAxisId:o,yAxisId:c,data:i,dataPointFormatter:jV,errorBarOffset:0},this.props.children))),y.createElement(fy,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var J2={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!vs.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function EV(e){var t=hi(e,J2),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:c,dot:u,hide:d,isAnimationActive:f,label:m,legendType:g,xAxisId:x,yAxisId:w}=t,b=X2(t,cV),{needClip:S}=ch(x,w),{height:j,width:C,x:E,y:P}=uh(),N=Eu(),A=Sr(),T=y.useMemo(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),D=ke(F=>lV(F,x,w,A,T));return N!=="horizontal"&&N!=="vertical"?null:y.createElement(kV,jo({},b,{connectNulls:c,dot:u,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:f,hide:d,label:m,legendType:g,xAxisId:x,yAxisId:w,points:D,layout:N,height:j,width:C,left:E,top:P,needClip:S}))}function CV(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:c,displayedData:u}=e;return u.map((d,f)=>{var m=Qt(d,o);return t==="horizontal"?{x:Hd({axis:r,ticks:i,bandSize:c,entry:d,index:f}),y:st(m)?null:n.scale(m),value:m,payload:d}:{x:st(m)?null:r.scale(m),y:Hd({axis:n,ticks:a,bandSize:c,entry:d,index:f}),value:m,payload:d}})}class Tx extends y.PureComponent{render(){return y.createElement(Ex,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},y.createElement(jx,{legendPayload:pV(this.props)}),y.createElement(Sx,{fn:mV,args:this.props}),y.createElement(EV,this.props))}}fh(Tx,"displayName","Line");fh(Tx,"defaultProps",J2);var Z2=(e,t,r,n)=>jn(e,"xAxis",t,n),eA=(e,t,r,n)=>ui(e,"xAxis",t,n),tA=(e,t,r,n)=>jn(e,"yAxis",r,n),rA=(e,t,r,n)=>ui(e,"yAxis",r,n),PV=X([Je,Z2,tA,eA,rA],(e,t,r,n,i)=>fi(e,"xAxis")?hs(t,n,!1):hs(r,i,!1)),NV=(e,t,r,n,i)=>{var a,o=Je(e),c=fi(o,"xAxis"),u;if(c?u=uu(e,"yAxis",r,n):u=uu(e,"xAxis",t,n),u!=null){var{dataKey:d,stackId:f}=i;if(f!=null){var m=(a=u[f])===null||a===void 0?void 0:a.stackedData;return m?.find(g=>g.key===d)}}},OV=(e,t,r,n,i)=>i,AV=X([Tu,OV],(e,t)=>{if(e.some(r=>r.type==="area"&&t.dataKey===r.dataKey&&v0(t.stackId)===r.stackId&&t.data===r.data))return t}),TV=X([Je,Z2,tA,eA,rA,NV,Qf,PV,AV],(e,t,r,n,i,a,o,c,u)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:m}=o;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||i==null||n.length===0||i.length===0||c==null)){var{data:g}=u,x;if(g&&g.length>0?x=g:x=d?.slice(f,m+1),x!=null){var w=void 0;return QV({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:f,areaSettings:u,stackedData:a,displayedData:x,chartBaseValue:w,bandSize:c})}}}),IV=["layout","type","stroke","connectNulls","isRange"],DV=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function nA(e,t){if(e==null)return{};var r,n,i=RV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function RV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cE(Object(r),!0).forEach(function(n){hh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hh(e,t,r){return(t=MV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MV(e){var t=LV(e,"string");return typeof t=="symbol"?t:t+""}function LV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_a.apply(null,arguments)}function gf(e,t){return e&&e!=="none"?e:t}var $V=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:gf(n,i),value:Ao(r,t),payload:e}]};function BV(e){var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:o,hide:c,unit:u}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Ao(o,t),hide:c,type:e.tooltipType,color:gf(n,a),unit:u}}}var FV=(e,t)=>{var r;if(y.isValidElement(e))r=y.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Fe("recharts-area-dot",typeof e!="boolean"?e.className:"");r=y.createElement(_x,_a({},t,{className:n}))}return r};function zV(e,t){return e==null?!1:t?!0:e.length===1}function UV(e){var{clipPathId:t,points:r,props:n}=e,{needClip:i,dot:a,dataKey:o}=n;if(!zV(r,a))return null;var c=Of(a),u=We(n,!1),d=We(a,!0),f=r.map((g,x)=>{var w=rs(rs(rs({key:"dot-".concat(x),r:3},u),d),{},{index:x,cx:g.x,cy:g.y,dataKey:o,value:g.value,payload:g.payload,points:r});return FV(a,w)}),m={clipPath:i?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):void 0};return y.createElement(Jt,_a({className:"recharts-area-dots"},m),f)}function vy(e){var{points:t,baseLine:r,needClip:n,clipPathId:i,props:a,showLabels:o}=e,{layout:c,type:u,stroke:d,connectNulls:f,isRange:m}=a,g=nA(a,IV);return y.createElement(y.Fragment,null,t?.length>1&&y.createElement(Jt,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},y.createElement(ql,_a({},We(g,!0),{points:t,connectNulls:f,type:u,baseLine:r,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&y.createElement(ql,_a({},We(a,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:t})),d!=="none"&&m&&y.createElement(ql,_a({},We(a,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:r}))),y.createElement(UV,{points:t,props:a,clipPathId:i}),o&&Ri.renderCallByParent(a,t))}function qV(e){var{alpha:t,baseLine:r,points:n,strokeWidth:i}=e,a=n[0].y,o=n[n.length-1].y;if(!cr(a)||!cr(o))return null;var c=t*Math.abs(a-o),u=Math.max(...n.map(d=>d.x||0));return ve(r)?u=Math.max(r,u):r&&Array.isArray(r)&&r.length&&(u=Math.max(...r.map(d=>d.x||0),u)),ve(u)?y.createElement("rect",{x:0,y:a<o?a:a-c,width:u+(i?parseInt("".concat(i),10):1),height:Math.floor(c)}):null}function WV(e){var{alpha:t,baseLine:r,points:n,strokeWidth:i}=e,a=n[0].x,o=n[n.length-1].x;if(!cr(a)||!cr(o))return null;var c=t*Math.abs(a-o),u=Math.max(...n.map(d=>d.y||0));return ve(r)?u=Math.max(r,u):r&&Array.isArray(r)&&r.length&&(u=Math.max(...r.map(d=>d.y||0),u)),ve(u)?y.createElement("rect",{x:a<o?a:a-c,y:0,width:c,height:Math.floor(u+(i?parseInt("".concat(i),10):1))}):null}function KV(e){var{alpha:t,layout:r,points:n,baseLine:i,strokeWidth:a}=e;return r==="vertical"?y.createElement(qV,{alpha:t,points:n,baseLine:i,strokeWidth:a}):y.createElement(WV,{alpha:t,points:n,baseLine:i,strokeWidth:a})}function HV(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a}=e,{points:o,baseLine:c,isAnimationActive:u,animationBegin:d,animationDuration:f,animationEasing:m,onAnimationStart:g,onAnimationEnd:x}=n,w=kx(n,"recharts-area-"),[b,S]=y.useState(!0),j=y.useCallback(()=>{typeof x=="function"&&x(),S(!1)},[x]),C=y.useCallback(()=>{typeof g=="function"&&g(),S(!0)},[g]),E=i.current,P=a.current;return y.createElement(Sa,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},onAnimationEnd:j,onAnimationStart:C,key:w},N=>{var{t:A}=N;if(E){var T=E.length/o.length,D=A===1?o:o.map((z,L)=>{var H=Math.floor(L*T);if(E[H]){var ne=E[H];return rs(rs({},z),{},{x:no(ne.x,z.x,A),y:no(ne.y,z.y,A)})}return z}),F;return ve(c)?F=no(P,c,A):st(c)||Br(c)?F=no(P,0,A):F=c.map((z,L)=>{var H=Math.floor(L*T);if(Array.isArray(P)&&P[H]){var ne=P[H];return rs(rs({},z),{},{x:no(ne.x,z.x,A),y:no(ne.y,z.y,A)})}return z}),A>0&&(i.current=D,a.current=F),y.createElement(vy,{points:D,baseLine:F,needClip:t,clipPathId:r,props:n,showLabels:!b})}return A>0&&(i.current=o,a.current=c),y.createElement(Jt,null,y.createElement("defs",null,y.createElement("clipPath",{id:"animationClipPath-".concat(r)},y.createElement(KV,{alpha:A,points:o,baseLine:c,layout:n.layout,strokeWidth:n.strokeWidth}))),y.createElement(Jt,{clipPath:"url(#animationClipPath-".concat(r,")")},y.createElement(vy,{points:o,baseLine:c,needClip:t,clipPathId:r,props:n,showLabels:!0})))})}function VV(e){var{needClip:t,clipPathId:r,props:n}=e,{points:i,baseLine:a,isAnimationActive:o}=n,c=y.useRef(null),u=y.useRef(),d=c.current,f=u.current;return o&&i&&i.length&&(d!==i||f!==a)?y.createElement(HV,{needClip:t,clipPathId:r,props:n,previousPointsRef:c,previousBaselineRef:u}):y.createElement(vy,{points:i,baseLine:a,needClip:t,clipPathId:r,props:n,showLabels:!0})}class YV extends y.PureComponent{constructor(){super(...arguments),hh(this,"id",cs("recharts-area-"))}render(){var t,{hide:r,dot:n,points:i,className:a,top:o,left:c,needClip:u,xAxisId:d,yAxisId:f,width:m,height:g,id:x,baseLine:w}=this.props;if(r)return null;var b=Fe("recharts-area",a),S=st(x)?this.id:x,{r:j=3,strokeWidth:C=2}=(t=We(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},E=Of(n),P=j*2+C;return y.createElement(y.Fragment,null,y.createElement(Jt,{className:b},u&&y.createElement("defs",null,y.createElement(Cx,{clipPathId:S,xAxisId:d,yAxisId:f}),!E&&y.createElement("clipPath",{id:"clipPath-dots-".concat(S)},y.createElement("rect",{x:c-P/2,y:o-P/2,width:m+P,height:g+P}))),y.createElement(VV,{needClip:u,clipPathId:S,props:this.props})),y.createElement(fy,{points:i,mainColor:gf(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(w)&&y.createElement(fy,{points:w,mainColor:gf(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var iA={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!vs.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function GV(e){var t,r=hi(e,iA),{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:c,dot:u,fill:d,fillOpacity:f,hide:m,isAnimationActive:g,legendType:x,stroke:w,xAxisId:b,yAxisId:S}=r,j=nA(r,DV),C=Eu(),E=u2(),{needClip:P}=ch(b,S),N=Sr(),A=y.useMemo(()=>({baseValue:e.baseValue,stackId:e.stackId,connectNulls:c,data:e.data,dataKey:e.dataKey}),[e.baseValue,e.stackId,c,e.data,e.dataKey]),{points:T,isRange:D,baseLine:F}=(t=ke(ce=>TV(ce,b,S,N,A)))!==null&&t!==void 0?t:{},{height:z,width:L,x:H,y:ne}=uh();return C!=="horizontal"&&C!=="vertical"||E!=="AreaChart"&&E!=="ComposedChart"?null:y.createElement(YV,_a({},j,{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:F,connectNulls:c,dot:u,fill:d,fillOpacity:f,height:z,hide:m,layout:C,isAnimationActive:g,isRange:D,legendType:x,needClip:P,points:T,stroke:w,width:L,left:H,top:ne,xAxisId:b,yAxisId:S}))}var XV=(e,t,r,n,i)=>{var a=r??t;if(ve(a))return a;var o=e==="horizontal"?i:n,c=o.scale.domain();if(o.type==="number"){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return a==="dataMin"?d:a==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return a==="dataMin"?c[0]:a==="dataMax"?c[1]:c[0]};function QV(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:i,layout:a,chartBaseValue:o,xAxis:c,yAxis:u,displayedData:d,dataStartIndex:f,xAxisTicks:m,yAxisTicks:g,bandSize:x}=e,w=i&&i.length,b=XV(a,o,r,c,u),S=a==="horizontal",j=!1,C=d.map((P,N)=>{var A;w?A=i[f+N]:(A=Qt(P,n),Array.isArray(A)?j=!0:A=[b,A]);var T=A[1]==null||w&&!t&&Qt(P,n)==null;return S?{x:Hd({axis:c,ticks:m,bandSize:x,entry:P,index:N}),y:T?null:u.scale(A[1]),value:A,payload:P}:{x:T?null:c.scale(A[1]),y:Hd({axis:u,ticks:g,bandSize:x,entry:P,index:N}),value:A,payload:P}}),E;return w||j?E=C.map(P=>{var N=Array.isArray(P.value)?P.value[0]:null;return S?{x:P.x,y:N!=null&&P.y!=null?u.scale(N):null}:{x:N!=null?c.scale(N):null,y:P.y}}):E=S?u.scale(b):c.scale(b),{points:C,baseLine:E,isRange:j}}class Ix extends y.PureComponent{render(){return y.createElement(Ex,{type:"area",data:this.props.data,dataKey:this.props.dataKey,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,stackId:this.props.stackId,hide:this.props.hide,barSize:void 0},y.createElement(jx,{legendPayload:$V(this.props)}),y.createElement(Sx,{fn:BV,args:this.props}),y.createElement(GV,this.props))}}hh(Ix,"displayName","Area");hh(Ix,"defaultProps",iA);function dE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dE(Object(r),!0).forEach(function(n){JV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JV(e,t,r){return(t=ZV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZV(e){var t=eY(e,"string");return typeof t=="symbol"?t:t+""}function eY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tY={xAxis:{},yAxis:{},zAxis:{}},aA=Cn({name:"cartesianAxis",initialState:tY,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=fE(fE({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:rY,removeXAxis:nY,addYAxis:iY,removeYAxis:aY,addZAxis:pJ,removeZAxis:mJ,updateYAxisWidth:sY}=aA.actions,oY=aA.reducer,lY=["children"],uY=["dangerouslySetInnerHTML","ticks"];function sA(e,t,r){return(t=cY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cY(e){var t=dY(e,"string");return typeof t=="symbol"?t:t+""}function dY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yy.apply(null,arguments)}function oA(e,t){if(e==null)return{};var r,n,i=fY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hY(e){var t=Tt(),r=y.useMemo(()=>{var{children:a}=e,o=oA(e,lY);return o},[e]),n=ke(a=>Ki(a,r.id)),i=r===n;return y.useEffect(()=>(t(rY(r)),()=>{t(nY(r))}),[r,t]),i?e.children:null}var pY=e=>{var{xAxisId:t,className:r}=e,n=ke(ZP),i=Sr(),a="xAxis",o=ke(x=>Mo(x,a,t,i)),c=ke(x=>UO(x,a,t,i)),u=ke(x=>$O(x,t)),d=ke(x=>Lq(x,t));if(u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:m}=e,g=oA(e,uY);return y.createElement(Pa,yy({},g,{scale:o,x:d.x,y:d.y,width:u.width,height:u.height,className:Fe("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:c}))},mY=e=>{var t,r,n,i,a;return y.createElement(hY,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(a=e.tick)!==null&&a!==void 0?a:!0,tickFormatter:e.tickFormatter},y.createElement(pY,e))};class Hl extends y.Component{render(){return y.createElement(mY,this.props)}}sA(Hl,"displayName","XAxis");sA(Hl,"defaultProps",{allowDataOverflow:Qr.allowDataOverflow,allowDecimals:Qr.allowDecimals,allowDuplicatedCategory:Qr.allowDuplicatedCategory,height:Qr.height,hide:!1,mirror:Qr.mirror,orientation:Qr.orientation,padding:Qr.padding,reversed:Qr.reversed,scale:Qr.scale,tickCount:Qr.tickCount,type:Qr.type,xAxisId:0});var gY=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){t.forEach(f=>{if(f){var m=f.getBoundingClientRect();m.width>o&&(o=m.width)}});var c=r?r.getBoundingClientRect().width:0,u=i+a,d=o+u+c+(r?n:0);return Math.round(d)}return 0},vY=["dangerouslySetInnerHTML","ticks"];function lA(e,t,r){return(t=yY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yY(e){var t=xY(e,"string");return typeof t=="symbol"?t:t+""}function xY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xy.apply(null,arguments)}function bY(e,t){if(e==null)return{};var r,n,i=wY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _Y(e){var t=Tt();return y.useEffect(()=>(t(iY(e)),()=>{t(aY(e))}),[e,t]),null}var SY=e=>{var t,{yAxisId:r,className:n,width:i,label:a}=e,o=y.useRef(null),c=y.useRef(null),u=ke(ZP),d=Sr(),f=Tt(),m="yAxis",g=ke(E=>Mo(E,m,r,d)),x=ke(E=>BO(E,r)),w=ke(E=>$q(E,r)),b=ke(E=>UO(E,m,r,d));if(y.useLayoutEffect(()=>{var E;if(!(i!=="auto"||!x||wx(a)||y.isValidElement(a))){var P=o.current,N=P==null||(E=P.tickRefs)===null||E===void 0?void 0:E.current,{tickSize:A,tickMargin:T}=P.props,D=gY({ticks:N,label:c.current,labelGapWithTick:5,tickSize:A,tickMargin:T});Math.round(x.width)!==Math.round(D)&&f(sY({id:r,width:D}))}},[o,o==null||(t=o.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,x?.width,x,f,a,r,i]),x==null||w==null)return null;var{dangerouslySetInnerHTML:S,ticks:j}=e,C=bY(e,vY);return y.createElement(Pa,xy({},C,{ref:o,labelRef:c,scale:g,x:w.x,y:w.y,width:x.width,height:x.height,className:Fe("recharts-".concat(m," ").concat(m),n),viewBox:u,ticks:b}))},jY=e=>{var t,r,n,i,a;return y.createElement(y.Fragment,null,y.createElement(_Y,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(a=e.tick)!==null&&a!==void 0?a:!0,tickFormatter:e.tickFormatter}),y.createElement(SY,e))},kY={allowDataOverflow:Jr.allowDataOverflow,allowDecimals:Jr.allowDecimals,allowDuplicatedCategory:Jr.allowDuplicatedCategory,hide:!1,mirror:Jr.mirror,orientation:Jr.orientation,padding:Jr.padding,reversed:Jr.reversed,scale:Jr.scale,tickCount:Jr.tickCount,type:Jr.type,width:Jr.width,yAxisId:0};class Vl extends y.Component{render(){return y.createElement(jY,this.props)}}lA(Vl,"displayName","YAxis");lA(Vl,"defaultProps",kY);var Xg={exports:{}},Qg={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function EY(){if(hE)return Qg;hE=1;var e=ko();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,c=e.useDebugValue;return Qg.useSyncExternalStoreWithSelector=function(u,d,f,m,g){var x=i(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=o(function(){function S(N){if(!j){if(j=!0,C=N,N=m(N),g!==void 0&&w.hasValue){var A=w.value;if(g(A,N))return E=A}return E=N}if(A=E,r(C,N))return A;var T=m(N);return g!==void 0&&g(A,T)?(C=N,A):(C=N,E=T)}var j=!1,C,E,P=f===void 0?null:f;return[function(){return S(d())},P===null?void 0:function(){return S(P())}]},[d,f,m,g]);var b=n(u,x[0],x[1]);return a(function(){w.hasValue=!0,w.value=b},[b]),c(b),b},Qg}var pE;function CY(){return pE||(pE=1,Xg.exports=EY()),Xg.exports}CY();function PY(e){e()}function NY(){let e=null,t=null;return{clear(){e=null,t=null},notify(){PY(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var mE={notify(){},get:()=>[]};function OY(e,t){let r,n=mE,i=0,a=!1;function o(b){f();const S=n.subscribe(b);let j=!1;return()=>{j||(j=!0,S(),m())}}function c(){n.notify()}function u(){w.onStateChange&&w.onStateChange()}function d(){return a}function f(){i++,r||(r=e.subscribe(u),n=NY())}function m(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=mE)}function g(){a||(a=!0,f())}function x(){a&&(a=!1,m())}const w={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:u,isSubscribed:d,trySubscribe:g,tryUnsubscribe:x,getListeners:()=>n};return w}var AY=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TY=AY(),IY=()=>typeof navigator<"u"&&navigator.product==="ReactNative",DY=IY(),RY=()=>TY||DY?y.useLayoutEffect:y.useEffect,MY=RY(),LY=Symbol.for("react-redux-context"),$Y=typeof globalThis<"u"?globalThis:{};function BY(){if(!y.createContext)return{};const e=$Y[LY]??=new Map;let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var FY=BY();function zY(e){const{children:t,context:r,serverState:n,store:i}=e,a=y.useMemo(()=>{const u=OY(i);return{store:i,subscription:u,getServerState:n?()=>n:void 0}},[i,n]),o=y.useMemo(()=>i.getState(),[i]);MY(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const c=r||FY;return y.createElement(c.Provider,{value:a},t)}var UY=zY,qY=(e,t)=>t,Dx=X([qY,Je,X8,rr,n2,Hi,FW,Zt],KW),Rx=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},uA=_n("mouseClick"),cA=ku();cA.startListening({actionCreator:uA,effect:(e,t)=>{var r=e.payload,n=Dx(t.getState(),Rx(r));n?.activeIndex!=null&&t.dispatch(Qq({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var by=_n("mouseMove"),dA=ku();dA.startListening({actionCreator:by,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=cx(n,n.tooltip.settings.shared),a=Dx(n,Rx(r));i==="axis"&&(a?.activeIndex!=null?t.dispatch(XO({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(GO()))}});function WY(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var gE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},fA=Cn({name:"rootProps",initialState:gE,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:gE.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),KY=fA.reducer,{updateOptions:HY}=fA.actions,hA=Cn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:gJ}=hA.actions,VY=hA.reducer,pA=_n("keyDown"),mA=_n("focus"),Mx=ku();Mx.startListening({actionCreator:pA,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(dx(i,_s(r))),c=Hi(r);if(a==="Enter"){var u=uf(r,"axis","hover",String(i.index));t.dispatch(sy({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var d=Uq(r),f=d==="left-to-right"?1:-1,m=a==="ArrowRight"?1:-1,g=o+m*f;if(!(c==null||g>=c.length||g<0)){var x=uf(r,"axis","hover",String(g));t.dispatch(sy({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:x}))}}}}});Mx.startListening({actionCreator:mA,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=uf(r,"axis","hover",String(a));t.dispatch(sy({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var gn=_n("externalEvent"),gA=ku();gA.startListening({actionCreator:gn,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:AW(r),activeDataKey:o2(r),activeIndex:ms(r),activeLabel:s2(r),activeTooltipIndex:ms(r),isTooltipActive:TW(r)};e.payload.handler(n,e.payload.reactEvent)}}});var YY=X([Lo],e=>e.tooltipItemPayloads),GY=X([YY,Mu,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(c=>c.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,r);return o}}}),vA=_n("touchMove"),yA=ku();yA.startListening({actionCreator:vA,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=cx(n,n.tooltip.settings.shared);if(i==="axis"){var a=Dx(n,Rx({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));a?.activeIndex!=null&&t.dispatch(XO({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,c=r.touches[0],u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(uF),f=(o=u.getAttribute(cF))!==null&&o!==void 0?o:void 0,m=GY(t.getState(),d,f);t.dispatch(YO({activeDataKey:f,activeIndex:d,activeCoordinate:m}))}}});var XY=CP({brush:xH,cartesianAxis:oY,chartData:o7,graphicalItems:PK,layout:I6,legend:jF,options:r7,polarAxis:wK,polarOptions:VY,referenceElements:EH,rootProps:KY,tooltip:Jq}),QY=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return i6({reducer:XY,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([cA.middleware,dA.middleware,Mx.middleware,gA.middleware,yA.middleware]),devTools:{serialize:{replacer:WY},name:"recharts-".concat(r)}})};function JY(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Sr(),a=y.useRef(null);if(i)return r;a.current==null&&(a.current=QY(t,n));var o=d0;return y.createElement(UY,{context:o,store:a.current},r)}function ZY(e){var{layout:t,width:r,height:n,margin:i}=e,a=Tt(),o=Sr();return y.useEffect(()=>{o||(a(O6(t)),a(A6({width:r,height:n})),a(N6(i)))},[a,o,t,r,n,i]),null}function eG(e){var t=Tt();return y.useEffect(()=>{t(HY(e))},[t,e]),null}var tG=["children"];function rG(e,t){if(e==null)return{};var r,n,i=nG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vf.apply(null,arguments)}var iG={width:"100%",height:"100%"},aG=y.forwardRef((e,t)=>{var r=w0(),n=_0(),i=rN();if(!Vd(r)||!Vd(n))return null;var{children:a,otherAttributes:o,title:c,desc:u}=e,d,f;return typeof o.tabIndex=="number"?d=o.tabIndex:d=i?0:void 0,typeof o.role=="string"?f=o.role:f=i?"application":void 0,y.createElement(Zy,vf({},o,{title:c,desc:u,role:f,tabIndex:d,width:r,height:n,style:iG,ref:t}),a)}),sG=e=>{var{children:t}=e,r=ke(qf);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return y.createElement(Zy,{width:n,height:i,x:o,y:a},t)},vE=y.forwardRef((e,t)=>{var{children:r}=e,n=rG(e,tG),i=Sr();return i?y.createElement(sG,null,r):y.createElement(aG,vf({ref:t},n),r)});function oG(){var e=Tt(),[t,r]=y.useState(null),n=ke(lF);return y.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;cr(a)&&a!==n&&e(T6(a))}},[t,e,n]),r}function yE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yE(Object(r),!0).forEach(function(n){uG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uG(e,t,r){return(t=cG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cG(e){var t=dG(e,"string");return typeof t=="symbol"?t:t+""}function dG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fG=y.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:c,onMouseDown:u,onMouseEnter:d,onMouseLeave:f,onMouseMove:m,onMouseUp:g,onTouchEnd:x,onTouchMove:w,onTouchStart:b,style:S,width:j}=e,C=Tt(),[E,P]=y.useState(null),[N,A]=y.useState(null);c7();var T=oG(),D=y.useCallback(B=>{T(B),typeof t=="function"&&t(B),P(B),A(B)},[T,t,P,A]),F=y.useCallback(B=>{C(uA(B)),C(gn({handler:a,reactEvent:B}))},[C,a]),z=y.useCallback(B=>{C(by(B)),C(gn({handler:d,reactEvent:B}))},[C,d]),L=y.useCallback(B=>{C(GO()),C(gn({handler:f,reactEvent:B}))},[C,f]),H=y.useCallback(B=>{C(by(B)),C(gn({handler:m,reactEvent:B}))},[C,m]),ne=y.useCallback(()=>{C(mA())},[C]),ce=y.useCallback(B=>{C(pA(B.key))},[C]),fe=y.useCallback(B=>{C(gn({handler:o,reactEvent:B}))},[C,o]),K=y.useCallback(B=>{C(gn({handler:c,reactEvent:B}))},[C,c]),q=y.useCallback(B=>{C(gn({handler:u,reactEvent:B}))},[C,u]),Y=y.useCallback(B=>{C(gn({handler:g,reactEvent:B}))},[C,g]),Z=y.useCallback(B=>{C(gn({handler:b,reactEvent:B}))},[C,b]),te=y.useCallback(B=>{C(vA(B)),C(gn({handler:w,reactEvent:B}))},[C,w]),M=y.useCallback(B=>{C(gn({handler:x,reactEvent:B}))},[C,x]);return y.createElement(p2.Provider,{value:E},y.createElement(XC.Provider,{value:N},y.createElement("div",{className:Fe("recharts-wrapper",n),style:lG({position:"relative",cursor:"default",width:j,height:i},S),onClick:F,onContextMenu:fe,onDoubleClick:K,onFocus:ne,onKeyDown:ce,onMouseDown:q,onMouseEnter:z,onMouseLeave:L,onMouseMove:H,onMouseUp:Y,onTouchEnd:M,onTouchMove:te,onTouchStart:Z,ref:D},r)))}),hG=["children","className","width","height","style","compact","title","desc"];function pG(e,t){if(e==null)return{};var r,n,i=mG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gG=y.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:a,style:o,compact:c,title:u,desc:d}=e,f=pG(e,hG),m=We(f,!1);return c?y.createElement(vE,{otherAttributes:m,title:u,desc:d},r):y.createElement(fG,{className:n,style:o,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(vE,{otherAttributes:m,title:u,desc:d,ref:t},y.createElement(PH,null,r)))}),vG=["width","height"];function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wy.apply(null,arguments)}function yG(e,t){if(e==null)return{};var r,n,i=xG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bG={top:5,right:5,bottom:5,left:5},wG={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:bG,reverseStackOrder:!1,syncMethod:"index"},Lx=y.forwardRef(function(t,r){var n,i=hi(t.categoricalChartProps,wG),{width:a,height:o}=i,c=yG(i,vG);if(!Vd(a)||!Vd(o))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:m,categoricalChartProps:g}=t,x={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:m,eventEmitter:void 0};return y.createElement(JY,{preloadedState:{options:x},reduxStoreName:(n=g.id)!==null&&n!==void 0?n:u},y.createElement(yH,{chartData:g.data}),y.createElement(ZY,{width:a,height:o,layout:i.layout,margin:i.margin}),y.createElement(eG,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),y.createElement(gG,wy({},c,{width:a,height:o,ref:r})))}),_G=["axis"],SG=y.forwardRef((e,t)=>y.createElement(Lx,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_G,tooltipPayloadSearcher:xx,categoricalChartProps:e,ref:t})),jG=["axis","item"],kG=y.forwardRef((e,t)=>y.createElement(Lx,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:jG,tooltipPayloadSearcher:xx,categoricalChartProps:e,ref:t})),EG=["axis"],CG=y.forwardRef((e,t)=>y.createElement(Lx,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:EG,tooltipPayloadSearcher:xx,categoricalChartProps:e,ref:t}));function PG(){const[e,t]=ge.useState([]),[r,n]=ge.useState([]),[i,a]=ge.useState([]);return ge.useEffect(()=>{t(A3()),n(T3()),a(I3())},[]),p.jsx(St,{faintFlag:!0,children:p.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[p.jsxs("header",{children:[p.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Analytics Dashboard"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Visual overview of credits usage, customer growth, and campaign performance (stubbed data)."})]}),p.jsxs("section",{className:"bg-white rounded-lg shadow p-4",children:[p.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Credits Usage (Last 7 Days)"}),p.jsx("div",{className:"w-full h-64",children:p.jsx(zg,{children:p.jsxs(SG,{data:e,children:[p.jsx(my,{stroke:"#ccc",strokeDasharray:"5 5"}),p.jsx(Hl,{dataKey:"date"}),p.jsx(Vl,{}),p.jsx(Rg,{}),p.jsx(Tx,{type:"monotone",dataKey:"creditsUsed",stroke:"#1e3a8a"})]})})})]}),p.jsxs("section",{className:"bg-white rounded-lg shadow p-4",children:[p.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Customer Growth (Last 7 Days)"}),p.jsx("div",{className:"w-full h-64",children:p.jsx(zg,{children:p.jsxs(CG,{data:r,children:[p.jsx("defs",{children:p.jsxs("linearGradient",{id:"colorCustomers",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#1e3a8a",stopOpacity:.8}),p.jsx("stop",{offset:"95%",stopColor:"#1e3a8a",stopOpacity:0})]})}),p.jsx(Hl,{dataKey:"date"}),p.jsx(Vl,{}),p.jsx(Rg,{}),p.jsx(Ix,{type:"monotone",dataKey:"totalCustomers",stroke:"#1e3a8a",fillOpacity:1,fill:"url(#colorCustomers)"})]})})})]}),p.jsxs("section",{className:"bg-white rounded-lg shadow p-4",children:[p.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Campaign Performance"}),p.jsx("div",{className:"w-full h-64",children:p.jsx(zg,{children:p.jsxs(kG,{data:i,children:[p.jsx(my,{strokeDasharray:"3 3"}),p.jsx(Hl,{dataKey:"name"}),p.jsx(Vl,{}),p.jsx(Rg,{}),p.jsx(Wf,{}),p.jsx(hf,{dataKey:"sent",fill:"#2563eb"}),p.jsx(hf,{dataKey:"scheduled",fill:"#60a5fa"})]})})})]})]})})}function NG(){const{user:e}=Ut(),[t,r]=ge.useState(null),[n,i]=ge.useState(!1),a=Ct();return ge.useEffect(()=>{if(!e){a("/login");return}(async()=>{const{data:c}=await he.from("profiles").select("username").eq("id",e.id).single();r({username:c?.username??null,email:e.email??null})})()},[e,a]),!e||!t?null:p.jsx(St,{faintFlag:!0,children:p.jsx("div",{className:"max-w-3xl mx-auto pt-10 pb-14 px-4",children:p.jsxs("div",{className:"bg-white/95 shadow-xl rounded-2xl p-8",children:[p.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold text-blue-900 mb-6",children:"Settings & Preferences"}),p.jsxs("div",{className:"bg-blue-50/30 rounded-xl p-4 mb-8",children:[p.jsx("h2",{className:"text-lg font-bold text-blue-800 mb-3",children:"Account"}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsxs("div",{className:"text-sm text-gray-600",children:[p.jsx("strong",{children:"Username:"})," ",t.username]}),p.jsxs("div",{className:"text-sm text-gray-600",children:[p.jsx("strong",{children:"Email:"})," ",t.email]})]}),p.jsxs("div",{className:"mt-4 flex gap-3",children:[p.jsx("button",{onClick:async()=>{i(!0);try{const{data:o}=await he.auth.getUser();if(!o.user){alert("You must be logged in.");return}alert("Demo: Change Email triggered")}finally{i(!1)}},disabled:n,className:"text-blue-700 bg-blue-100 hover:bg-blue-200 px-4 py-2 text-sm rounded-xl font-semibold disabled:opacity-50",children:"Change Email"}),p.jsx("button",{onClick:async()=>{i(!0);try{const{data:o}=await he.auth.getUser();if(!o.user){alert("You must be logged in.");return}alert("Demo: Change Password triggered")}finally{i(!1)}},disabled:n,className:"text-blue-700 bg-blue-100 hover:bg-blue-200 px-4 py-2 text-sm rounded-xl font-semibold disabled:opacity-50",children:"Change Password"})]})]}),p.jsxs("div",{className:"bg-blue-50/30 rounded-xl p-4 mb-8",children:[p.jsx("h2",{className:"text-lg font-bold text-blue-800 mb-3",children:"Preferences"}),p.jsx("div",{className:"text-sm text-gray-500",children:"Preference settings for notifications, appearance, and more coming soon."})]}),p.jsx("div",{className:"text-right",children:p.jsx("button",{onClick:()=>a("/settings/fields"),className:"text-blue-700 bg-blue-100 hover:bg-blue-200 px-5 py-2 rounded-xl font-semibold text-sm",children:"Customize Customer Fields"})})]})})})}function Dl(e){return e.slice().sort((t,r)=>t.order-r.order).map((t,r)=>({...t,order:r}))}const vd={key:"",label:"",type:"text",options:[],required:!1,visibleOn:{dashboard:!0,customers:!0,campaigns:!0}};function OG(){const{user:e}=Ut(),[t,r]=y.useState([]),[n,i]=y.useState(vd),[a,o]=y.useState(null),[c,u]=y.useState(!1),[d,f]=y.useState(!1),[m,g]=y.useState(null),[x,w]=y.useState(!1),[b,S]=y.useState(!0),[j,C]=y.useState(null);y.useEffect(()=>{let K=!0;return(async()=>{try{S(!0),C(null);const q=await bn();if(!K)return;r(Dl(q))}catch(q){console.error(q),C(q?.message??"Failed to load fields"),r([])}finally{K&&S(!1)}})(),()=>{K=!1}},[e]),y.useEffect(()=>{const K=q=>{if(c)return q.preventDefault(),q.returnValue="",""};return window.addEventListener("beforeunload",K),()=>window.removeEventListener("beforeunload",K)},[c]);const E=()=>{o(null),i(vd)},P=K=>{const q=t.find(Y=>Y.id===K);q&&(o(K),i({...q,options:q.options??[]}))},N=K=>{const q=[];return K.label.trim()||q.push("Label is required"),K.key.trim()||q.push("Key is required"),t.find(Z=>Z.key.toLowerCase()===K.key.toLowerCase()&&Z.id!==a)&&q.push(`Key '${K.key}' already exists`),(K.type==="select"||K.type==="multiselect")&&(!K.options||K.options.length===0)&&q.push("Select/multiselect types require at least one option"),q},A=()=>{const K=N(n);if(K.length){alert(`Please fix the following:

`+K.join(`
`));return}r(a?q=>{const Y=q.slice(),Z=Y.findIndex(te=>te.id===a);return Z>=0&&(Y[Z]={...Y[Z],...n}),Dl(Y)}:q=>Dl([...q,{id:Ni(),order:q.length,...n}])),o(null),i(vd),u(!0)},T=K=>{confirm("Delete this field? This cannot be undone.")&&(r(q=>Dl(q.filter(Y=>Y.id!==K))),u(!0))},D=(K,q,Y)=>{r(Z=>Z.map(te=>te.id===K?{...te,visibleOn:{...te.visibleOn,[q]:Y}}:te)),u(!0)},F=(K,q)=>{r(Y=>Y.map(Z=>Z.id===K?{...Z,required:q}:Z)),u(!0)},z=(K,q)=>{r(Y=>Y.map(Z=>Z.id===K?{...Z,archived:q}:Z)),u(!0)},L=K=>g(K),H=(K,q)=>{K.preventDefault(),!(!m||m===q)&&(r(Y=>{const Z=Y.findIndex(de=>de.id===m),te=Y.findIndex(de=>de.id===q);if(Z===-1||te===-1)return Y;const M=Y.slice(),[B]=M.splice(Z,1);return M.splice(te,0,B),Dl(M)}),u(!0))},ne=()=>g(null),ce=async()=>{f(!0);try{await Y$(t),u(!1)}catch(K){console.error(K),alert(K?.message??"Failed to save fields.")}finally{f(!1)}},fe=y.useMemo(()=>t.filter(K=>!K.archived),[t]);return p.jsx(St,{faintFlag:!0,children:p.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-semibold mb-1",children:"Custom Intake Fields"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Add, reorder, and configure which fields appear on the Dashboard, Customers table, and Campaigns builder."})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("button",{onClick:()=>w(K=>!K),className:"inline-flex items-center gap-1 px-3 py-2 rounded-md border text-sm hover:bg-gray-50",children:[p.jsx(s3,{className:"shrink-0"})," Help"]}),p.jsxs("button",{onClick:ce,disabled:!c||d,className:`inline-flex items-center gap-1 px-3 py-2 rounded-md text-sm ${c?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:[p.jsx(jv,{className:"shrink-0"}),d?"Saving...":c?"Save changes":"Saved"]})]})]}),j&&p.jsx("div",{className:"p-4 rounded-md bg-red-50 text-red-700 border border-red-200",children:j}),x&&p.jsxs("div",{className:"p-4 rounded-md bg-white shadow border",children:[p.jsx("h2",{className:"font-medium mb-2",children:"How this works"}),p.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm text-gray-700",children:[p.jsx("li",{children:"Drag rows by the handle to reorder (this affects Dashboard & Customers forms)."}),p.jsx("li",{children:"Visibility toggles control where fields appear."}),p.jsx("li",{children:"Select/multiselect fields require options."})]})]}),p.jsxs("div",{className:"p-4 bg-white rounded-md shadow border",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h2",{className:"text-lg font-medium",children:a?"Edit Field":"Add Field"}),a?p.jsxs("button",{onClick:()=>{o(null),i(vd)},className:"inline-flex items-center gap-1 text-sm px-2 py-1 rounded hover:bg-gray-100",children:[p.jsx(qC,{})," Cancel"]}):p.jsxs("button",{onClick:E,className:"inline-flex items-center gap-1 text-sm px-2 py-1 rounded hover:bg-gray-100",children:[p.jsx(o3,{})," New"]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("label",{className:"text-sm font-medium mb-1",children:"Label *"}),p.jsx("input",{type:"text",value:n.label,onChange:K=>{const q=K.target.value;i(Y=>{const Z=a&&Y.key?Y.key:fo(q);return{...Y,label:q,key:Z}})},className:"border rounded px-2 py-1",placeholder:"e.g. City"})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("label",{className:"text-sm font-medium mb-1",children:"Key *"}),p.jsx("input",{type:"text",value:n.key,onChange:K=>i(q=>({...q,key:fo(K.target.value)})),className:"border rounded px-2 py-1 font-mono text-sm",placeholder:"city"})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("label",{className:"text-sm font-medium mb-1",children:"Type"}),p.jsxs("select",{value:n.type,onChange:K=>i(q=>({...q,type:K.target.value,options:K.target.value==="select"||K.target.value==="multiselect"?q.options??[]:[]})),className:"border rounded px-2 py-1",children:[p.jsx("option",{value:"text",children:"Text"}),p.jsx("option",{value:"number",children:"Number"}),p.jsx("option",{value:"date",children:"Date"}),p.jsx("option",{value:"email",children:"Email"}),p.jsx("option",{value:"phone",children:"Phone"}),p.jsx("option",{value:"boolean",children:"Boolean"}),p.jsx("option",{value:"select",children:"Select"}),p.jsx("option",{value:"multiselect",children:"Multi-select"})]})]}),(n.type==="select"||n.type==="multiselect")&&p.jsxs("div",{className:"md:col-span-3",children:[p.jsx("label",{className:"text-sm font-medium mb-1",children:"Options (comma-separated)"}),p.jsx("input",{type:"text",value:(n.options??[]).join(", "),onChange:K=>i(q=>({...q,options:K.target.value.split(",").map(Y=>Y.trim()).filter(Boolean)})),className:"border rounded px-2 py-1 w-full",placeholder:"Option A, Option B, Option C"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{id:"required",type:"checkbox",checked:!!n.required,onChange:K=>i(q=>({...q,required:K.target.checked}))}),p.jsx("label",{htmlFor:"required",className:"text-sm",children:"Required"})]}),p.jsxs("div",{className:"md:col-span-3 flex flex-wrap items-center gap-6",children:[p.jsx("span",{className:"text-sm font-medium",children:"Visibility:"}),p.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[p.jsx("input",{type:"checkbox",checked:n.visibleOn.dashboard,onChange:K=>i(q=>({...q,visibleOn:{...q.visibleOn,dashboard:K.target.checked}}))}),"Dashboard"]}),p.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[p.jsx("input",{type:"checkbox",checked:n.visibleOn.customers,onChange:K=>i(q=>({...q,visibleOn:{...q.visibleOn,customers:K.target.checked}}))}),"Customers"]}),p.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[p.jsx("input",{type:"checkbox",checked:n.visibleOn.campaigns,onChange:K=>i(q=>({...q,visibleOn:{...q.visibleOn,campaigns:K.target.checked}}))}),"Campaigns"]})]}),p.jsx("div",{className:"md:col-span-3",children:p.jsxs("button",{onClick:A,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:[p.jsx(jv,{})," ",a?"Update Field":"Add Field"]})})]})]}),p.jsxs("div",{className:"p-4 bg-white rounded-md shadow border",children:[p.jsx("h2",{className:"text-lg font-medium mb-4",children:"Active Fields"}),b?p.jsx("p",{className:"text-sm text-gray-600",children:"Loading fields…"}):fe.length===0?p.jsx("p",{className:"text-sm text-gray-600",children:"No fields yet. Create one above."}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b text-left",children:[p.jsx("th",{className:"py-2 w-8"}),p.jsx("th",{className:"py-2",children:"Label"}),p.jsx("th",{className:"py-2",children:"Key"}),p.jsx("th",{className:"py-2",children:"Type"}),p.jsx("th",{className:"py-2 text-center",children:"Req"}),p.jsx("th",{className:"py-2 text-center",children:"Dash"}),p.jsx("th",{className:"py-2 text-center",children:"Cust"}),p.jsx("th",{className:"py-2 text-center",children:"Camp"}),p.jsx("th",{className:"py-2 text-right",children:"Actions"})]})}),p.jsx("tbody",{children:fe.map(K=>p.jsxs("tr",{draggable:!0,onDragStart:()=>L(K.id),onDragOver:q=>H(q,K.id),onDragEnd:ne,className:`border-b hover:bg-gray-50 ${m===K.id?"opacity-50":""}`,children:[p.jsx("td",{className:"py-2 align-middle",children:p.jsx("span",{className:"cursor-move inline-flex p-1 text-gray-400 hover:text-gray-600",children:p.jsx(UC,{})})}),p.jsx("td",{className:"py-2 align-middle",children:K.label}),p.jsx("td",{className:"py-2 align-middle font-mono text-xs",children:K.key}),p.jsx("td",{className:"py-2 align-middle",children:K.type}),p.jsx("td",{className:"py-2 align-middle text-center",children:p.jsx("input",{type:"checkbox",checked:!!K.required,onChange:q=>F(K.id,q.target.checked)})}),p.jsx("td",{className:"py-2 align-middle text-center",children:p.jsx("input",{type:"checkbox",checked:K.visibleOn.dashboard,onChange:q=>D(K.id,"dashboard",q.target.checked)})}),p.jsx("td",{className:"py-2 align-middle text-center",children:p.jsx("input",{type:"checkbox",checked:K.visibleOn.customers,onChange:q=>D(K.id,"customers",q.target.checked)})}),p.jsx("td",{className:"py-2 align-middle text-center",children:p.jsx("input",{type:"checkbox",checked:K.visibleOn.campaigns,onChange:q=>D(K.id,"campaigns",q.target.checked)})}),p.jsx("td",{className:"py-2 align-middle text-right",children:p.jsxs("div",{className:"inline-flex items-center gap-2",children:[p.jsxs("button",{onClick:()=>P(K.id),className:"inline-flex items-center gap-1 px-2 py-1 rounded hover:bg-gray-100",children:[p.jsx(a3,{})," Edit"]}),p.jsx("button",{onClick:()=>z(K.id,!0),className:"inline-flex items-center gap-1 px-2 py-1 rounded hover:bg-gray-100 text-gray-500",children:"Archive"}),p.jsxs("button",{onClick:()=>T(K.id),className:"inline-flex items-center gap-1 px-2 py-1 rounded hover:bg-red-50 text-red-600",children:[p.jsx(u3,{})," Delete"]})]})})]},K.id))})]})}),t.some(K=>K.archived)&&p.jsxs("div",{className:"mt-8",children:[p.jsx("h2",{className:"text-lg font-medium mb-2",children:"Archived"}),p.jsxs("table",{className:"w-full text-sm",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b text-left",children:[p.jsx("th",{className:"py-2",children:"Label"}),p.jsx("th",{className:"py-2",children:"Key"}),p.jsx("th",{className:"py-2",children:"Type"}),p.jsx("th",{className:"py-2 text-right",children:"Actions"})]})}),p.jsx("tbody",{children:t.filter(K=>K.archived).map(K=>p.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[p.jsx("td",{className:"py-2",children:K.label}),p.jsx("td",{className:"py-2 font-mono text-xs",children:K.key}),p.jsx("td",{className:"py-2",children:K.type}),p.jsx("td",{className:"py-2 text-right",children:p.jsx("button",{onClick:()=>z(K.id,!1),className:"inline-flex items-center gap-1 px-2 py-1 rounded hover:bg-gray-100",children:"Restore"})})]},K.id))})]})]})]})]})})}function AG(){const{user:e}=Ut(),[t,r]=y.useState(0),[n,i]=y.useState(100),[a,o]=y.useState(!1),[c,u]=y.useState(null),d=async()=>{if(!e?.id)return;const{data:m,error:g}=await he.from("profiles").select("credits").eq("id",e.id).single();if(g){console.error("Failed to fetch credits:",g);return}r(m?.credits??0)};y.useEffect(()=>{d()},[e?.id]);const f=async()=>{o(!0),u(null);try{if(!e?.id){u("You must be logged in.");return}const{error:m}=await he.rpc("add_credits",{p_user_id:e.id,p_amount:n});m?(console.error("add_credits error:",m),u("Failed to update credits. (Stub)")):(u(`Added ${n} credits (stub).`),await d())}catch(m){u(m?.message||"Something went wrong.")}finally{o(!1)}};return p.jsx(St,{faintFlag:!0,children:p.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[p.jsxs("header",{children:[p.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Billing & Credits"}),p.jsx("p",{className:"text-sm text-gray-600",children:"This is a stub integration. A real checkout (Stripe, etc.) will replace this, and credits will be updated via webhooks."})]}),p.jsxs("section",{className:"bg-white rounded-lg shadow p-6 space-y-4",children:[p.jsx("h2",{className:"text-lg font-semibold",children:"Your Balance"}),p.jsxs("div",{className:"text-3xl font-bold text-blue-700",children:[t.toLocaleString()," credits"]})]}),p.jsxs("section",{className:"bg-white rounded-lg shadow p-6 space-y-4",children:[p.jsx("h2",{className:"text-lg font-semibold",children:"Buy Credits (Stub)"}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Amount"}),p.jsx("input",{type:"number",className:"w-32 px-3 py-2 rounded border",min:1,step:1,value:n,onChange:m=>i(Number(m.target.value))}),p.jsx("button",{onClick:f,disabled:a||n<=0,className:"px-4 py-2 bg-blue-700 hover:bg-blue-800 text-white rounded disabled:opacity-50",children:a?"Processing...":"Buy Credits"})]}),c&&p.jsx("div",{className:"text-sm text-gray-700",children:c})]})]})})}function TG(){const{user:e,refresh:t}=Ut(),r=Ct(),n=e,[i,a]=y.useState(n?.email||""),[o,c]=y.useState(""),[u,d]=y.useState(n?.avatar||""),[f,m]=y.useState(n?.avatar||""),[g,x]=y.useState(!1),[w,b]=y.useState(null),[S,j]=y.useState(null);if(y.useEffect(()=>{n||r("/login",{replace:!0})},[n,r]),!n)return null;const C=async P=>{if(P.preventDefault(),!!n){x(!0),b(null),j(null);try{const N={};if(i&&i!==n.email&&(N.email=i),o&&(N.password=o),N.email||N.password){const{error:T}=await he.auth.updateUser(N);if(T)throw T}const{error:A}=await he.from("profiles").update({avatar:u}).eq("id",n.id);if(A)throw A;await t(),b("Profile updated!"),c("")}catch(N){console.error(N),j(N.message??"Failed to update profile")}finally{x(!1)}}},E=P=>{const N=P.target.files?.[0];if(N){const A=new FileReader;A.onloadend=()=>{const T=A.result;d(T),m(T)},A.readAsDataURL(N)}};return p.jsx(St,{faintFlag:!0,children:p.jsx("div",{className:"max-w-2xl mx-auto px-6 py-16",children:p.jsxs("div",{className:"bg-white/95 p-8 rounded-2xl shadow-xl",children:[p.jsx("h1",{className:"text-2xl font-extrabold text-blue-900 mb-6",children:"Edit Profile"}),S&&p.jsx("div",{className:"mb-4 text-red-600 text-sm text-center",children:S}),w&&p.jsx("div",{className:"mb-4 text-green-600 text-sm text-center",children:w}),p.jsxs("form",{className:"flex flex-col gap-4",onSubmit:C,children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("label",{className:"font-semibold text-sm text-blue-700",children:"Email"}),p.jsx("input",{className:"border px-4 py-2 rounded-xl",type:"email",value:i,onChange:P=>a(P.target.value),required:!0})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("label",{className:"font-semibold text-sm text-blue-700",children:"New Password (leave blank to keep current)"}),p.jsx("input",{className:"border px-4 py-2 rounded-xl",type:"password",value:o,onChange:P=>c(P.target.value),placeholder:"••••••••"})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("label",{className:"font-semibold text-sm text-blue-700",children:"Avatar (Optional)"}),p.jsx("input",{type:"file",accept:"image/*",onChange:E}),f&&p.jsx("img",{src:f,alt:"Avatar Preview",className:"w-20 h-20 object-cover rounded-full mt-3"})]}),p.jsx("button",{type:"submit",disabled:g,className:"bg-blue-600 text-white py-2 rounded-xl hover:bg-blue-700 font-semibold disabled:opacity-60",children:g?"Saving…":"Save Changes"})]})]})})})}function IG(){const{user:e}=Ut(),t=Ct(),[r,n]=ge.useState("");if(y.useEffect(()=>{if(!e){t("/login");return}(async()=>{const{data:o}=await he.from("profiles").select("username, email").eq("id",e.id).single();n(o?.username||o?.email||e.id)})()},[e,t]),!e)return null;const i=`${window.location.origin}/u/${encodeURIComponent(r)}`;return p.jsx(St,{faintFlag:!0,children:p.jsx("div",{className:"max-w-md mx-auto px-6 py-16 text-center",children:p.jsxs("div",{className:"bg-white/95 p-8 rounded-2xl shadow-xl",children:[p.jsx("h1",{className:"text-2xl font-extrabold text-blue-900 mb-4",children:"Your QR Code"}),p.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Scan this QR code to view your public link (or use it for future business tools)."}),p.jsx("div",{className:"bg-white p-4 rounded-xl border shadow inline-block",children:p.jsx(zy,{value:i,size:200})}),p.jsx("p",{className:"text-xs text-gray-400 mt-4 break-all",children:i})]})})})}async function xA({slug:e,campaignId:t,ownerId:r,firstName:n,lastName:i,phone:a,zipCode:o,extra:c}){const u={firstName:n,lastName:i,phone:a,zipCode:o??null,extra:c??null},{data:d,error:f}=await he.from("intake_submissions").insert({campaign_id:t,payload_json:u}).select("id").single();if(f||!d)throw f||new Error("Failed to log submission");const{data:m,error:g}=await he.rpc("intake_add_customer",{p_slug:e,p_first_name:n,p_last_name:i,p_phone:zt(a),p_zip_code:o??null,p_extra:c??null,p_user_id:r});if(g)throw g;return await he.from("intake_submissions").update({customer_id:m}).eq("id",d.id),m}async function DG(e){const{data:t,error:r}=await he.from("intake_campaigns").select("id, owner_id, gate_field, prefill_gate, success_message, require_consent").eq("slug",e).single();if(r||!t)throw r||new Error("Campaign not found");return{campaignId:t.id,ownerId:t.owner_id,gateField:t.gate_field||"phone",prefill:t.prefill_gate??!1,successMessage:t.success_message??null,requireConsent:t.require_consent??!1}}function RG(){const{username:e,slug:t}=vu(),r=Ct(),n=t??e??"",[i,a]=y.useState(""),[o,c]=y.useState(!0),[u,d]=y.useState({firstName:"",lastName:"",phone:"",zipCode:""}),[f,m]=y.useState(!1),[g,x]=y.useState(!1),[w,b]=y.useState(null);y.useEffect(()=>{let j=!0;return(async()=>{try{if(!n){c(!1);return}const{data:C,error:E}=await he.from("public_slugs").select("slug, profiles(username)").eq("slug",n).single();if(!j)return;a(E||!C?"":C.profiles?.username??"")}catch(C){if(!j)return;console.error(C),a("")}finally{j&&c(!1)}})(),()=>{j=!1}},[n]);const S=j=>!!zt(j);return n?g?p.jsxs(xE,{children:[p.jsx("h1",{className:"text-3xl font-extrabold text-green-700 mb-2",children:"Thanks!"}),p.jsxs("p",{className:"mb-6 text-center",children:["Your information has been sent",i?` to ${i}`:"",". You may close this window."]}),p.jsx(bE,{onClick:()=>r("/"),children:"Return Home"})]}):p.jsx("div",{className:"flex flex-col items-center justify-center min-h-[80vh] px-2",children:p.jsxs("div",{className:"bg-white/90 shadow-xl p-8 rounded-2xl max-w-lg w-full",children:[o?p.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Loading…"}):p.jsxs("h2",{className:"text-2xl font-bold text-blue-800 mb-2",children:["Join ",i||"this user","’s List"]}),w&&p.jsx("div",{className:"mb-3 text-red-600 text-sm border border-red-200 rounded p-2 bg-red-50",children:w}),p.jsxs("form",{onSubmit:async j=>{if(j.preventDefault(),b(null),!u.firstName||!u.phone){b("First name and phone are required.");return}if(!S(u.phone)){b("Please enter a valid phone number.");return}m(!0);try{await xA({slug:n,firstName:u.firstName,lastName:u.lastName,phone:u.phone,zipCode:u.zipCode||null,extra:{source:"qr"}}),x(!0)}catch(C){console.error(C),b(C?.message??"Failed to submit. Try again later.")}finally{m(!1)}},className:"flex flex-col gap-4",children:[p.jsx("input",{type:"text",placeholder:"First Name",required:!0,value:u.firstName,onChange:j=>d({...u,firstName:j.target.value}),className:"p-3 rounded border border-blue-200 focus:ring w-full"}),p.jsx("input",{type:"text",placeholder:"Last Name",value:u.lastName,onChange:j=>d({...u,lastName:j.target.value}),className:"p-3 rounded border border-blue-200 focus:ring w-full"}),p.jsx("input",{type:"tel",placeholder:"Phone Number",required:!0,value:Wn(u.phone),onChange:j=>d({...u,phone:zt(j.target.value)??""}),className:"p-3 rounded border border-blue-200 focus:ring w-full"}),p.jsx("input",{type:"text",placeholder:"Zip Code (optional)",value:u.zipCode,onChange:j=>d({...u,zipCode:j.target.value}),className:"p-3 rounded border border-blue-200 focus:ring w-full"}),p.jsx("button",{disabled:f,className:"bg-blue-700 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-800 transition disabled:opacity-60",children:f?"Submitting...":"Add Me to the List"})]})]})}):p.jsxs(xE,{children:[p.jsx("h1",{className:"text-2xl font-bold text-red-700 mb-4",children:"Invalid Link"}),p.jsx("p",{className:"mb-6 text-sm text-gray-600",children:"Missing slug/username. Please scan a valid QR code."}),p.jsx(bE,{onClick:()=>r("/"),children:"Go Home"})]})}function xE({children:e}){return p.jsx("div",{className:"flex flex-col items-center justify-center min-h-[80vh] px-2 text-center",children:p.jsx("div",{className:"bg-white/90 shadow-xl p-8 rounded-2xl max-w-lg w-full",children:e})})}function bE({children:e,...t}){return p.jsx("button",{...t,className:"px-4 py-2 bg-blue-700 text-white rounded font-bold hover:bg-blue-800 transition",children:e})}class MG extends Error{inner=[];constructor(t,r=[]){super(t),this.name="ValidationError",this.inner=r}}class LG{_required=!1;_email=!1;_regex;_msgRequired="Required";_msgEmail="Invalid email";_msgRegex="Invalid";_test;_msgTest="Invalid";required(t){return this._required=!0,this._msgRequired=t,this}email(t){return this._email=!0,this._msgEmail=t,this}matches(t,r){return this._regex=t,this._msgRegex=r,this}test(t,r,n){return this._test=n,this._msgTest=r,this}async validate(t){if(this._required&&(t===void 0||t===""))throw new Error(this._msgRequired);if(this._email&&t&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))throw new Error(this._msgEmail);if(this._regex&&t&&!this._regex.test(t))throw new Error(this._msgRegex);if(this._test&&!this._test(t))throw new Error(this._msgTest);return t}}class $G{_required=!1;_msgRequired="Required";_oneOf;_msgOneOf="Invalid";required(t){return this._required=!0,this._msgRequired=t,this}oneOf(t,r){return this._oneOf=t,this._msgOneOf=r,this}async validate(t){if(this._required&&t===void 0)throw new Error(this._msgRequired);if(this._oneOf&&!this._oneOf.includes(t))throw new Error(this._msgOneOf);return t}}class BG{constructor(t){this.shape=t}async validate(t,r){const n=[],i={};for(const a of Object.keys(this.shape))try{i[a]=await this.shape[a].validate(t[a])}catch(o){if(n.push({path:a,message:o.message}),r?.abortEarly!==!1)break}if(n.length)throw new MG(n[0].message,n);return i}}function wE(){return new LG}function FG(){return{shape:e=>new BG(e)}}function zG(){return new $G}function bA(e){return Fr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function UG(){return p.jsx("div",{className:"min-h-screen bg-blue-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white p-8 rounded shadow text-center space-y-4",children:[p.jsx(bA,{className:"text-green-600 text-5xl mx-auto"}),p.jsx("h1",{className:"text-xl font-semibold",children:"Customer Added"})]})})}function qG(){const{slug:e=""}=vu(),[t]=jf(),[r,n]=y.useState([]),[i,a]=y.useState(!0),[o,c]=y.useState(null),[u,d]=y.useState({}),[f,m]=y.useState(!1),[g,x]=y.useState({}),[w,b]=y.useState(null);y.useEffect(()=>{let C=!0;return(async()=>{try{const{data:E,error:P}=await he.from("intake_campaigns").select("id, owner_id, form_snapshot_json, form_template_id").eq("slug",e).single();if(!C)return;if(P||!E){c("Form not found"),a(!1);return}b({id:E.id,owner_id:E.owner_id});let N=[];if(E.form_snapshot_json)N=E.form_snapshot_json.blocks??[];else if(E.form_template_id){const{data:F,error:z}=await he.from("campaign_forms").select("schema_json").eq("id",E.form_template_id).single();if(z||!F){c("Form not found"),a(!1);return}N=F.schema_json?.blocks??[]}n(N);const A={};N.forEach(F=>{(F.type==="input"||F.type==="choice")&&(A[F.name]=""),F.type==="checkbox"&&(A[F.name]=!1),F.type==="multiselect"&&(A[F.name]=[]),(F.type==="pdf"||F.type==="link")&&F.required&&(A[`ack_${F.id}`]=!1)});const T=t.get("gateField"),D=t.get("gateValue");T&&D&&Object.prototype.hasOwnProperty.call(A,T)&&(A[T]=D),d(A)}catch(E){if(!C)return;c(E?.message||"Failed to load form")}finally{C&&a(!1)}})(),()=>{C=!1}},[e,t]);const S=()=>{const C={};return r.forEach(E=>{if(E.type==="input"){let P=wE();E.inputType==="email"&&(P=P.email("Invalid email")),E.inputType==="phone"&&(P=P.test("phone","Invalid phone",N=>!!zt(N??""))),E.required&&(P=P.required("Required")),C[E.name]=P}if(E.type==="choice"){let P=wE();E.required&&(P=P.required("Required")),C[E.name]=P}(E.type==="pdf"||E.type==="link")&&E.required&&(C[`ack_${E.id}`]=zG().oneOf([!0],"Required"))}),FG().shape(C)},j=async C=>{C.preventDefault(),x({}),c(null);try{const P=await S().validate(u,{abortEarly:!1}),N={};if(r.forEach(L=>{L.type==="checkbox"&&L.required&&!u[L.name]&&(N[L.name]="Required"),L.type==="multiselect"&&L.required&&(!u[L.name]||u[L.name].length===0)&&(N[L.name]="Required")}),Object.keys(N).length){x(N);return}const{first_name:A,last_name:T,phone:D,zip_code:F,...z}=P;if(!w)throw new Error("Campaign not loaded");await xA({slug:e,campaignId:w.id,ownerId:w.owner_id,firstName:A,lastName:T,phone:D,zipCode:F,extra:z}),m(!0)}catch(E){if(E.name==="ValidationError"){const P={};E.inner.forEach(N=>{N.path&&(P[N.path]=N.message)}),x(P)}else c(E.message||"Failed to submit")}};return i?p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading…"}):f?p.jsx(UG,{}):p.jsx("div",{className:"min-h-screen bg-blue-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white w-full max-w-md p-6 rounded shadow",children:[o&&p.jsx("p",{className:"text-red-600 text-sm mb-4",children:o}),p.jsxs("form",{onSubmit:j,className:"space-y-4",children:[r.map(C=>{switch(C.type){case"text":return p.jsx("p",{className:"text-gray-700",children:C.text},C.id);case"image":return p.jsx("img",{src:C.url,alt:C.alt||"",className:"w-full"},C.id);case"input":return p.jsxs("div",{children:[C.label&&p.jsxs("label",{className:"block text-sm font-medium mb-1",children:[C.label,C.required&&p.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),p.jsx("input",{type:C.inputType==="phone"?"tel":C.inputType,value:C.inputType==="phone"?Wn(u[C.name]||""):u[C.name]||"",onChange:E=>d({...u,[C.name]:C.inputType==="phone"?zt(E.target.value):E.target.value}),className:"w-full border rounded p-2"}),g[C.name]&&p.jsx("p",{className:"text-xs text-red-600 mt-1",children:g[C.name]})]},C.id);case"choice":return p.jsxs("div",{children:[C.label&&p.jsxs("label",{className:"block text-sm font-medium mb-1",children:[C.label,C.required&&p.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),p.jsxs("select",{value:u[C.name]||"",onChange:E=>d({...u,[C.name]:E.target.value}),className:"w-full border rounded p-2",children:[p.jsx("option",{value:"",children:"Select…"}),(C.options||[]).map((E,P)=>p.jsx("option",{value:E,children:E},P))]}),g[C.name]&&p.jsx("p",{className:"text-xs text-red-600 mt-1",children:g[C.name]})]},C.id);case"checkbox":return p.jsxs("div",{children:[p.jsxs("label",{className:"flex items-center",children:[p.jsx("input",{type:"checkbox",checked:!!u[C.name],onChange:E=>d({...u,[C.name]:E.target.checked})}),p.jsxs("span",{className:"ml-2",children:[C.label,C.required&&p.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})]}),g[C.name]&&p.jsx("p",{className:"text-xs text-red-600 mt-1",children:g[C.name]})]},C.id);case"multiselect":return p.jsxs("div",{children:[C.label&&p.jsxs("label",{className:"block text-sm font-medium mb-1",children:[C.label,C.required&&p.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),p.jsx("select",{multiple:!0,value:u[C.name]||[],onChange:E=>d({...u,[C.name]:Array.from(E.target.selectedOptions).map(P=>P.value)}),className:"w-full border rounded p-2",children:(C.options||[]).map((E,P)=>p.jsx("option",{value:E,children:E},P))}),g[C.name]&&p.jsx("p",{className:"text-xs text-red-600 mt-1",children:g[C.name]})]},C.id);case"button":return p.jsx("button",{type:"submit",className:"w-full bg-blue-700 text-white py-2 rounded hover:bg-blue-800",children:C.text},C.id);case"pdf":return p.jsxs("div",{children:[p.jsx("iframe",{src:C.url,className:"w-full h-64 border"}),C.required&&p.jsxs("label",{className:"flex items-center mt-2 text-sm",children:[p.jsx("input",{type:"checkbox",checked:!!u[`ack_${C.id}`],onChange:E=>d({...u,[`ack_${C.id}`]:E.target.checked})}),p.jsx("span",{className:"ml-2",children:"I acknowledge"})]}),g[`ack_${C.id}`]&&p.jsx("p",{className:"text-xs text-red-600 mt-1",children:g[`ack_${C.id}`]})]},C.id);case"link":return p.jsxs("div",{children:[p.jsx("a",{href:C.url,className:"text-blue-600 underline",target:"_blank",rel:"noopener noreferrer",children:C.text}),C.required&&p.jsxs("label",{className:"flex items-center mt-2 text-sm",children:[p.jsx("input",{type:"checkbox",checked:!!u[`ack_${C.id}`],onChange:E=>d({...u,[`ack_${C.id}`]:E.target.checked})}),p.jsx("span",{className:"ml-2",children:"I acknowledge"})]}),g[`ack_${C.id}`]&&p.jsx("p",{className:"text-xs text-red-600 mt-1",children:g[`ack_${C.id}`]})]},C.id);default:return null}}),p.jsx("p",{className:"text-[10px] text-gray-500 text-center",children:"Reply STOP to opt out at any time."})]})]})})}function WG(){const{slug:e=""}=vu(),t=Ct(),[r,n]=y.useState(null),[i,a]=y.useState(""),[o,c]=y.useState(!1),[u,d]=y.useState(!0),[f,m]=y.useState(!1),[g,x]=y.useState(null);if(y.useEffect(()=>{let b=!0;return(async()=>{try{const S=await DG(e);if(!b)return;n(S)}catch(S){b&&x(S.message||"Failed to load campaign")}finally{b&&d(!1)}})(),()=>{b=!1}},[e]),u)return p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading…"});if(!r)return p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Campaign not found."});async function w(b){if(b.preventDefault(),!r)return;x(null);const S=r.gateField==="phone"?zt(i):Od(i);if(!S){x("Invalid value");return}if(r.requireConsent&&!o){x("Consent required");return}const{data:j}=await he.from("customers").select("id").eq(r.gateField,S).eq("user_id",r.ownerId).maybeSingle();if(j){await he.from("form_submissions").insert({campaign_id:r.campaignId,customer_id:j.id,is_checkin:!0}),m(!0);return}let C=`/intake/${e}`;if(r.prefill&&S){const E=new URLSearchParams({gateField:r.gateField,gateValue:S});C+=`?${E.toString()}`}t(C)}return f?p.jsx("div",{className:"min-h-screen bg-green-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white p-8 rounded shadow text-center space-y-4",children:[p.jsx(bA,{className:"text-green-600 text-5xl mx-auto"}),p.jsx("h1",{className:"text-xl font-bold",children:"YOU’RE CHECKED IN — THANK YOU!"}),r?.successMessage&&p.jsx("p",{className:"text-sm text-gray-700",children:r.successMessage})]})}):p.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-50",children:p.jsxs("form",{onSubmit:w,className:"bg-white p-8 rounded shadow w-full max-w-md space-y-4",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"font-medium",children:r.gateField==="phone"?"Phone":"Email"}),p.jsx("input",{type:r.gateField==="phone"?"tel":"email",value:i,onChange:b=>a(b.target.value),className:"border rounded w-full p-2",required:!0})]}),r.requireConsent&&p.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[p.jsx("input",{type:"checkbox",checked:o,onChange:b=>c(b.target.checked),className:"rounded border"}),p.jsx("span",{children:"I consent to be contacted."})]}),g&&p.jsx("p",{className:"text-red-600 text-sm",children:g}),p.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded w-full",children:"Continue"})]})})}function KG(){const[e,t]=y.useState([]),r=Ct();return y.useEffect(()=>{Vy().then(t).catch(console.error)},[]),p.jsx(St,{faintFlag:!0,children:p.jsxs("div",{className:"p-6",children:[p.jsx("div",{className:"flex justify-end mb-4",children:p.jsx("button",{onClick:()=>r("/forms/new"),className:"bg-blue-600 text-white px-4 py-2 rounded",children:"New Form"})}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:e.map(n=>p.jsx("div",{className:"border p-4 rounded cursor-pointer hover:bg-gray-50",onClick:()=>r(`/forms/${n.id}`),children:p.jsx("h3",{className:"font-semibold",children:n.title||"Untitled"})},n.id))})]})})}function HG(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return y.useMemo(()=>n=>{t.forEach(i=>i(n))},t)}const ph=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Bo(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function $x(e){return"nodeType"in e}function Ur(e){var t,r;return e?Bo(e)?e:$x(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function Bx(e){const{Document:t}=Ur(e);return e instanceof t}function Lu(e){return Bo(e)?!1:e instanceof Ur(e).HTMLElement}function wA(e){return e instanceof Ur(e).SVGElement}function Fo(e){return e?Bo(e)?e.document:$x(e)?Bx(e)?e:Lu(e)||wA(e)?e.ownerDocument:document:document:document}const ci=ph?y.useLayoutEffect:y.useEffect;function Fx(e){const t=y.useRef(e);return ci(()=>{t.current=e}),y.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}function VG(){const e=y.useRef(null),t=y.useCallback((n,i)=>{e.current=setInterval(n,i)},[]),r=y.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function hu(e,t){t===void 0&&(t=[e]);const r=y.useRef(e);return ci(()=>{r.current!==e&&(r.current=e)},t),r}function $u(e,t){const r=y.useRef();return y.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function yf(e){const t=Fx(e),r=y.useRef(null),n=y.useCallback(i=>{i!==r.current&&t?.(i,r.current),r.current=i},[]);return[r,n]}function _y(e){const t=y.useRef();return y.useEffect(()=>{t.current=e},[e]),t.current}let Jg={};function Bu(e,t){return y.useMemo(()=>{if(t)return t;const r=Jg[e]==null?0:Jg[e]+1;return Jg[e]=r,e+"-"+r},[e,t])}function _A(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.reduce((a,o)=>{const c=Object.entries(o);for(const[u,d]of c){const f=a[u];f!=null&&(a[u]=f+e*d)}return a},{...t})}}const mo=_A(1),xf=_A(-1);function YG(e){return"clientX"in e&&"clientY"in e}function zx(e){if(!e)return!1;const{KeyboardEvent:t}=Ur(e.target);return t&&e instanceof t}function GG(e){if(!e)return!1;const{TouchEvent:t}=Ur(e.target);return t&&e instanceof t}function Sy(e){if(GG(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return YG(e)?{x:e.clientX,y:e.clientY}:null}const pu=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[pu.Translate.toString(e),pu.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),_E="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function XG(e){return e.matches(_E)?e:e.querySelector(_E)}const QG={display:"none"};function JG(e){let{id:t,value:r}=e;return ge.createElement("div",{id:t,style:QG},r)}function ZG(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ge.createElement("div",{id:t,style:i,role:"status","aria-live":n,"aria-atomic":!0},r)}function eX(){const[e,t]=y.useState("");return{announce:y.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const SA=y.createContext(null);function tX(e){const t=y.useContext(SA);y.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function rX(){const[e]=y.useState(()=>new Set),t=y.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[y.useCallback(n=>{let{type:i,event:a}=n;e.forEach(o=>{var c;return(c=o[i])==null?void 0:c.call(o,a)})},[e]),t]}const nX={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},iX={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function aX(e){let{announcements:t=iX,container:r,hiddenTextDescribedById:n,screenReaderInstructions:i=nX}=e;const{announce:a,announcement:o}=eX(),c=Bu("DndLiveRegion"),[u,d]=y.useState(!1);if(y.useEffect(()=>{d(!0)},[]),tX(y.useMemo(()=>({onDragStart(m){let{active:g}=m;a(t.onDragStart({active:g}))},onDragMove(m){let{active:g,over:x}=m;t.onDragMove&&a(t.onDragMove({active:g,over:x}))},onDragOver(m){let{active:g,over:x}=m;a(t.onDragOver({active:g,over:x}))},onDragEnd(m){let{active:g,over:x}=m;a(t.onDragEnd({active:g,over:x}))},onDragCancel(m){let{active:g,over:x}=m;a(t.onDragCancel({active:g,over:x}))}}),[a,t])),!u)return null;const f=ge.createElement(ge.Fragment,null,ge.createElement(JG,{id:n,value:i.draggable}),ge.createElement(ZG,{id:c,announcement:o}));return r?Xa.createPortal(f,r):f}var Ft;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Ft||(Ft={}));function bf(){}function SE(e,t){return y.useMemo(()=>({sensor:e,options:{}}),[e,t])}function sX(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return y.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const Hn=Object.freeze({x:0,y:0});function oX(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function lX(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function uX(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function cX(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function jE(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const dX=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const i=jE(t,t.left,t.top),a=[];for(const o of n){const{id:c}=o,u=r.get(c);if(u){const d=oX(jE(u),i);a.push({id:c,data:{droppableContainer:o,value:d}})}}return a.sort(lX)};function fX(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=i-n,c=a-r;if(n<i&&r<a){const u=t.width*t.height,d=e.width*e.height,f=o*c,m=f/(u+d-f);return Number(m.toFixed(4))}return 0}const hX=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const i=[];for(const a of n){const{id:o}=a,c=r.get(o);if(c){const u=fX(c,t);u>0&&i.push({id:o,data:{droppableContainer:a,value:u}})}}return i.sort(uX)};function pX(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function jA(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Hn}function mX(e){return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return i.reduce((o,c)=>({...o,top:o.top+e*c.y,bottom:o.bottom+e*c.y,left:o.left+e*c.x,right:o.right+e*c.x}),{...r})}}const gX=mX(1);function vX(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function yX(e,t,r){const n=vX(t);if(!n)return e;const{scaleX:i,scaleY:a,x:o,y:c}=n,u=e.left-o-(1-i)*parseFloat(r),d=e.top-c-(1-a)*parseFloat(r.slice(r.indexOf(" ")+1)),f=i?e.width/i:e.width,m=a?e.height/a:e.height;return{width:f,height:m,top:d,right:u+f,bottom:d+m,left:u}}const xX={ignoreTransform:!1};function zo(e,t){t===void 0&&(t=xX);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:d,transformOrigin:f}=Ur(e).getComputedStyle(e);d&&(r=yX(r,d,f))}const{top:n,left:i,width:a,height:o,bottom:c,right:u}=r;return{top:n,left:i,width:a,height:o,bottom:c,right:u}}function kE(e){return zo(e,{ignoreTransform:!0})}function bX(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function wX(e,t){return t===void 0&&(t=Ur(e).getComputedStyle(e)),t.position==="fixed"}function _X(e,t){t===void 0&&(t=Ur(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=t[i];return typeof a=="string"?r.test(a):!1})}function Ux(e,t){const r=[];function n(i){if(t!=null&&r.length>=t||!i)return r;if(Bx(i)&&i.scrollingElement!=null&&!r.includes(i.scrollingElement))return r.push(i.scrollingElement),r;if(!Lu(i)||wA(i)||r.includes(i))return r;const a=Ur(e).getComputedStyle(i);return i!==e&&_X(i,a)&&r.push(i),wX(i,a)?r:n(i.parentNode)}return e?n(e):r}function kA(e){const[t]=Ux(e,1);return t??null}function Zg(e){return!ph||!e?null:Bo(e)?e:$x(e)?Bx(e)||e===Fo(e).scrollingElement?window:Lu(e)?e:null:null}function EA(e){return Bo(e)?e.scrollX:e.scrollLeft}function CA(e){return Bo(e)?e.scrollY:e.scrollTop}function jy(e){return{x:EA(e),y:CA(e)}}var Xt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Xt||(Xt={}));function PA(e){return!ph||!e?!1:e===document.scrollingElement}function NA(e){const t={x:0,y:0},r=PA(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},i=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,o=e.scrollTop>=n.y,c=e.scrollLeft>=n.x;return{isTop:i,isLeft:a,isBottom:o,isRight:c,maxScroll:n,minScroll:t}}const SX={x:.2,y:.2};function jX(e,t,r,n,i){let{top:a,left:o,right:c,bottom:u}=r;n===void 0&&(n=10),i===void 0&&(i=SX);const{isTop:d,isBottom:f,isLeft:m,isRight:g}=NA(e),x={x:0,y:0},w={x:0,y:0},b={height:t.height*i.y,width:t.width*i.x};return!d&&a<=t.top+b.height?(x.y=Xt.Backward,w.y=n*Math.abs((t.top+b.height-a)/b.height)):!f&&u>=t.bottom-b.height&&(x.y=Xt.Forward,w.y=n*Math.abs((t.bottom-b.height-u)/b.height)),!g&&c>=t.right-b.width?(x.x=Xt.Forward,w.x=n*Math.abs((t.right-b.width-c)/b.width)):!m&&o<=t.left+b.width&&(x.x=Xt.Backward,w.x=n*Math.abs((t.left+b.width-o)/b.width)),{direction:x,speed:w}}function kX(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:t,left:r,right:n,bottom:i}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:i,width:e.clientWidth,height:e.clientHeight}}function OA(e){return e.reduce((t,r)=>mo(t,jy(r)),Hn)}function EX(e){return e.reduce((t,r)=>t+EA(r),0)}function CX(e){return e.reduce((t,r)=>t+CA(r),0)}function PX(e,t){if(t===void 0&&(t=zo),!e)return;const{top:r,left:n,bottom:i,right:a}=t(e);kA(e)&&(i<=0||a<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const NX=[["x",["left","right"],EX],["y",["top","bottom"],CX]];class qx{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Ux(r),i=OA(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,o,c]of NX)for(const u of o)Object.defineProperty(this,u,{get:()=>{const d=c(n),f=i[a]-d;return this.rect[u]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Yl{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var i;(i=this.target)==null||i.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function OX(e){const{EventTarget:t}=Ur(e);return e instanceof t?e:Fo(e)}function ev(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var vn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(vn||(vn={}));function EE(e){e.preventDefault()}function AX(e){e.stopPropagation()}var et;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(et||(et={}));const AA={start:[et.Space,et.Enter],cancel:[et.Esc],end:[et.Space,et.Enter,et.Tab]},TX=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case et.Right:return{...r,x:r.x+25};case et.Left:return{...r,x:r.x-25};case et.Down:return{...r,y:r.y+25};case et.Up:return{...r,y:r.y-25}}};class TA{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new Yl(Fo(r)),this.windowListeners=new Yl(Ur(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(vn.Resize,this.handleCancel),this.windowListeners.add(vn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(vn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&PX(n),r(Hn)}handleKeyDown(t){if(zx(t)){const{active:r,context:n,options:i}=this.props,{keyboardCodes:a=AA,coordinateGetter:o=TX,scrollBehavior:c="smooth"}=i,{code:u}=t;if(a.end.includes(u)){this.handleEnd(t);return}if(a.cancel.includes(u)){this.handleCancel(t);return}const{collisionRect:d}=n.current,f=d?{x:d.left,y:d.top}:Hn;this.referenceCoordinates||(this.referenceCoordinates=f);const m=o(t,{active:r,context:n.current,currentCoordinates:f});if(m){const g=xf(m,f),x={x:0,y:0},{scrollableAncestors:w}=n.current;for(const b of w){const S=t.code,{isTop:j,isRight:C,isLeft:E,isBottom:P,maxScroll:N,minScroll:A}=NA(b),T=kX(b),D={x:Math.min(S===et.Right?T.right-T.width/2:T.right,Math.max(S===et.Right?T.left:T.left+T.width/2,m.x)),y:Math.min(S===et.Down?T.bottom-T.height/2:T.bottom,Math.max(S===et.Down?T.top:T.top+T.height/2,m.y))},F=S===et.Right&&!C||S===et.Left&&!E,z=S===et.Down&&!P||S===et.Up&&!j;if(F&&D.x!==m.x){const L=b.scrollLeft+g.x,H=S===et.Right&&L<=N.x||S===et.Left&&L>=A.x;if(H&&!g.y){b.scrollTo({left:L,behavior:c});return}H?x.x=b.scrollLeft-L:x.x=S===et.Right?b.scrollLeft-N.x:b.scrollLeft-A.x,x.x&&b.scrollBy({left:-x.x,behavior:c});break}else if(z&&D.y!==m.y){const L=b.scrollTop+g.y,H=S===et.Down&&L<=N.y||S===et.Up&&L>=A.y;if(H&&!g.x){b.scrollTo({top:L,behavior:c});return}H?x.y=b.scrollTop-L:x.y=S===et.Down?b.scrollTop-N.y:b.scrollTop-A.y,x.y&&b.scrollBy({top:-x.y,behavior:c});break}}this.handleMove(t,mo(xf(m,this.referenceCoordinates),x))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}TA.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=AA,onActivation:i}=t,{active:a}=r;const{code:o}=e.nativeEvent;if(n.start.includes(o)){const c=a.activatorNode.current;return c&&e.target!==c?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function CE(e){return!!(e&&"distance"in e)}function PE(e){return!!(e&&"delay"in e)}class Wx{constructor(t,r,n){var i;n===void 0&&(n=OX(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:a}=t,{target:o}=a;this.props=t,this.events=r,this.document=Fo(o),this.documentListeners=new Yl(this.document),this.listeners=new Yl(n),this.windowListeners=new Yl(Ur(o)),this.initialCoordinates=(i=Sy(a))!=null?i:Hn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(vn.Resize,this.handleCancel),this.windowListeners.add(vn.DragStart,EE),this.windowListeners.add(vn.VisibilityChange,this.handleCancel),this.windowListeners.add(vn.ContextMenu,EE),this.documentListeners.add(vn.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(PE(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(CE(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:i}=this.props;i(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(vn.Click,AX,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(vn.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:i,props:a}=this,{onMove:o,options:{activationConstraint:c}}=a;if(!i)return;const u=(r=Sy(t))!=null?r:Hn,d=xf(i,u);if(!n&&c){if(CE(c)){if(c.tolerance!=null&&ev(d,c.tolerance))return this.handleCancel();if(ev(d,c.distance))return this.handleStart()}if(PE(c)&&ev(d,c.tolerance))return this.handleCancel();this.handlePending(c,d);return}t.cancelable&&t.preventDefault(),o(u)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===et.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const IX={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Kx extends Wx{constructor(t){const{event:r}=t,n=Fo(r.target);super(t,IX,n)}}Kx.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n?.({event:r}),!0)}}];const DX={move:{name:"mousemove"},end:{name:"mouseup"}};var ky;(function(e){e[e.RightClick=2]="RightClick"})(ky||(ky={}));class RX extends Wx{constructor(t){super(t,DX,Fo(t.event.target))}}RX.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===ky.RightClick?!1:(n?.({event:r}),!0)}}];const tv={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class IA extends Wx{constructor(t){super(t,tv)}static setup(){return window.addEventListener(tv.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(tv.move.name,t)};function t(){}}}IA.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:i}=r;return i.length>1?!1:(n?.({event:r}),!0)}}];var Gl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Gl||(Gl={}));var wf;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(wf||(wf={}));function MX(e){let{acceleration:t,activator:r=Gl.Pointer,canScroll:n,draggingRect:i,enabled:a,interval:o=5,order:c=wf.TreeOrder,pointerCoordinates:u,scrollableAncestors:d,scrollableAncestorRects:f,delta:m,threshold:g}=e;const x=$X({delta:m,disabled:!a}),[w,b]=VG(),S=y.useRef({x:0,y:0}),j=y.useRef({x:0,y:0}),C=y.useMemo(()=>{switch(r){case Gl.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Gl.DraggableRect:return i}},[r,i,u]),E=y.useRef(null),P=y.useCallback(()=>{const A=E.current;if(!A)return;const T=S.current.x*j.current.x,D=S.current.y*j.current.y;A.scrollBy(T,D)},[]),N=y.useMemo(()=>c===wf.TreeOrder?[...d].reverse():d,[c,d]);y.useEffect(()=>{if(!a||!d.length||!C){b();return}for(const A of N){if(n?.(A)===!1)continue;const T=d.indexOf(A),D=f[T];if(!D)continue;const{direction:F,speed:z}=jX(A,D,C,t,g);for(const L of["x","y"])x[L][F[L]]||(z[L]=0,F[L]=0);if(z.x>0||z.y>0){b(),E.current=A,w(P,o),S.current=z,j.current=F;return}}S.current={x:0,y:0},j.current={x:0,y:0},b()},[t,P,n,b,a,o,JSON.stringify(C),JSON.stringify(x),w,d,N,f,JSON.stringify(g)])}const LX={x:{[Xt.Backward]:!1,[Xt.Forward]:!1},y:{[Xt.Backward]:!1,[Xt.Forward]:!1}};function $X(e){let{delta:t,disabled:r}=e;const n=_y(t);return $u(i=>{if(r||!n||!i)return LX;const a={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[Xt.Backward]:i.x[Xt.Backward]||a.x===-1,[Xt.Forward]:i.x[Xt.Forward]||a.x===1},y:{[Xt.Backward]:i.y[Xt.Backward]||a.y===-1,[Xt.Forward]:i.y[Xt.Forward]||a.y===1}}},[r,t,n])}function BX(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return $u(i=>{var a;return t==null?null:(a=n??i)!=null?a:null},[n,t])}function FX(e,t){return y.useMemo(()=>e.reduce((r,n)=>{const{sensor:i}=n,a=i.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,n)}));return[...r,...a]},[]),[e,t])}var mu;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(mu||(mu={}));var Ey;(function(e){e.Optimized="optimized"})(Ey||(Ey={}));const NE=new Map;function zX(e,t){let{dragging:r,dependencies:n,config:i}=t;const[a,o]=y.useState(null),{frequency:c,measure:u,strategy:d}=i,f=y.useRef(e),m=S(),g=hu(m),x=y.useCallback(function(j){j===void 0&&(j=[]),!g.current&&o(C=>C===null?j:C.concat(j.filter(E=>!C.includes(E))))},[g]),w=y.useRef(null),b=$u(j=>{if(m&&!r)return NE;if(!j||j===NE||f.current!==e||a!=null){const C=new Map;for(let E of e){if(!E)continue;if(a&&a.length>0&&!a.includes(E.id)&&E.rect.current){C.set(E.id,E.rect.current);continue}const P=E.node.current,N=P?new qx(u(P),P):null;E.rect.current=N,N&&C.set(E.id,N)}return C}return j},[e,a,r,m,u]);return y.useEffect(()=>{f.current=e},[e]),y.useEffect(()=>{m||x()},[r,m]),y.useEffect(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),y.useEffect(()=>{m||typeof c!="number"||w.current!==null||(w.current=setTimeout(()=>{x(),w.current=null},c))},[c,m,x,...n]),{droppableRects:b,measureDroppableContainers:x,measuringScheduled:a!=null};function S(){switch(d){case mu.Always:return!1;case mu.BeforeDragging:return r;default:return!r}}}function DA(e,t){return $u(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function UX(e,t){return DA(e,t)}function qX(e){let{callback:t,disabled:r}=e;const n=Fx(t),i=y.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(n)},[n,r]);return y.useEffect(()=>()=>i?.disconnect(),[i]),i}function mh(e){let{callback:t,disabled:r}=e;const n=Fx(t),i=y.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(n)},[r]);return y.useEffect(()=>()=>i?.disconnect(),[i]),i}function WX(e){return new qx(zo(e),e)}function OE(e,t,r){t===void 0&&(t=WX);const[n,i]=y.useState(null);function a(){i(u=>{if(!e)return null;if(e.isConnected===!1){var d;return(d=u??r)!=null?d:null}const f=t(e);return JSON.stringify(u)===JSON.stringify(f)?u:f})}const o=qX({callback(u){if(e)for(const d of u){const{type:f,target:m}=d;if(f==="childList"&&m instanceof HTMLElement&&m.contains(e)){a();break}}}}),c=mh({callback:a});return ci(()=>{a(),e?(c?.observe(e),o?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),o?.disconnect())},[e]),n}function KX(e){const t=DA(e);return jA(e,t)}const AE=[];function HX(e){const t=y.useRef(e),r=$u(n=>e?n&&n!==AE&&e&&t.current&&e.parentNode===t.current.parentNode?n:Ux(e):AE,[e]);return y.useEffect(()=>{t.current=e},[e]),r}function VX(e){const[t,r]=y.useState(null),n=y.useRef(e),i=y.useCallback(a=>{const o=Zg(a.target);o&&r(c=>c?(c.set(o,jy(o)),new Map(c)):null)},[]);return y.useEffect(()=>{const a=n.current;if(e!==a){o(a);const c=e.map(u=>{const d=Zg(u);return d?(d.addEventListener("scroll",i,{passive:!0}),[d,jy(d)]):null}).filter(u=>u!=null);r(c.length?new Map(c):null),n.current=e}return()=>{o(e),o(a)};function o(c){c.forEach(u=>{const d=Zg(u);d?.removeEventListener("scroll",i)})}},[i,e]),y.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,o)=>mo(a,o),Hn):OA(e):Hn,[e,t])}function TE(e,t){t===void 0&&(t=[]);const r=y.useRef(null);return y.useEffect(()=>{r.current=null},t),y.useEffect(()=>{const n=e!==Hn;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?xf(e,r.current):Hn}function YX(e){y.useEffect(()=>{if(!ph)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r?.()}},e.map(t=>{let{sensor:r}=t;return r}))}function GX(e,t){return y.useMemo(()=>e.reduce((r,n)=>{let{eventName:i,handler:a}=n;return r[i]=o=>{a(o,t)},r},{}),[e,t])}function RA(e){return y.useMemo(()=>e?bX(e):null,[e])}const IE=[];function XX(e,t){t===void 0&&(t=zo);const[r]=e,n=RA(r?Ur(r):null),[i,a]=y.useState(IE);function o(){a(()=>e.length?e.map(u=>PA(u)?n:new qx(t(u),u)):IE)}const c=mh({callback:o});return ci(()=>{c?.disconnect(),o(),e.forEach(u=>c?.observe(u))},[e]),i}function QX(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Lu(t)?t:e}function JX(e){let{measure:t}=e;const[r,n]=y.useState(null),i=y.useCallback(d=>{for(const{target:f}of d)if(Lu(f)){n(m=>{const g=t(f);return m?{...m,width:g.width,height:g.height}:g});break}},[t]),a=mh({callback:i}),o=y.useCallback(d=>{const f=QX(d);a?.disconnect(),f&&a?.observe(f),n(f?t(f):null)},[t,a]),[c,u]=yf(o);return y.useMemo(()=>({nodeRef:c,rect:r,setRef:u}),[r,c,u])}const ZX=[{sensor:Kx,options:{}},{sensor:TA,options:{}}],eQ={current:{}},Sd={draggable:{measure:kE},droppable:{measure:kE,strategy:mu.WhileDragging,frequency:Ey.Optimized},dragOverlay:{measure:zo}};class Xl extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const tQ={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Xl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:bf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Sd,measureDroppableContainers:bf,windowRect:null,measuringScheduled:!1},rQ={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:bf,draggableNodes:new Map,over:null,measureDroppableContainers:bf},gh=y.createContext(rQ),MA=y.createContext(tQ);function nQ(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Xl}}}function iQ(e,t){switch(t.type){case Ft.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ft.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Ft.DragEnd:case Ft.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ft.RegisterDroppable:{const{element:r}=t,{id:n}=r,i=new Xl(e.droppable.containers);return i.set(n,r),{...e,droppable:{...e.droppable,containers:i}}}case Ft.SetDroppableDisabled:{const{id:r,key:n,disabled:i}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;const o=new Xl(e.droppable.containers);return o.set(r,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case Ft.UnregisterDroppable:{const{id:r,key:n}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;const a=new Xl(e.droppable.containers);return a.delete(r),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function aQ(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:i}=y.useContext(gh),a=_y(n),o=_y(r?.id);return y.useEffect(()=>{if(!t&&!n&&a&&o!=null){if(!zx(a)||document.activeElement===a.target)return;const c=i.get(o);if(!c)return;const{activatorNode:u,node:d}=c;if(!u.current&&!d.current)return;requestAnimationFrame(()=>{for(const f of[u.current,d.current]){if(!f)continue;const m=XG(f);if(m){m.focus();break}}})}},[n,t,i,o,a]),null}function sQ(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((i,a)=>a({transform:i,...n}),r):r}function oQ(e){return y.useMemo(()=>({draggable:{...Sd.draggable,...e?.draggable},droppable:{...Sd.droppable,...e?.droppable},dragOverlay:{...Sd.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function lQ(e){let{activeNode:t,measure:r,initialRect:n,config:i=!0}=e;const a=y.useRef(!1),{x:o,y:c}=typeof i=="boolean"?{x:i,y:i}:i;ci(()=>{if(!o&&!c||!t){a.current=!1;return}if(a.current||!n)return;const d=t?.node.current;if(!d||d.isConnected===!1)return;const f=r(d),m=jA(f,n);if(o||(m.x=0),c||(m.y=0),a.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const g=kA(d);g&&g.scrollBy({top:m.y,left:m.x})}},[t,o,c,n,r])}const LA=y.createContext({...Hn,scaleX:1,scaleY:1});var ya;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ya||(ya={}));const uQ=y.memo(function(t){var r,n,i,a;let{id:o,accessibility:c,autoScroll:u=!0,children:d,sensors:f=ZX,collisionDetection:m=hX,measuring:g,modifiers:x,...w}=t;const b=y.useReducer(iQ,void 0,nQ),[S,j]=b,[C,E]=rX(),[P,N]=y.useState(ya.Uninitialized),A=P===ya.Initialized,{draggable:{active:T,nodes:D,translate:F},droppable:{containers:z}}=S,L=T!=null?D.get(T):null,H=y.useRef({initial:null,translated:null}),ne=y.useMemo(()=>{var Ve;return T!=null?{id:T,data:(Ve=L?.data)!=null?Ve:eQ,rect:H}:null},[T,L]),ce=y.useRef(null),[fe,K]=y.useState(null),[q,Y]=y.useState(null),Z=hu(w,Object.values(w)),te=Bu("DndDescribedBy",o),M=y.useMemo(()=>z.getEnabled(),[z]),B=oQ(g),{droppableRects:de,measureDroppableContainers:_e,measuringScheduled:ee}=zX(M,{dragging:A,dependencies:[F.x,F.y],config:B.droppable}),le=BX(D,T),Q=y.useMemo(()=>q?Sy(q):null,[q]),pe=jt(),G=UX(le,B.draggable.measure);lQ({activeNode:T!=null?D.get(T):null,config:pe.layoutShiftCompensation,initialRect:G,measure:B.draggable.measure});const ae=OE(le,B.draggable.measure,G),Ee=OE(le?le.parentElement:null),re=y.useRef({activatorEvent:null,active:null,activeNode:le,collisionRect:null,collisions:null,droppableRects:de,draggableNodes:D,draggingNode:null,draggingNodeRect:null,droppableContainers:z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),qe=z.getNodeFor((r=re.current.over)==null?void 0:r.id),Ie=JX({measure:B.dragOverlay.measure}),ut=(n=Ie.nodeRef.current)!=null?n:le,Le=A?(i=Ie.rect)!=null?i:ae:null,Mt=!!(Ie.nodeRef.current&&Ie.rect),Gn=KX(Mt?null:ae),pi=RA(ut?Ur(ut):null),fr=HX(A?qe??le:null),qr=XX(fr),Xn=sQ(x,{transform:{x:F.x-Gn.x,y:F.y-Gn.y,scaleX:1,scaleY:1},activatorEvent:q,active:ne,activeNodeRect:ae,containerNodeRect:Ee,draggingNodeRect:Le,over:re.current.over,overlayNodeRect:Ie.rect,scrollableAncestors:fr,scrollableAncestorRects:qr,windowRect:pi}),Na=Q?mo(Q,F):null,Vi=VX(fr),Ss=TE(Vi),js=TE(Vi,[ae]),Wr=mo(Xn,Ss),Kr=Le?gX(Le,Xn):null,Qn=ne&&Kr?m({active:ne,collisionRect:Kr,droppableRects:de,droppableContainers:M,pointerCoordinates:Na}):null,Jn=cX(Qn,"id"),[J,me]=y.useState(null),Me=Mt?Xn:mo(Xn,js),Re=pX(Me,(a=J?.rect)!=null?a:null,ae),He=y.useRef(null),Ze=y.useCallback((Ve,$e)=>{let{sensor:Ce,options:Pe}=$e;if(ce.current==null)return;const rt=D.get(ce.current);if(!rt)return;const ot=Ve.nativeEvent,gt=new Ce({active:ce.current,activeNode:rt,event:ot,options:Pe,context:re,onAbort(nt){if(!D.get(nt))return;const{onDragAbort:pr}=Z.current,Nn={id:nt};pr?.(Nn),C({type:"onDragAbort",event:Nn})},onPending(nt,sn,pr,Nn){if(!D.get(nt))return;const{onDragPending:Zn}=Z.current,Hr={id:nt,constraint:sn,initialCoordinates:pr,offset:Nn};Zn?.(Hr),C({type:"onDragPending",event:Hr})},onStart(nt){const sn=ce.current;if(sn==null)return;const pr=D.get(sn);if(!pr)return;const{onDragStart:Nn}=Z.current,On={activatorEvent:ot,active:{id:sn,data:pr.data,rect:H}};Xa.unstable_batchedUpdates(()=>{Nn?.(On),N(ya.Initializing),j({type:Ft.DragStart,initialCoordinates:nt,active:sn}),C({type:"onDragStart",event:On}),K(He.current),Y(ot)})},onMove(nt){j({type:Ft.DragMove,coordinates:nt})},onEnd:Pr(Ft.DragEnd),onCancel:Pr(Ft.DragCancel)});He.current=gt;function Pr(nt){return async function(){const{active:pr,collisions:Nn,over:On,scrollAdjustedTranslate:Zn}=re.current;let Hr=null;if(pr&&Zn){const{cancelDrop:mi}=Z.current;Hr={activatorEvent:ot,active:pr,collisions:Nn,delta:Zn,over:On},nt===Ft.DragEnd&&typeof mi=="function"&&await Promise.resolve(mi(Hr))&&(nt=Ft.DragCancel)}ce.current=null,Xa.unstable_batchedUpdates(()=>{j({type:nt}),N(ya.Uninitialized),me(null),K(null),Y(null),He.current=null;const mi=nt===Ft.DragEnd?"onDragEnd":"onDragCancel";if(Hr){const Uo=Z.current[mi];Uo?.(Hr),C({type:mi,event:Hr})}})}}},[D]),Ke=y.useCallback((Ve,$e)=>(Ce,Pe)=>{const rt=Ce.nativeEvent,ot=D.get(Pe);if(ce.current!==null||!ot||rt.dndKit||rt.defaultPrevented)return;const gt={active:ot};Ve(Ce,$e.options,gt)===!0&&(rt.dndKit={capturedBy:$e.sensor},ce.current=Pe,Ze(Ce,$e))},[D,Ze]),mt=FX(f,Ke);YX(f),ci(()=>{ae&&P===ya.Initializing&&N(ya.Initialized)},[ae,P]),y.useEffect(()=>{const{onDragMove:Ve}=Z.current,{active:$e,activatorEvent:Ce,collisions:Pe,over:rt}=re.current;if(!$e||!Ce)return;const ot={active:$e,activatorEvent:Ce,collisions:Pe,delta:{x:Wr.x,y:Wr.y},over:rt};Xa.unstable_batchedUpdates(()=>{Ve?.(ot),C({type:"onDragMove",event:ot})})},[Wr.x,Wr.y]),y.useEffect(()=>{const{active:Ve,activatorEvent:$e,collisions:Ce,droppableContainers:Pe,scrollAdjustedTranslate:rt}=re.current;if(!Ve||ce.current==null||!$e||!rt)return;const{onDragOver:ot}=Z.current,gt=Pe.get(Jn),Pr=gt&&gt.rect.current?{id:gt.id,rect:gt.rect.current,data:gt.data,disabled:gt.disabled}:null,nt={active:Ve,activatorEvent:$e,collisions:Ce,delta:{x:rt.x,y:rt.y},over:Pr};Xa.unstable_batchedUpdates(()=>{me(Pr),ot?.(nt),C({type:"onDragOver",event:nt})})},[Jn]),ci(()=>{re.current={activatorEvent:q,active:ne,activeNode:le,collisionRect:Kr,collisions:Qn,droppableRects:de,draggableNodes:D,draggingNode:ut,draggingNodeRect:Le,droppableContainers:z,over:J,scrollableAncestors:fr,scrollAdjustedTranslate:Wr},H.current={initial:Le,translated:Kr}},[ne,le,Qn,Kr,D,ut,Le,de,z,J,fr,Wr]),MX({...pe,delta:F,draggingRect:Kr,pointerCoordinates:Na,scrollableAncestors:fr,scrollableAncestorRects:qr});const tt=y.useMemo(()=>({active:ne,activeNode:le,activeNodeRect:ae,activatorEvent:q,collisions:Qn,containerNodeRect:Ee,dragOverlay:Ie,draggableNodes:D,droppableContainers:z,droppableRects:de,over:J,measureDroppableContainers:_e,scrollableAncestors:fr,scrollableAncestorRects:qr,measuringConfiguration:B,measuringScheduled:ee,windowRect:pi}),[ne,le,ae,q,Qn,Ee,Ie,D,z,de,J,_e,fr,qr,B,ee,pi]),hr=y.useMemo(()=>({activatorEvent:q,activators:mt,active:ne,activeNodeRect:ae,ariaDescribedById:{draggable:te},dispatch:j,draggableNodes:D,over:J,measureDroppableContainers:_e}),[q,mt,ne,ae,j,te,D,J,_e]);return ge.createElement(SA.Provider,{value:E},ge.createElement(gh.Provider,{value:hr},ge.createElement(MA.Provider,{value:tt},ge.createElement(LA.Provider,{value:Re},d)),ge.createElement(aQ,{disabled:c?.restoreFocus===!1})),ge.createElement(aX,{...c,hiddenTextDescribedById:te}));function jt(){const Ve=fe?.autoScrollEnabled===!1,$e=typeof u=="object"?u.enabled===!1:u===!1,Ce=A&&!Ve&&!$e;return typeof u=="object"?{...u,enabled:Ce}:{enabled:Ce}}}),cQ=y.createContext(null),DE="button",dQ="Draggable";function $A(e){let{id:t,data:r,disabled:n=!1,attributes:i}=e;const a=Bu(dQ),{activators:o,activatorEvent:c,active:u,activeNodeRect:d,ariaDescribedById:f,draggableNodes:m,over:g}=y.useContext(gh),{role:x=DE,roleDescription:w="draggable",tabIndex:b=0}=i??{},S=u?.id===t,j=y.useContext(S?LA:cQ),[C,E]=yf(),[P,N]=yf(),A=GX(o,t),T=hu(r);ci(()=>(m.set(t,{id:t,key:a,node:C,activatorNode:P,data:T}),()=>{const F=m.get(t);F&&F.key===a&&m.delete(t)}),[m,t]);const D=y.useMemo(()=>({role:x,tabIndex:b,"aria-disabled":n,"aria-pressed":S&&x===DE?!0:void 0,"aria-roledescription":w,"aria-describedby":f.draggable}),[n,x,b,S,w,f.draggable]);return{active:u,activatorEvent:c,activeNodeRect:d,attributes:D,isDragging:S,listeners:n?void 0:A,node:C,over:g,setNodeRef:E,setActivatorNodeRef:N,transform:j}}function fQ(){return y.useContext(MA)}const hQ="Droppable",pQ={timeout:25};function BA(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:i}=e;const a=Bu(hQ),{active:o,dispatch:c,over:u,measureDroppableContainers:d}=y.useContext(gh),f=y.useRef({disabled:r}),m=y.useRef(!1),g=y.useRef(null),x=y.useRef(null),{disabled:w,updateMeasurementsFor:b,timeout:S}={...pQ,...i},j=hu(b??n),C=y.useCallback(()=>{if(!m.current){m.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{d(Array.isArray(j.current)?j.current:[j.current]),x.current=null},S)},[S]),E=mh({callback:C,disabled:w||!o}),P=y.useCallback((D,F)=>{E&&(F&&(E.unobserve(F),m.current=!1),D&&E.observe(D))},[E]),[N,A]=yf(P),T=hu(t);return y.useEffect(()=>{!E||!N.current||(E.disconnect(),m.current=!1,E.observe(N.current))},[N,E]),y.useEffect(()=>(c({type:Ft.RegisterDroppable,element:{id:n,key:a,disabled:r,node:N,rect:g,data:T}}),()=>c({type:Ft.UnregisterDroppable,key:a,id:n})),[n]),y.useEffect(()=>{r!==f.current.disabled&&(c({type:Ft.SetDroppableDisabled,id:n,key:a,disabled:r}),f.current.disabled=r)},[n,a,r,c]),{active:o,rect:g,isOver:u?.id===n,node:N,over:u,setNodeRef:A}}function Hx(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function mQ(e,t){return e.reduce((r,n,i)=>{const a=t.get(n);return a&&(r[i]=a),r},Array(e.length))}function yd(e){return e!==null&&e>=0}function gQ(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function vQ(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const FA=e=>{let{rects:t,activeIndex:r,overIndex:n,index:i}=e;const a=Hx(t,n,r),o=t[i],c=a[i];return!c||!o?null:{x:c.left-o.left,y:c.top-o.top,scaleX:c.width/o.width,scaleY:c.height/o.height}},xd={scaleX:1,scaleY:1},yQ=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:i,rects:a,overIndex:o}=e;const c=(t=a[r])!=null?t:n;if(!c)return null;if(i===r){const d=a[o];return d?{x:0,y:r<o?d.top+d.height-(c.top+c.height):d.top-c.top,...xd}:null}const u=xQ(a,i,r);return i>r&&i<=o?{x:0,y:-c.height-u,...xd}:i<r&&i>=o?{x:0,y:c.height+u,...xd}:{x:0,y:0,...xd}};function xQ(e,t,r){const n=e[t],i=e[t-1],a=e[t+1];return n?r<t?i?n.top-(i.top+i.height):a?a.top-(n.top+n.height):0:a?a.top-(n.top+n.height):i?n.top-(i.top+i.height):0:0}const zA="Sortable",UA=ge.createContext({activeIndex:-1,containerId:zA,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:FA,disabled:{draggable:!1,droppable:!1}});function bQ(e){let{children:t,id:r,items:n,strategy:i=FA,disabled:a=!1}=e;const{active:o,dragOverlay:c,droppableRects:u,over:d,measureDroppableContainers:f}=fQ(),m=Bu(zA,r),g=c.rect!==null,x=y.useMemo(()=>n.map(A=>typeof A=="object"&&"id"in A?A.id:A),[n]),w=o!=null,b=o?x.indexOf(o.id):-1,S=d?x.indexOf(d.id):-1,j=y.useRef(x),C=!gQ(x,j.current),E=S!==-1&&b===-1||C,P=vQ(a);ci(()=>{C&&w&&f(x)},[C,x,w,f]),y.useEffect(()=>{j.current=x},[x]);const N=y.useMemo(()=>({activeIndex:b,containerId:m,disabled:P,disableTransforms:E,items:x,overIndex:S,useDragOverlay:g,sortedRects:mQ(x,u),strategy:i}),[b,m,P.draggable,P.droppable,E,x,S,u,g,i]);return ge.createElement(UA.Provider,{value:N},t)}const wQ=e=>{let{id:t,items:r,activeIndex:n,overIndex:i}=e;return Hx(r,n,i).indexOf(t)},_Q=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:i,items:a,newIndex:o,previousItems:c,previousContainerId:u,transition:d}=e;return!d||!n||c!==a&&i===o?!1:r?!0:o!==i&&t===u},SQ={duration:200,easing:"ease"},qA="transform",jQ=pu.Transition.toString({property:qA,duration:0,easing:"linear"}),kQ={roleDescription:"sortable"};function EQ(e){let{disabled:t,index:r,node:n,rect:i}=e;const[a,o]=y.useState(null),c=y.useRef(r);return ci(()=>{if(!t&&r!==c.current&&n.current){const u=i.current;if(u){const d=zo(n.current,{ignoreTransform:!0}),f={x:u.left-d.left,y:u.top-d.top,scaleX:u.width/d.width,scaleY:u.height/d.height};(f.x||f.y)&&o(f)}}r!==c.current&&(c.current=r)},[t,r,n,i]),y.useEffect(()=>{a&&o(null)},[a]),a}function CQ(e){let{animateLayoutChanges:t=_Q,attributes:r,disabled:n,data:i,getNewIndex:a=wQ,id:o,strategy:c,resizeObserverConfig:u,transition:d=SQ}=e;const{items:f,containerId:m,activeIndex:g,disabled:x,disableTransforms:w,sortedRects:b,overIndex:S,useDragOverlay:j,strategy:C}=y.useContext(UA),E=PQ(n,x),P=f.indexOf(o),N=y.useMemo(()=>({sortable:{containerId:m,index:P,items:f},...i}),[m,i,P,f]),A=y.useMemo(()=>f.slice(f.indexOf(o)),[f,o]),{rect:T,node:D,isOver:F,setNodeRef:z}=BA({id:o,data:N,disabled:E.droppable,resizeObserverConfig:{updateMeasurementsFor:A,...u}}),{active:L,activatorEvent:H,activeNodeRect:ne,attributes:ce,setNodeRef:fe,listeners:K,isDragging:q,over:Y,setActivatorNodeRef:Z,transform:te}=$A({id:o,data:N,attributes:{...kQ,...r},disabled:E.draggable}),M=HG(z,fe),B=!!L,de=B&&!w&&yd(g)&&yd(S),_e=!j&&q,ee=_e&&de?te:null,Q=de?ee??(c??C)({rects:b,activeNodeRect:ne,activeIndex:g,overIndex:S,index:P}):null,pe=yd(g)&&yd(S)?a({id:o,items:f,activeIndex:g,overIndex:S}):P,G=L?.id,ae=y.useRef({activeId:G,items:f,newIndex:pe,containerId:m}),Ee=f!==ae.current.items,re=t({active:L,containerId:m,isDragging:q,isSorting:B,id:o,index:P,items:f,newIndex:ae.current.newIndex,previousItems:ae.current.items,previousContainerId:ae.current.containerId,transition:d,wasDragging:ae.current.activeId!=null}),qe=EQ({disabled:!re,index:P,node:D,rect:T});return y.useEffect(()=>{B&&ae.current.newIndex!==pe&&(ae.current.newIndex=pe),m!==ae.current.containerId&&(ae.current.containerId=m),f!==ae.current.items&&(ae.current.items=f)},[B,pe,m,f]),y.useEffect(()=>{if(G===ae.current.activeId)return;if(G!=null&&ae.current.activeId==null){ae.current.activeId=G;return}const ut=setTimeout(()=>{ae.current.activeId=G},50);return()=>clearTimeout(ut)},[G]),{active:L,activeIndex:g,attributes:ce,data:N,rect:T,index:P,newIndex:pe,items:f,isOver:F,isSorting:B,isDragging:q,listeners:K,node:D,overIndex:S,over:Y,setNodeRef:M,setActivatorNodeRef:Z,setDroppableNodeRef:z,setDraggableNodeRef:fe,transform:qe??Q,transition:Ie()};function Ie(){if(qe||Ee&&ae.current.newIndex===P)return jQ;if(!(_e&&!zx(H)||!d)&&(B||re))return pu.Transition.toString({...d,property:qA})}}function PQ(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e?.draggable)!=null?r:t.draggable,droppable:(n=e?.droppable)!=null?n:t.droppable}}et.Down,et.Right,et.Up,et.Left;const NQ=[{type:"title",label:"Form Title"},{type:"description",label:"Form Description"},{type:"text",label:"Text Input"},{type:"email",label:"Email"},{type:"phone",label:"Phone Number"},{type:"dropdown",label:"Dropdown Selection"},{type:"textarea",label:"Textarea"},{type:"checkbox",label:"Checkbox"},{type:"image",label:"Image Upload"},{type:"link",label:"Website Link"},{type:"pdf",label:"PDF Waiver"}];function OQ({type:e,label:t,onAdd:r}){const{attributes:n,listeners:i,setNodeRef:a}=$A({id:`palette-${e}`,data:{from:"palette",type:e}});return p.jsx("button",{ref:a,type:"button",...n,...i,onClick:()=>r(e),className:"w-full border rounded p-2 text-left bg-white hover:bg-gray-50",children:t})}function RE({onAdd:e,background:t,onBackgroundChange:r}){return p.jsxs("div",{className:"p-4 space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium",children:"Background Color"}),p.jsx("input",{type:"color","aria-label":"Background Color",className:"w-full h-10 border rounded",value:t,onChange:n=>r(n.target.value)})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Add Fields"}),p.jsx("div",{className:"space-y-2",children:NQ.map(n=>p.jsx(OQ,{type:n.type,label:n.label,onAdd:e},n.type))})]})]})}function AQ({id:e,block:t,selected:r,onSelect:n,onDelete:i}){const{attributes:a,listeners:o,setNodeRef:c,transform:u,transition:d}=CQ({id:e}),f={transform:pu.Transform.toString(u),transition:d};return p.jsxs("div",{ref:c,style:f,...a,...o,onClick:n,className:`border rounded p-2 mb-2 bg-white select-none touch-none cursor-grab active:cursor-grabbing ${r?"ring-2 ring-blue-500":""}`,children:[p.jsx("button",{type:"button","aria-label":"Delete block",className:"absolute top-1 right-1 p-1 rounded text-gray-500 hover:text-red-600",onClick:m=>{m.stopPropagation(),i(e)},children:p.jsx(qC,{})}),TQ(t)]})}function TQ(e){switch(e.type){case"title":return p.jsx("h2",{className:"text-lg font-semibold",children:e.text||"Title"});case"description":return p.jsx("p",{className:"text-sm text-gray-600",children:e.text||"Description"});case"input":return p.jsxs("div",{children:[e.label&&p.jsxs("label",{className:"block text-sm mb-1",children:[e.label,e.required&&p.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.fieldType==="textarea"?p.jsx("textarea",{className:"w-full border rounded p-1",placeholder:e.placeholder||"",rows:3,readOnly:!0}):p.jsx("input",{className:"w-full border rounded p-1",placeholder:e.placeholder||"",type:e.fieldType==="phone"?"tel":e.fieldType||"text",readOnly:!0})]});case"dropdown":return p.jsxs("div",{children:[e.label&&p.jsxs("label",{className:"block text-sm mb-1",children:[e.label,e.required&&p.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),p.jsx("select",{className:"w-full border rounded p-1",disabled:!0,children:(e.options||[]).map((t,r)=>p.jsx("option",{children:t},r))})]});case"checkbox":return p.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[p.jsx("input",{type:"checkbox",disabled:!0}),p.jsxs("span",{children:[e.label,e.required&&p.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})]});case"image":return e.url?p.jsx("img",{src:e.url,alt:e.alt||"",className:"w-full"}):p.jsx("div",{className:"text-sm text-gray-400",children:"No image selected"});case"link":return p.jsxs("a",{href:e.url||"#",className:"text-blue-600 underline",children:[e.text||"Link",e.required&&p.jsx("span",{className:"text-red-500 ml-1",children:"*"})]});case"pdf":return p.jsxs("div",{className:"space-y-2",children:[e.displayStyle==="link"&&p.jsx("a",{href:e.url||"#",className:"text-blue-600 underline",children:"View PDF"}),e.displayStyle!=="link"&&e.url&&p.jsx("iframe",{src:e.url,className:e.displayStyle==="embed"?"w-full h-96 border":"w-full h-48 border"}),e.requireAccept&&p.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[p.jsx("input",{type:"checkbox",disabled:!0}),p.jsx("span",{children:"I have read and accept"})]})]});default:return p.jsx("div",{children:e.type})}}const IQ=e=>{try{return new URL(e),!0}catch{return!1}};function ME({block:e,onChange:t}){if(!e)return p.jsx("div",{className:"p-4 text-sm text-gray-500",children:"Select a block"});switch(e.type){case"title":case"description":return p.jsxs("div",{className:"p-4 space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium",children:"Text"}),p.jsx("input",{className:"w-full border rounded p-1",value:e.text||"",onChange:n=>t({text:n.target.value})})]});case"input":return p.jsxs("div",{className:"p-4 space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium",children:"Label"}),p.jsx("input",{className:"w-full border rounded p-1",value:e.label||"",onChange:n=>t({label:n.target.value})}),p.jsx("label",{className:"block text-sm font-medium",children:"Field Name"}),p.jsx("input",{className:"w-full border rounded p-1",value:e.name||"",onChange:n=>t({name:n.target.value})}),p.jsx("label",{className:"block text-sm font-medium",children:"Placeholder"}),p.jsx("input",{className:"w-full border rounded p-1",value:e.placeholder||"",onChange:n=>t({placeholder:n.target.value})}),e.fieldType&&e.fieldType!=="textarea"&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium",children:"Field Type"}),p.jsx("input",{className:"w-full border rounded p-1 bg-gray-100",value:e.fieldType,readOnly:!0})]}),p.jsxs("label",{className:"inline-flex items-center space-x-2 text-sm",children:[p.jsx("input",{type:"checkbox",checked:!!e.required,onChange:n=>t({required:n.target.checked})}),p.jsx("span",{children:"Required"})]})]});case"dropdown":return p.jsxs("div",{className:"p-4 space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium",children:"Label"}),p.jsx("input",{className:"w-full border rounded p-1",value:e.label||"",onChange:n=>t({label:n.target.value})}),p.jsx("label",{className:"block text-sm font-medium",children:"Field Name"}),p.jsx("input",{className:"w-full border rounded p-1",value:e.name||"",onChange:n=>t({name:n.target.value})}),p.jsx("label",{className:"block text-sm font-medium",children:"Options (one per line)"}),p.jsx("textarea",{className:"w-full border rounded p-1",rows:3,value:(e.options||[]).join(`
`),onChange:n=>t({options:n.target.value.split(`
`).filter(Boolean)})}),p.jsxs("label",{className:"inline-flex items-center space-x-2 text-sm",children:[p.jsx("input",{type:"checkbox",checked:!!e.required,onChange:n=>t({required:n.target.checked})}),p.jsx("span",{children:"Required"})]})]});case"checkbox":return p.jsxs("div",{className:"p-4 space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium",children:"Label"}),p.jsx("input",{className:"w-full border rounded p-1",value:e.label||"",onChange:n=>t({label:n.target.value})}),p.jsx("label",{className:"block text-sm font-medium",children:"Field Name"}),p.jsx("input",{className:"w-full border rounded p-1",value:e.name||"",onChange:n=>t({name:n.target.value})}),p.jsxs("label",{className:"inline-flex items-center space-x-2 text-sm",children:[p.jsx("input",{type:"checkbox",checked:!!e.required,onChange:n=>t({required:n.target.checked})}),p.jsx("span",{children:"Required"})]})]});case"image":return p.jsxs("div",{className:"p-4 space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium",children:"Upload Image"}),p.jsx("input",{type:"file",accept:"image/*",onChange:n=>{const i=n.target.files?.[0];if(i){const a=URL.createObjectURL(i);t({url:a})}}}),e.url&&p.jsx("img",{src:e.url,alt:"preview",className:"mt-2 max-h-40"}),p.jsx("label",{className:"block text-sm font-medium",children:"Alt text"}),p.jsx("input",{className:"w-full border rounded p-1",value:e.alt||"",onChange:n=>t({alt:n.target.value})})]});case"link":const r=!e.url||IQ(e.url);return p.jsxs("div",{className:"p-4 space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium",children:"Text"}),p.jsx("input",{className:"w-full border rounded p-1",value:e.text||"",onChange:n=>t({text:n.target.value})}),p.jsx("label",{className:"block text-sm font-medium",children:"URL"}),p.jsx("input",{className:`w-full border rounded p-1 ${r?"":"border-red-500"}`,value:e.url||"",onChange:n=>t({url:n.target.value})}),!r&&p.jsx("p",{className:"text-xs text-red-500",children:"Invalid URL"}),p.jsxs("label",{className:"inline-flex items-center space-x-2 text-sm",children:[p.jsx("input",{type:"checkbox",checked:!!e.required,onChange:n=>t({required:n.target.checked})}),p.jsx("span",{children:"Required"})]})]});case"pdf":return p.jsxs("div",{className:"p-4 space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium",children:"Upload PDF"}),p.jsx("input",{type:"file",accept:"application/pdf",onChange:n=>{const i=n.target.files?.[0];if(i){const a=URL.createObjectURL(i);t({url:a})}}}),p.jsx("label",{className:"block text-sm font-medium",children:"Display Style"}),p.jsxs("select",{className:"w-full border rounded p-1",value:e.displayStyle||"scroll",onChange:n=>t({displayStyle:n.target.value}),children:[p.jsx("option",{value:"scroll",children:"Scrollable Box"}),p.jsx("option",{value:"link",children:"Download Link"}),p.jsx("option",{value:"embed",children:"Full Embedded View"})]}),p.jsxs("label",{className:"inline-flex items-center space-x-2 text-sm",children:[p.jsx("input",{type:"checkbox",checked:!!e.requireAccept,onChange:n=>t({requireAccept:n.target.checked})}),p.jsx("span",{children:"Require checkbox to accept"})]}),p.jsxs("label",{className:"inline-flex items-center space-x-2 text-sm",children:[p.jsx("input",{type:"checkbox",checked:!!e.promptDownload,onChange:n=>t({promptDownload:n.target.checked})}),p.jsx("span",{children:"Prompt for optional download"})]})]});default:return p.jsx("div",{className:"p-4 text-sm text-gray-500",children:"No editable properties"})}}function DQ(){const{formId:e}=vu(),t=Ct(),[r]=jf(),[n,i]=y.useState([]),[a,o]=y.useState(null),[c,u]=y.useState({backgroundColor:"#ffffff"}),[d,f]=y.useState(""),[m,g]=y.useState(""),[x,w]=y.useState(!1),[b,S]=y.useState(!1),j=sX(SE(Kx),SE(IA)),{setNodeRef:C}=BA({id:"canvas"});y.useEffect(()=>{e&&e!=="new"&&S3(e).then(z=>{i(z?.schema_json?.blocks||[]),u(z?.schema_json?.style||{backgroundColor:"#f9fafb"}),f(z?.title||""),g(z?.description||"")}).catch(console.error)},[e]);const E=z=>{const L=Ni();let H={id:L,type:z};switch(z){case"title":H={id:L,type:"title",text:"Form Title"};break;case"description":H={id:L,type:"description",text:"Form description"};break;case"text":H={id:L,type:"input",fieldType:"text",label:"Text",name:`field_${L}`,placeholder:"",required:!1};break;case"email":H={id:L,type:"input",fieldType:"email",label:"Email",name:`email_${L}`,placeholder:"",required:!1};break;case"phone":H={id:L,type:"input",fieldType:"phone",label:"Phone",name:`phone_${L}`,placeholder:"",required:!1};break;case"dropdown":H={id:L,type:"dropdown",label:"Dropdown",name:`dropdown_${L}`,options:["Option 1"],required:!1};break;case"textarea":H={id:L,type:"input",fieldType:"textarea",label:"Textarea",name:`textarea_${L}`,placeholder:"",required:!1};break;case"checkbox":H={id:L,type:"checkbox",label:"Checkbox",name:`checkbox_${L}`,required:!1};break;case"image":H={id:L,type:"image",url:"",alt:""};break;case"link":H={id:L,type:"link",text:"Website",url:"https://",required:!1};break;case"pdf":H={id:L,type:"pdf",url:"",displayStyle:"scroll",requireAccept:!1,promptDownload:!1};break;default:H={id:L,type:z}}return H},P=z=>{const L=E(z);i([...n,L]),o(L.id)},N=z=>{const{active:L,over:H}=z;if(!H)return;const ne=L.data.current;if(ne?.from==="palette"){const ce=E(ne.type);let fe=n.length;H.id!=="canvas"&&(fe=n.findIndex(q=>q.id===H.id),fe===-1&&(fe=n.length));const K=[...n];K.splice(fe,0,ce),i(K),o(ce.id)}else{if(L.id===H.id)return;const ce=n.findIndex(K=>K.id===L.id);let fe=n.findIndex(K=>K.id===H.id);H.id==="canvas"&&(fe=n.length-1),i(Hx(n,ce,fe))}},A=z=>{a&&i(n.map(L=>L.id===a?{...L,...z}:L))},T=z=>{i(n.filter(L=>L.id!==z)),a===z&&o(null)},D=async()=>{if(!d.trim()){Ae.error("Title is required.");return}const z={title:d,description:m,schema_json:{blocks:n,style:c}};e&&e!=="new"&&(z.id=e);try{const L=await j3(z),H=r.get("returnTo");if(H){const ne=`${H}?id=${L.id}`;t(ne)}else t("/forms")}catch(L){Ae.error(L?.message||"Failed to save form")}},F=n.find(z=>z.id===a)||null;return p.jsx(St,{faintFlag:!0,children:p.jsxs("div",{className:"flex flex-col md:flex-row h-full",children:[p.jsx("div",{className:"hidden md:block md:w-1/4 border-r overflow-y-auto bg-gray-50",children:p.jsx(RE,{onAdd:P,background:c.backgroundColor||"#ffffff",onBackgroundChange:z=>u({...c,backgroundColor:z})})}),x&&p.jsxs("div",{className:"fixed inset-0 z-50 bg-white p-4 overflow-y-auto md:hidden","data-testid":"mobile-palette",children:[p.jsx("button",{onClick:()=>w(!1),className:"mb-4 text-sm text-gray-600",children:"Close"}),p.jsx(RE,{onAdd:z=>{P(z),w(!1)},background:c.backgroundColor||"#ffffff",onBackgroundChange:z=>u({...c,backgroundColor:z})})]}),p.jsxs("div",{className:"flex-1 flex flex-col bg-blue-50 md:p-6 overflow-y-auto",children:[p.jsxs("div",{className:"mb-4 p-4 bg-white rounded shadow-sm",children:[p.jsx("label",{htmlFor:"form-title",className:"block text-sm font-medium mb-1",children:"Title"}),p.jsx("input",{id:"form-title",value:d,onChange:z=>f(z.target.value),placeholder:"My form title",className:"w-full border rounded px-2 py-1"})]}),p.jsxs("div",{className:"mb-4 p-4 bg-white rounded shadow-sm",children:[p.jsx("label",{htmlFor:"form-description",className:"block text-sm font-medium mb-1",children:"Description"}),p.jsx("textarea",{id:"form-description",value:m,onChange:z=>g(z.target.value),placeholder:"Optional description",className:"w-full border rounded px-2 py-1",rows:3})]}),p.jsxs("div",{className:"mb-2 flex gap-2 md:hidden",children:[p.jsx("button",{onClick:()=>w(!0),className:"bg-blue-600 text-white px-2 py-1 rounded",children:"Blocks"}),F&&p.jsx("button",{onClick:()=>S(!0),className:"bg-gray-600 text-white px-2 py-1 rounded",children:"Props"})]}),p.jsx(uQ,{sensors:j,collisionDetection:dX,onDragEnd:N,children:p.jsx(bQ,{items:n.map(z=>z.id),strategy:yQ,children:p.jsx("div",{ref:C,id:"canvas",className:"flex-1 flex justify-center",children:p.jsxs("div",{className:"w-full max-w-md bg-white rounded-xl p-4 shadow-sm",style:{backgroundColor:c.backgroundColor},children:[n.map(z=>p.jsx(AQ,{id:z.id,block:z,selected:a===z.id,onSelect:()=>o(z.id),onDelete:T},z.id)),n.length===0&&p.jsx("p",{className:"text-center text-sm text-gray-500",children:"Drag fields here"}),p.jsx("div",{className:"mt-4",children:p.jsx("button",{onClick:D,className:"bg-green-600 text-white px-4 py-2 rounded",children:"Save"})})]})})})})]}),p.jsx("div",{className:"hidden md:block md:w-1/4 border-l overflow-y-auto bg-white",children:p.jsx(ME,{block:F,onChange:A})}),b&&p.jsxs("div",{className:"fixed inset-0 z-50 bg-white p-4 overflow-y-auto md:hidden","data-testid":"mobile-inspector",children:[p.jsx("button",{onClick:()=>S(!1),className:"mb-4 text-sm text-gray-600",children:"Close"}),p.jsx(ME,{block:F,onChange:A})]})]})})}function RQ(){return p.jsx(St,{faintFlag:!0,children:p.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[p.jsxs("header",{children:[p.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Help & Documentation"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Quick reference for how NeverMissCRM works today (local demo) and how it’ll grow."})]}),p.jsxs(Rl,{title:"Credits",children:[p.jsx("p",{className:"text-sm text-gray-700",children:"Credits are consumed whenever you send SMS messages. The cost is proportional to the number of recipients and the length of the message. Admins can top-up credits directly. Non-admin users will be able to purchase credits once a POS/Stripe integration is added."}),p.jsxs("ul",{className:"list-disc pl-5 mt-2 text-sm text-gray-700 space-y-1",children:[p.jsx("li",{children:"Admins can add credits from the Admin Dashboard."}),p.jsx("li",{children:"Users can see their current credit balance on the Dashboard."}),p.jsx("li",{children:"Test sends also consume credits (configurable later)."})]})]}),p.jsxs(Rl,{title:"Custom Fields",children:[p.jsx("p",{className:"text-sm text-gray-700",children:"You can define any fields you want (text, select, boolean, etc.) and control where they show up (Dashboard, Customers, Campaigns)."}),p.jsxs("ul",{className:"list-disc pl-5 mt-2 text-sm text-gray-700 space-y-1",children:[p.jsxs("li",{children:["Go to ",p.jsx("code",{children:"/settings/fields"})," to add, edit, reorder, or archive fields."]}),p.jsx("li",{children:"Only fields with the “Customers” visibility appear in the Customers table."}),p.jsx("li",{children:"Only fields with the “Dashboard” visibility appear in the Add Contact form."})]})]}),p.jsxs(Rl,{title:"Import / Export",children:[p.jsx("p",{className:"text-sm text-gray-700",children:"The Customers page supports JSON import/export today. A CSV importer with robust validation, a dry-run preview, and schema mapping is planned."}),p.jsxs("ul",{className:"list-disc pl-5 mt-2 text-sm text-gray-700 space-y-1",children:[p.jsx("li",{children:"Find the Import/Export buttons at the top right of the Customers page."}),p.jsx("li",{children:"Only admins or paying users will get access in the future."})]})]}),p.jsxs(Rl,{title:"Campaigns vs Bulk SMS",children:[p.jsxs("p",{className:"text-sm text-gray-700",children:["Use ",p.jsx("strong",{children:"Campaigns"})," to schedule and track larger sends (with drafts, statuses, etc.). Use ",p.jsx("strong",{children:"Bulk SMS"})," on the Customers page to immediately message an ad‑hoc set of recipients."]}),p.jsxs("ul",{className:"list-disc pl-5 mt-2 text-sm text-gray-700 space-y-1",children:[p.jsx("li",{children:"Campaigns have a “test send” and a schedule picker."}),p.jsx("li",{children:"Bulk SMS lets you quickly select customers and send right away."}),p.jsx("li",{children:"Both subtract credits based on your configured cost and message length."})]})]}),p.jsx(Rl,{title:"Roadmap (Back-end)",children:p.jsxs("ul",{className:"list-disc pl-5 mt-2 text-sm text-gray-700 space-y-1",children:[p.jsx("li",{children:"Swap localStorage with a proper DB (Supabase/Firebase/Postgres + REST/trpc)."}),p.jsx("li",{children:"React Query for data fetching/cache."}),p.jsx("li",{children:"Stripe for credits/billing."}),p.jsx("li",{children:"Server-side SMS scheduling (cron/queues)."}),p.jsx("li",{children:"Role-based access (admin/user) fully enforced server-side."})]})})]})})}function Rl({title:e,children:t}){return p.jsxs("section",{className:"p-4 bg-white rounded-md shadow border",children:[p.jsx("h2",{className:"text-lg font-medium mb-2",children:e}),t]})}async function MQ(){const{data:e,error:t}=await he.from("profiles").select("*");return t||!e?[]:e.map(r=>({id:r.id,username:r.username,email:null,role:r.role,credits:r.credits,avatar:r.avatar}))}function LQ(){const{user:e}=Ut(),[t,r]=y.useState([]),[n,i]=y.useState(""),[a,o]=y.useState(!0),[c,u]=y.useState({});y.useEffect(()=>{e&&!Fy(e)&&(window.location.href="/dashboard")},[e]),y.useEffect(()=>{(async()=>{o(!0);try{const g=await MQ();r(g);const x=await Promise.all(g.map(async b=>({id:b.id,credits:await or.getUserBalance(b.id)}))),w={};x.forEach(b=>w[b.id]=b.credits),u(w)}catch(g){console.error(g)}finally{o(!1)}})()},[]);const d=y.useMemo(()=>{const g=n.trim().toLowerCase();return g?t.filter(x=>(x.username??x.email??"").toLowerCase().includes(g)):t},[t,n]),f=async g=>{const x=prompt("Credits to add:");if(!x)return;const w=Number(x);if(!Number.isFinite(w)||w<=0){alert("Invalid amount.");return}try{const b=await or.adminAddToUser(g,w);if(!b.ok){alert(b.message??"Failed.");return}const S=await or.getUserBalance(g);u(j=>({...j,[g]:S})),alert(`Added ${w} credits.`)}catch(b){alert(b?.message??"Failed.")}},m=y.useMemo(()=>Object.values(c).reduce((g,x)=>g+x,0),[c]);return p.jsx(St,{faintFlag:!0,children:p.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[p.jsxs("header",{className:"flex items-start justify-between",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-semibold mb-1",children:"Admin Dashboard"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Manage users, credits, and global settings."})]}),p.jsx(ct,{to:"/admin/users",className:"text-sm text-blue-600 hover:underline",children:"Users"})]}),p.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsx(rv,{title:"Total Users",value:a?"…":t.length}),p.jsx(rv,{title:"Total Credits",value:a?"…":m}),p.jsx(rv,{title:"Logged In As",value:e?.username??e?.email??"—"})]}),p.jsxs("section",{className:"p-4 bg-white rounded-md shadow border",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsx("h2",{className:"text-lg font-medium",children:"Users"}),p.jsx("input",{type:"text",placeholder:"Search by email / username…",className:"border rounded px-2 py-1 text-sm",value:n,onChange:g=>i(g.target.value)})]}),a?p.jsx("p",{className:"text-sm text-gray-500",children:"Loading users…"}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b text-left",children:[p.jsx("th",{className:"py-2",children:"Email / Username"}),p.jsx("th",{className:"py-2",children:"Credits"}),p.jsx("th",{className:"py-2",children:"Role"}),p.jsx("th",{className:"py-2 text-right",children:"Actions"})]})}),p.jsx("tbody",{children:d.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:4,className:"py-6 text-center text-gray-400",children:"No users found."})}):d.map(g=>{const x=c[g.id]??0;return p.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[p.jsx("td",{className:"py-2",children:g.email??g.username??g.id}),p.jsx("td",{className:"py-2",children:x}),p.jsx("td",{className:"py-2 capitalize",children:g.role??"user"}),p.jsx("td",{className:"py-2 text-right",children:p.jsx("button",{onClick:()=>f(g.id),className:"px-3 py-1 bg-blue-600 text-white rounded text-xs hover:bg-blue-700",children:"Add Credits"})})]},g.id)})})]})})]})]})})}function rv({title:e,value:t}){return p.jsxs("div",{className:"p-4 bg-white rounded-md shadow border text-center",children:[p.jsx("div",{className:"text-xs uppercase tracking-wide text-gray-500",children:e}),p.jsx("div",{className:"text-2xl font-semibold mt-1",children:t})]})}const nv=20;function $Q(){const[e,t]=y.useState([]),[r,n]=y.useState(0),[i,a]=y.useState(0),[o,c]=y.useState(""),[u,d]=y.useState(!1),[f,m]=y.useState(!1),[g,x]=y.useState(null),w=async()=>{m(!0);let P=he.from("profiles").select("*",{count:"exact"}).order("created_at",{ascending:!1}).order("id",{ascending:!1});const N=o.trim();N&&(P=P.or(`email.ilike.%${N}%,username.ilike.%${N}%`)),u&&(P=P.eq("is_approved",!1));const A=r*nv,T=A+nv-1,{data:D,count:F,error:z}=await P.range(A,T);z?(console.error(z),Ae.error("Failed to load users"),t([]),a(0)):(t(D??[]),a(F??0)),m(!1)};y.useEffect(()=>{w()},[r,o,u]);const b=async P=>{x(P);const{error:N}=await he.from("profiles").update({is_approved:!0,is_active:!0,deactivated_at:null}).eq("id",P);if(x(null),N)return Ae.error("Failed to approve user");Ae.success("User approved"),w()},S=async P=>{x(P);const{error:N}=await he.from("profiles").update({is_active:!1,deactivated_at:new Date().toISOString()}).eq("id",P);if(x(null),N)return Ae.error("Failed to prohibit user");Ae.success("User prohibited"),w()},j=async(P,N)=>{x(P);const A=N==="admin"?"user":"admin",{error:T}=await he.from("profiles").update({role:A}).eq("id",P);if(x(null),T)return Ae.error("Failed to update role");Ae.success("Role updated"),w()},C=async P=>{if(!confirm("Delete this user?"))return;x(P);const{error:N}=await he.from("profiles").delete().eq("id",P);if(x(null),N)return Ae.error("Failed to delete user");Ae.success("User deleted"),w()},E=Math.ceil(i/nv)||1;return p.jsx(St,{faintFlag:!0,children:p.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[p.jsxs("header",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[p.jsx("h1",{className:"text-2xl font-semibold",children:"Users"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"text",placeholder:"Search email or username...",className:"border rounded px-2 py-1 text-sm",value:o,onChange:P=>{n(0),c(P.target.value)}}),p.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[p.jsx("input",{type:"checkbox",checked:u,onChange:P=>{n(0),d(P.target.checked)}}),"Pending"]})]})]}),p.jsx("div",{className:"overflow-x-auto bg-white border rounded-md shadow",children:p.jsxs("table",{className:"w-full text-sm",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b bg-gray-50 text-left",children:[p.jsx("th",{className:"p-2",children:"Email"}),p.jsx("th",{className:"p-2",children:"Username"}),p.jsx("th",{className:"p-2",children:"Role"}),p.jsx("th",{className:"p-2",children:"Approved"}),p.jsx("th",{className:"p-2",children:"Active"}),p.jsx("th",{className:"p-2",children:"Created"}),p.jsx("th",{className:"p-2 text-right",children:"Actions"})]})}),p.jsx("tbody",{children:f?p.jsx("tr",{children:p.jsx("td",{colSpan:7,className:"text-center py-6 text-gray-500",children:"Loading..."})}):e.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:7,className:"text-center py-6 text-gray-500",children:"No users found."})}):e.map(P=>{const N=g===P.id;return p.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[p.jsx("td",{className:"p-2 break-all",children:P.email}),p.jsx("td",{className:"p-2",children:P.username}),p.jsx("td",{className:"p-2 capitalize",children:P.role}),p.jsx("td",{className:"p-2",children:P.is_approved?"Yes":"No"}),p.jsx("td",{className:"p-2",children:P.is_active?"Yes":"No"}),p.jsx("td",{className:"p-2",children:P.created_at??P.id}),p.jsxs("td",{className:"p-2 text-right space-x-2 whitespace-nowrap",children:[!P.is_approved&&p.jsx("button",{disabled:N,onClick:()=>b(P.id),className:"px-2 py-1 bg-green-600 text-white rounded disabled:opacity-50 text-xs",children:"Approve"}),P.is_active?p.jsx("button",{disabled:N,onClick:()=>S(P.id),className:"px-2 py-1 bg-yellow-500 text-white rounded disabled:opacity-50 text-xs",children:"Prohibit"}):p.jsx("button",{disabled:N,onClick:()=>b(P.id),className:"px-2 py-1 bg-blue-600 text-white rounded disabled:opacity-50 text-xs",children:"Activate"}),p.jsx("button",{disabled:N,onClick:()=>j(P.id,P.role),className:"px-2 py-1 bg-purple-600 text-white rounded disabled:opacity-50 text-xs",children:P.role==="admin"?"Make User":"Make Admin"}),p.jsx("button",{disabled:N,onClick:()=>C(P.id),className:"px-2 py-1 bg-red-600 text-white rounded disabled:opacity-50 text-xs",children:"Delete"})]})]},P.id)})})]})}),p.jsxs("div",{className:"flex justify-between items-center text-sm",children:[p.jsxs("div",{children:["Page ",r+1," of ",E]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>n(P=>Math.max(P-1,0)),disabled:r===0,className:"px-3 py-1 border rounded disabled:opacity-50",children:"Prev"}),p.jsx("button",{onClick:()=>n(P=>P+1<E?P+1:P),disabled:r+1>=E,className:"px-3 py-1 border rounded disabled:opacity-50",children:"Next"})]})]})]})})}function BQ(){const{logout:e}=Ut();return p.jsx(St,{faintFlag:!0,children:p.jsx("div",{className:"max-w-xl mx-auto text-center pt-20 pb-28 px-4",children:p.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-xl p-10",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-blue-900 mb-4",children:"Account Pending Approval"}),p.jsx("p",{className:"text-gray-600 mb-6",children:"Your account is awaiting approval. You will be notified once an administrator activates your access."}),p.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[p.jsx(ct,{to:"/",className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700",children:"Back to Home"}),p.jsx("button",{onClick:e,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300",children:"Sign Out"})]})]})})})}function FQ(){const{logout:e}=Ut();return p.jsx(St,{faintFlag:!0,children:p.jsx("div",{className:"max-w-xl mx-auto text-center pt-20 pb-28 px-4",children:p.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-xl p-10",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-red-700 mb-4",children:"Account Access Prohibited"}),p.jsx("p",{className:"text-gray-600 mb-6",children:"Your account has been deactivated. Please contact an administrator if you believe this is a mistake."}),p.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[p.jsx("button",{onClick:e,className:"px-6 py-3 bg-red-600 text-white rounded-xl font-semibold hover:bg-red-700",children:"Sign Out"}),p.jsx(ct,{to:"/",className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300",children:"Home"})]})]})})})}function zQ(){const e=Ct();return p.jsx(St,{faintFlag:!0,children:p.jsx("div",{className:"max-w-xl mx-auto text-center pt-20 pb-28 px-4",children:p.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-xl p-10",children:[p.jsx("h1",{className:"text-5xl font-black text-blue-900 mb-4",children:"404"}),p.jsx("p",{className:"text-xl text-gray-700 font-semibold mb-2",children:"Page Not Found"}),p.jsx("p",{className:"text-gray-500 mb-6",children:"Sorry, the page you’re looking for doesn’t exist or may have moved."}),p.jsx("button",{onClick:()=>e("/"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-bold transition",children:"Go to Homepage"})]})})})}function Vx({className:e=""}){return p.jsx("div",{className:`flex items-center justify-center p-4 ${e}`,children:p.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-500 border-t-transparent",role:"status","aria-label":"Loading"})})}function UQ(){const{user:e,session:t,ready:r}=Ut(),n=di();if(!r)return p.jsx(Vx,{});if(!t||!e)return p.jsx(Bl,{to:"/login",replace:!0});const i=e.role==="admin";return!i&&!e.is_approved&&n.pathname!=="/pending"?p.jsx(Bl,{to:"/pending",replace:!0}):!i&&!e.is_active&&n.pathname!=="/prohibited"?p.jsx(Bl,{to:"/prohibited",replace:!0}):p.jsx(Ty,{})}function qQ(){const{user:e,ready:t}=Ut();return t?e?p.jsx(Bl,{to:"/dashboard",replace:!0}):p.jsx(Ty,{}):p.jsx(Vx,{})}function WQ(){return p.jsx(St,{faintFlag:!0,children:p.jsx("div",{className:"max-w-xl mx-auto text-center pt-20 pb-28 px-4",children:p.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-xl p-10",children:[p.jsx("h1",{className:"text-5xl font-black text-blue-900 mb-4",children:"403"}),p.jsx("p",{className:"text-xl text-gray-700 font-semibold mb-2",children:"You don’t have permission to view this page."}),p.jsx("p",{className:"text-gray-500 mb-6",children:"Contact your administrator for access."}),p.jsx(ct,{to:"/dashboard",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-bold transition",children:"Back to Dashboard"})]})})})}function KQ(){const{user:e,ready:t}=Ut();return t?e?Fy(e)?p.jsx(Ty,{}):p.jsx(WQ,{}):p.jsx(Bl,{to:"/login",replace:!0}):p.jsx(Vx,{})}function HQ(){return p.jsx(i$,{children:p.jsxs(oR,{children:[p.jsx(s$,{}),p.jsxs(LD,{children:[p.jsx(Xe,{path:"/",element:p.jsx(M$,{})}),p.jsxs(Xe,{element:p.jsx(qQ,{}),children:[p.jsx(Xe,{path:"/login",element:p.jsx(L$,{})}),p.jsx(Xe,{path:"/register",element:p.jsx($$,{})})]}),p.jsx(Xe,{path:"/u/:username",element:p.jsx(RG,{})}),p.jsx(Xe,{path:"/intake/:slug/wizard",element:p.jsx(WG,{})}),p.jsx(Xe,{path:"/intake/:slug",element:p.jsx(qG,{})}),p.jsx(Xe,{path:"/help",element:p.jsx(RQ,{})}),p.jsxs(Xe,{element:p.jsx(UQ,{}),children:[p.jsx(Xe,{path:"/dashboard",element:p.jsx(Z$,{})}),p.jsx(Xe,{path:"/customers",element:p.jsx(d3,{})}),p.jsx(Xe,{path:"/customers/:id",element:p.jsx(f3,{})}),p.jsx(Xe,{path:"/campaigns",element:p.jsx(h3,{})}),p.jsx(Xe,{path:"/campaigns/sms",element:p.jsx(x3,{})}),p.jsx(Xe,{path:"/campaigns/sms/new",element:p.jsx(N3,{})}),p.jsx(Xe,{path:"/campaigns/intake",element:p.jsx(_3,{})}),p.jsx(Xe,{path:"/campaigns/intake/new",element:p.jsx(k3,{})}),p.jsx(Xe,{path:"/forms",element:p.jsx(KG,{})}),p.jsx(Xe,{path:"/forms/:formId",element:p.jsx(DQ,{})}),p.jsx(Xe,{path:"/analytics",element:p.jsx(PG,{})}),p.jsx(Xe,{path:"/settings",element:p.jsx(NG,{})}),p.jsx(Xe,{path:"/settings/fields",element:p.jsx(OG,{})}),p.jsx(Xe,{path:"/settings/billing",element:p.jsx(AG,{})}),p.jsx(Xe,{path:"/profile",element:p.jsx(TG,{})}),p.jsx(Xe,{path:"/qrcode",element:p.jsx(IG,{})}),p.jsx(Xe,{path:"/pending",element:p.jsx(BQ,{})}),p.jsx(Xe,{path:"/prohibited",element:p.jsx(FQ,{})})]}),p.jsxs(Xe,{element:p.jsx(KQ,{}),children:[p.jsx(Xe,{path:"/admin",element:p.jsx(LQ,{})}),p.jsx(Xe,{path:"/admin/users",element:p.jsx($Q,{})})]}),p.jsx(Xe,{path:"*",element:p.jsx(zQ,{})})]}),p.jsx(o$,{}),p.jsx(QR,{position:"top-right"})]})})}KI.createRoot(document.getElementById("root")).render(p.jsx(ge.StrictMode,{children:p.jsx(HQ,{})}));
